define("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(a,e,c){function b(g,f){a.each(f,function(h){if(h.constructor==RegExp){g=g.replace(h,"")}else{g=g.replace(h[0],h[1])}});return g}function d(i){var k=new c(),m=new e({},k),l="";var h=k.getShortEndedElements();var g=a.makeMap("script noscript style textarea video audio iframe object"," ");var j=k.getBlockElements();function f(p){var n=p.name,o=p;if(n==="br"){l+="\n";return}if(h[n]){l+=" "}if(g[n]){l+=" ";return}if(p.type==3){l+=p.value}if(!p.shortEnded){if((p=p.firstChild)){do{f(p)}while((p=p.next))}}if(j[n]&&o.next){l+="\n";if(n=="p"){l+="\n"}}}f(m.parse(i));return l}return{filter:b,innerText:d}});