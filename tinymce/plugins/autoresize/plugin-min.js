tinymce.PluginManager.add("autoresize",function(d){var c=d.settings,e=0;function b(){return d.plugins.fullscreen&&d.plugins.fullscreen.isFullscreen()}if(d.settings.inline){return}function a(m){var j,n,l,o,p=tinymce.DOM,i,h,g,k;n=d.getDoc();if(!n){return}l=n.body;o=n.documentElement;i=c.autoresize_min_height;if(!l||(m&&m.type==="setcontent"&&m.initial)||b()){if(l&&o){l.style.overflowY="auto";o.style.overflowY="auto"}return}g=d.dom.getStyle(l,"margin-top",true);k=d.dom.getStyle(l,"margin-bottom",true);h=l.offsetHeight+parseInt(g,10)+parseInt(k,10);if(isNaN(h)||h<=0){h=tinymce.Env.ie?l.scrollHeight:(tinymce.Env.webkit&&l.clientHeight===0?0:l.offsetHeight)}if(h>c.autoresize_min_height){i=h}if(c.autoresize_max_height&&h>c.autoresize_max_height){i=c.autoresize_max_height;l.style.overflowY="auto";o.style.overflowY="auto"}else{l.style.overflowY="hidden";o.style.overflowY="hidden";l.scrollTop=0}if(i!==e){j=i-e;p.setStyle(p.get(d.id+"_ifr"),"height",i+"px");e=i;if(tinymce.isWebKit&&j<0){a(m)}}}function f(h,g,i){setTimeout(function(){a({});if(h--){f(h,g,i)}else{if(i){i()}}},g)}c.autoresize_min_height=parseInt(d.getParam("autoresize_min_height",d.getElement().offsetHeight),10);c.autoresize_max_height=parseInt(d.getParam("autoresize_max_height",0),10);d.on("init",function(){var g=d.getParam("autoresize_overflow_padding",1);d.dom.setStyles(d.getBody(),{paddingBottom:d.getParam("autoresize_bottom_margin",50),paddingLeft:g,paddingRight:g})});d.on("nodechange setcontent keyup FullscreenStateChanged",a);if(d.getParam("autoresize_on_init",true)){d.on("init",function(){f(20,100,function(){f(5,1000)})})}d.addCommand("mceAutoResize",a)});