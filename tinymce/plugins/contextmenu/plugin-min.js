tinymce.PluginManager.add("contextmenu",function(b){var c,a=b.settings.contextmenu_never_use_native;b.on("contextmenu",function(h){var g;if(h.ctrlKey&&!a){return}h.preventDefault();g=b.settings.contextmenu||"link image inserttable | cell row column deletetable";if(!c){var d=[];tinymce.each(g.split(/[ ,]/),function(e){var i=b.menuItems[e];if(e=="|"){i={text:e}}if(i){i.shortcut="";d.push(i)}});for(var f=0;f<d.length;f++){if(d[f].text=="|"){if(f===0||f==d.length-1){d.splice(f,1)}}}c=new tinymce.ui.Menu({items:d,context:"contextmenu"}).addClass("contextmenu").renderTo();b.on("remove",function(){c.remove();c=null})}else{c.show()}var j={x:h.pageX,y:h.pageY};if(!b.inline){j=tinymce.DOM.getPos(b.getContentAreaContainer());j.x+=h.clientX;j.y+=h.clientY}c.moveTo(j.x,j.y)})});