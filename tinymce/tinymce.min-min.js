!function(aU,aC){function aK(d,b){for(var f,c=[],a=0;a<d.length;++a){if(f=aD[d[a]]||aJ(d[a]),!f){throw"module definition dependecy not found: "+d[a]}c.push(f)}b.apply(null,c)}function aE(c,b,a){if("string"!=typeof c){throw"invalid module definition, module id must be defined and be a string"}if(b===aC){throw"invalid module definition, dependencies must be specified"}if(a===aC){throw"invalid module definition, definition function must be specified"}aK(b,function(){aD[c]=a.apply(null,arguments)})}function aQ(a){return !!aD[a]}function aJ(b){for(var d=aU,c=b.split(/[.\/]/),a=0;a<c.length;++a){if(!d[c[a]]){return}d=d[c[a]]}return d}function aZ(g){for(var e=0;e<g.length;e++){for(var d=aU,f=g[e],c=f.split(/[.\/]/),b=0;b<c.length-1;++b){d[c[b]]===aC&&(d[c[b]]={}),d=d[c[b]]}d[c[c.length-1]]=aD[f]}}var aD={},aN="tinymce/dom/EventUtils",aW="tinymce/dom/Sizzle",aB="tinymce/dom/DomQuery",aV="tinymce/html/Styles",aT="tinymce/dom/TreeWalker",aI="tinymce/util/Tools",aL="tinymce/dom/Range",aR="tinymce/html/Entities",aS="tinymce/Env",aA="tinymce/dom/StyleSheetLoader",av="tinymce/dom/DOMUtils",aY="tinymce/dom/ScriptLoader",by="tinymce/AddOnManager",aw="tinymce/html/Node",ax="tinymce/html/Schema",a0="tinymce/html/SaxParser",bl="tinymce/html/DomParser",bw="tinymce/html/Writer",be="tinymce/html/Serializer",aO="tinymce/dom/Serializer",bc="tinymce/dom/TridentSelection",bg="tinymce/util/VK",bB="tinymce/dom/ControlSelection",bA="tinymce/dom/RangeUtils",bo="tinymce/dom/Selection",bx="tinymce/fmt/Preview",bn="tinymce/Formatter",bs="tinymce/UndoManager",bi="tinymce/EnterKey",bj="tinymce/ForceBlocks",br="tinymce/EditorCommands",bv="tinymce/util/URI",au="tinymce/util/Class",a8="tinymce/ui/Selector",ba="tinymce/ui/Collection",bb="tinymce/ui/DomUtils",aH="tinymce/ui/Control",bL="tinymce/ui/Factory",aP="tinymce/ui/KeyboardNavigation",bp="tinymce/ui/Container",a4="tinymce/ui/DragHelper",bu="tinymce/ui/Scrollable",a6="tinymce/ui/Panel",bq="tinymce/ui/Movable",bh="tinymce/ui/Resizable",a3="tinymce/ui/FloatPanel",bW="tinymce/ui/Window",bd="tinymce/ui/MessageBox",a5="tinymce/WindowManager",bQ="tinymce/util/Quirks",aq="tinymce/util/Observable",ay="tinymce/Shortcuts",bz="tinymce/Editor",bG="tinymce/util/I18n",bO="tinymce/FocusManager",ap="tinymce/EditorManager",aF="tinymce/LegacyInput",ah="tinymce/util/XHR",bM="tinymce/util/JSON",ak="tinymce/util/JSONRequest",bE="tinymce/util/JSONP",a1="tinymce/util/LocalStorage",bC="tinymce/Compat",am="tinymce/ui/Layout",bI="tinymce/ui/AbsoluteLayout",aX="tinymce/ui/Tooltip",a2="tinymce/ui/Widget",bS="tinymce/ui/Button",ae="tinymce/ui/ButtonGroup",bV="tinymce/ui/Checkbox",bH="tinymce/ui/PanelButton",aj="tinymce/ui/ColorButton",bT="tinymce/ui/ComboBox",aa="tinymce/ui/Path",bJ="tinymce/ui/ElementPath",af="tinymce/ui/FormItem",bN="tinymce/ui/Form",bD="tinymce/ui/FieldSet",ad="tinymce/ui/FilePicker",ar="tinymce/ui/FitLayout",bR="tinymce/ui/FlexLayout",bF="tinymce/ui/FlowLayout",aG="tinymce/ui/FormatControls",bf="tinymce/ui/GridLayout",a7="tinymce/ui/Iframe",ab="tinymce/ui/Label",bk="tinymce/ui/Toolbar",ao="tinymce/ui/MenuBar",aM="tinymce/ui/MenuButton",bm="tinymce/ui/ListBox",ac="tinymce/ui/MenuItem",a9="tinymce/ui/Menu",ai="tinymce/ui/Radio",al="tinymce/ui/ResizeHandle",bU="tinymce/ui/Spacer",bP="tinymce/ui/SplitButton",ag="tinymce/ui/StackLayout",az="tinymce/ui/TabPanel",an="tinymce/ui/TextBox",bK="tinymce/ui/Throbber";aE(aN,[],function(){function h(l,a,m,i){l.addEventListener?l.addEventListener(a,m,i||!1):l.attachEvent&&l.attachEvent("on"+a,m)}function d(l,a,m,i){l.removeEventListener?l.removeEventListener(a,m,i||!1):l.detachEvent&&l.detachEvent("on"+a,m)}function k(v,z){function p(){return !1}function a(){return !0}var s,m=z||{},q;for(s in v){f[s]||(m[s]=v[s])}if(m.target||(m.target=m.srcElement||document),v&&b.test(v.type)&&v.pageX===q&&v.clientX!==q){var x=m.target.ownerDocument||document,y=x.documentElement,w=x.body;m.pageX=v.clientX+(y&&y.scrollLeft||w&&w.scrollLeft||0)-(y&&y.clientLeft||w&&w.clientLeft||0),m.pageY=v.clientY+(y&&y.scrollTop||w&&w.scrollTop||0)-(y&&y.clientTop||w&&w.clientTop||0)}return m.preventDefault=function(){m.isDefaultPrevented=a,v&&(v.preventDefault?v.preventDefault():v.returnValue=!1)},m.stopPropagation=function(){m.isPropagationStopped=a,v&&(v.stopPropagation?v.stopPropagation():v.cancelBubble=!0)},m.stopImmediatePropagation=function(){m.isImmediatePropagationStopped=a,m.stopPropagation()},m.isDefaultPrevented||(m.isDefaultPrevented=p,m.isPropagationStopped=p,m.isImmediatePropagationStopped=p),m}function g(w,t,p){function u(){p.domLoaded||(p.domLoaded=!0,t(v))}function m(){("complete"===e.readyState||"interactive"===e.readyState&&e.body)&&(d(e,"readystatechange",m),u())}function q(){try{e.documentElement.doScroll("left")}catch(a){return void setTimeout(q,0)}u()}var e=w.document,v={type:"ready"};return p.domLoaded?void t(v):(e.addEventListener?"complete"===e.readyState?u():h(w,"DOMContentLoaded",u):(h(e,"readystatechange",m),e.documentElement.doScroll&&w.self===w.top&&q()),void h(w,"load",u))}function c(){function o(w,u){var y,v,s,x,l=p[u];if(y=l&&l[w.type]){for(v=0,s=y.length;s>v;v++){if(x=y[v],x&&x.func.call(x.scope,w)===!1&&w.preventDefault(),w.isImmediatePropagationStopped()){return}}}}var m=this,p={},e,t,n,r,q;t=j+(+new Date).toString(32),r="onmouseenter" in document.documentElement,n="onfocusin" in document.documentElement,q={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,m.domLoaded=!1,m.events=p,m.bind=function(H,l,i,s){function u(v){o(k(v||F.event),z)}var z,G,B,A,a,D,E,F=window;if(H&&3!==H.nodeType&&8!==H.nodeType){for(H[t]?z=H[t]:(z=e++,H[t]=z,p[z]={}),s=s||H,l=l.split(" "),B=l.length;B--;){A=l[B],D=u,a=E=!1,"DOMContentLoaded"===A&&(A="ready"),m.domLoaded&&"ready"===A&&"complete"==H.readyState?i.call(s,k({type:A})):(r||(a=q[A],a&&(D=function(x){var v,w;if(v=x.currentTarget,w=x.relatedTarget,w&&v.contains){w=v.contains(w)}else{for(;w&&w!==v;){w=w.parentNode}}w||(x=k(x||F.event),x.type="mouseout"===x.type?"mouseleave":"mouseenter",x.target=v,o(x,z))})),n||"focusin"!==A&&"focusout"!==A||(E=!0,a="focusin"===A?"focus":"blur",D=function(v){v=k(v||F.event),v.type="focus"===v.type?"focusin":"focusout",o(v,z)}),G=p[z][A],G?"ready"===A&&m.domLoaded?i({type:A}):G.push({func:i,scope:s}):(p[z][A]=G=[{func:i,scope:s}],G.fakeName=a,G.capture=E,G.nativeHandler=D,"ready"===A?g(H,D,m):h(H,a||A,D,E)))}return H=G=0,i}},m.unbind=function(D,w,a){var z,v,y,F,E,C;if(!D||3===D.nodeType||8===D.nodeType){return m}if(z=D[t]){if(C=p[z],w){for(w=w.split(" "),y=w.length;y--;){if(E=w[y],v=C[E]){if(a){for(F=v.length;F--;){if(v[F].func===a){var s=v.nativeHandler,x=v.fakeName,A=v.capture;v=v.slice(0,F).concat(v.slice(F+1)),v.nativeHandler=s,v.fakeName=x,v.capture=A,C[E]=v}}}a&&0!==v.length||(delete C[E],d(D,v.fakeName||E,v.nativeHandler,v.capture))}}}else{for(E in C){v=C[E],d(D,v.fakeName||E,v.nativeHandler,v.capture)}C={}}for(E in C){return m}delete p[z];try{delete D[t]}catch(B){D[t]=null}}return m},m.fire=function(l,a,i){var s;if(!l||3===l.nodeType||8===l.nodeType){return m}i=k(null,i),i.type=a,i.target=l;do{s=l[t],s&&o(i,s),l=l.parentNode||l.ownerDocument||l.defaultView||l.parentWindow}while(l&&!i.isPropagationStopped());return m},m.clean=function(l){var a,s,i=m.unbind;if(!l||3===l.nodeType||8===l.nodeType){return m}if(l[t]&&i(l),l.getElementsByTagName||(l=l.document),l&&l.getElementsByTagName){for(i(l),s=l.getElementsByTagName("*"),a=s.length;a--;){l=s[a],l[t]&&i(l)}}return m},m.destroy=function(){p={}},m.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var j="mce-data-",b=/^(?:mouse|contextmenu)|click/,f={keyLocation:1,layerX:1,layerY:1,returnValue:1};return c.Event=new c,c.Event.bind(window,"ready",function(){}),c}),aE(aW,[],function(){function co(a){return cw.test(a+"")}function cf(){var b,a=[];return b=function(d,c){return a.push(d+=" ")>cv.cacheLength&&delete b[a.shift()],b[d]=c,c}}function ca(a){return a[cR]=!0,a}function ck(b){var a=cZ.createElement("div");try{return !!b(a)}catch(c){return !1}finally{a=null}}function ce(z,C,k,b){var v,j,B,D,u,A,y,d,q,w;if((C?C.ownerDocument||C:cU)!==cZ&&c0(C),C=C||cZ,k=k||[],!z||"string"!=typeof z){return k}if(1!==(D=C.nodeType)&&9!==D){return[]}if(cW&&!b){if(v=c1.exec(z)){if(B=v[1]){if(9===D){if(j=C.getElementById(B),!j||!j.parentNode){return k}if(j.id===B){return k.push(j),k}}else{if(C.ownerDocument&&(j=C.ownerDocument.getElementById(B))&&cL(C,j)&&j.id===B){return k.push(j),k}}}else{if(v[2]){return cy.apply(k,C.getElementsByTagName(z)),k}if((B=v[3])&&b2.getElementsByClassName&&C.getElementsByClassName){return cy.apply(k,C.getElementsByClassName(B)),k}}}if(b2.qsa&&!cN.test(z)){if(y=!0,d=cR,q=C,w=9===D&&z,1===D&&"object"!==C.nodeName.toLowerCase()){for(A=b8(z),(y=C.getAttribute("id"))?d=y.replace(cr,"\\$&"):C.setAttribute("id",d),d="[id='"+d+"'] ",u=A.length;u--;){A[u]=d+cp(A[u])}q=c2.test(z)&&C.parentNode||C,w=A.join(",")}if(w){try{return cy.apply(k,q.querySelectorAll(w)),k}catch(x){}finally{y||C.removeAttribute("id")}}}}return cs(z.replace(c7,"$1"),C,k,b)}function cu(c,a){var d=a&&c,b=d&&(~a.sourceIndex||cT)-(~c.sourceIndex||cT);if(b){return b}if(d){for(;d=d.nextSibling;){if(d===a){return -1}}}return c?1:-1}function b9(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ch(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function cq(a){return ca(function(b){return b=+b,ca(function(g,e){for(var d,f=a([],g.length,b),c=f.length;c--;){g[d=f[c]]&&(g[d]=!(e[d]=g[d]))}})})}function b8(h,o){var d,b,g,k,p,f,j,m=cc[h+" "];if(m){return o?0:m.slice(0)}for(p=h,f=[],j=cv.preFilter;p;){(!d||(b=b0.exec(p)))&&(b&&(p=p.slice(b[0].length)||p),f.push(g=[])),d=!1,(b=cb.exec(p))&&(d=b.shift(),g.push({value:d,type:b[0].replace(c7," ")}),p=p.slice(d.length));for(k in cv.filter){!(b=bY[k].exec(p))||j[k]&&!(b=j[k](b))||(d=b.shift(),g.push({value:d,type:k,matches:b}),p=p.slice(d.length))}if(!d){break}}return o?p.length:p?ce.error(h):cc(h,f).slice(0)}function cp(c){for(var a=0,d=c.length,b="";d>a;a++){b+=c[a].value}return b}function cn(d,b,g){var c=b.dir,a=g&&"parentNode"===c,f=cD++;return b.first?function(e,i,h){for(;e=e[c];){if(1===e.nodeType||a){return d(e,i,h)}}}:function(j,o,h){var k,e,m,i=cC+" "+f;if(h){for(;j=j[c];){if((1===j.nodeType||a)&&d(j,o,h)){return !0}}}else{for(;j=j[c];){if(1===j.nodeType||a){if(m=j[cR]||(j[cR]={}),(e=m[c])&&e[0]===i){if((k=e[1])===!0||k===b5){return k===!0}}else{if(e=m[c]=[i],e[1]=d(j,o,h)||b5,e[1]===!0){return !0}}}}}}}function cd(a){return a.length>1?function(c,e,d){for(var b=a.length;b--;){if(!a[b](c,e,d)){return !1}}return !0}:a[0]}function cg(j,p,f,b,h){for(var d,m=[],q=0,g=j.length,k=null!=p;g>q;q++){(d=j[q])&&(!f||f(d,b,h))&&(m.push(d),k&&p.push(q))}return m}function cl(f,d,h,c,g,b){return c&&!c[cR]&&(c=cl(c)),g&&!g[cR]&&(g=cl(g,b)),ca(function(e,x,A,j){var q,z,o,n=[],i=[],k=x.length,m=e||b3(d||"*",A.nodeType?[A]:A,[]),y=!f||!e&&d?m:cg(m,n,f,A,j),w=h?g||(e?f:k||c)?[]:x:y;if(h&&h(y,w,A,j),c){for(q=cg(w,i),c(q,[],A,j),z=q.length;z--;){(o=q[z])&&(w[i[z]]=!(y[i[z]]=o))}}if(e){if(g||f){if(g){for(q=[],z=w.length;z--;){(o=w[z])&&q.push(y[z]=o)}g(null,w=[],q,j)}for(z=w.length;z--;){(o=w[z])&&(q=g?cG.call(e,o):n[z])>-1&&(e[q]=!(x[q]=o))}}}else{w=cg(w===x?w.splice(k,w.length):w),g?g(null,x,w,j):cy.apply(x,w)}})}function cm(j){for(var q,f,b,h=j.length,d=cv.relative[j[0].type],m=d||cv.relative[" "],v=d?1:0,g=cn(function(a){return a===q},m,!0),k=cn(function(a){return cG.call(q,a)>-1},m,!0),p=[function(c,i,a){return !d&&(a||i!==ci)||((q=i).nodeType?g(c,i,a):k(c,i,a))}];h>v;v++){if(f=cv.relative[j[v].type]){p=[cn(cd(p),f)]}else{if(f=cv.filter[j[v].type].apply(null,j[v].matches),f[cR]){for(b=++v;h>b&&!cv.relative[j[b].type];b++){}return cl(v>1&&cd(p),v>1&&cp(j.slice(0,v-1)).replace(c7,"$1"),f,b>v&&cm(j.slice(v,b)),h>b&&cm(j=j.slice(b)),h>b&&cp(j))}p.push(f)}}return cd(p)}function b7(g,d){var h=0,c=d.length>0,b=g.length>0,f=function(a,F,j,w,E){var q,n,i,k=[],m=0,D="0",A=a&&[],z=null!=E,e=ci,B=a||b&&cv.find.TAG("*",E&&F.parentNode||F),o=cC+=null==e?1:Math.random()||0.1;for(z&&(ci=F!==cZ&&F,b5=h);null!=(q=B[D]);D++){if(b&&q){for(n=0;i=g[n++];){if(i(q,F,j)){w.push(q);break}}z&&(cC=o,b5=++h)}c&&((q=!i&&q)&&m--,a&&A.push(q))}if(m+=D,c&&D!==m){for(n=0;i=d[n++];){i(A,k,F,j)}if(a){if(m>0){for(;D--;){A[D]||k[D]||(k[D]=cQ.call(w))}}k=cg(k)}cy.apply(w,k),z&&!a&&k.length>0&&m+d.length>1&&ce.uniqueSort(w)}return z&&(cC=o,ci=e),A};return c?ca(f):f}function b3(d,b,f){for(var c=0,a=b.length;a>c;c++){ce(d,b[c],f)}return f}function cs(j,p,f,b){var h,d,m,q,g,k=b8(j);if(!b&&1===k.length){if(d=k[0]=k[0].slice(0),d.length>2&&"ID"===(m=d[0]).type&&9===p.nodeType&&cW&&cv.relative[d[1].type]){if(p=(cv.find.ID(m.matches[0].replace(c9,t),p)||[])[0],!p){return f}j=j.slice(d.shift().value.length)}for(h=bY.needsContext.test(j)?0:d.length;h--&&(m=d[h],!cv.relative[q=m.type]);){if((g=cv.find[q])&&(b=g(m.matches[0].replace(c9,t),c2.test(d[0].type)&&p.parentNode||p))){if(d.splice(h,1),j=b.length&&cp(d),!j){return cy.apply(f,b),f}break}}}return cH(j,k)(b,p,!cW,f,c2.test(j)),f}function cX(){}var b4,b5,cv,cM,cV,cH,ci,cF,cI,c0,cZ,cO,cW,cN,cS,cK,cL,cR="sizzle"+-new Date,cU=window.document,b2={},cC=0,cD=0,cE=cf(),cc=cf(),c5=cf(),cj=!1,cP=function(){return 0},cz=typeof aC,cT=1<<31,cB=[],cQ=cB.pop,cJ=cB.push,cy=cB.push,db=cB.slice,cG=cB.indexOf||function(b){for(var a=0,c=this.length;c>a;a++){if(this[a]===b){return a}}return -1},cA="[\\x20\\t\\r\\n\\f]",c8="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",b1=c8.replace("w","w#"),b6="([*^$|!~]?=)",cY="\\["+cA+"*("+c8+")"+cA+"*(?:"+b6+cA+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+b1+")|)|)"+cA+"*\\]",c3=":("+c8+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+cY.replace(3,8)+")*)|.*)\\)|)",c7=new RegExp("^"+cA+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cA+"+$","g"),b0=new RegExp("^"+cA+"*,"+cA+"*"),cb=new RegExp("^"+cA+"*([\\x20\\t\\r\\n\\f>+~])"+cA+"*"),bX=new RegExp(c3),c6=new RegExp("^"+b1+"$"),bY={ID:new RegExp("^#("+c8+")"),CLASS:new RegExp("^\\.("+c8+")"),NAME:new RegExp("^\\[name=['\"]?("+c8+")['\"]?\\]"),TAG:new RegExp("^("+c8.replace("w","w*")+")"),ATTR:new RegExp("^"+cY),PSEUDO:new RegExp("^"+c3),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cA+"*(even|odd|(([+-]|)(\\d*)n|)"+cA+"*(?:([+-]|)"+cA+"*(\\d+)|))"+cA+"*\\)|)","i"),needsContext:new RegExp("^"+cA+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cA+"*((?:-\\d)?\\d*)"+cA+"*\\)|)(?=[^-]|$)","i")},c2=/[\x20\t\r\n\f]*[+~]/,cw=/^[^{]+\{\s*\[native code/,c1=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,bZ=/^(?:input|select|textarea|button)$/i,c4=/^h\d$/i,cr=/'|\\/g,cx=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,c9=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,t=function(b,a){var c="0x"+a-65536;return c!==c?a:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)};try{cy.apply(cB=db.call(cU.childNodes),cU.childNodes),cB[cU.childNodes.length].nodeType}catch(da){cy={apply:cB.length?function(b,a){cJ.apply(b,db.call(a))}:function(c,a){for(var d=c.length,b=0;c[d++]=a[b++];){}c.length=d-1}}}cV=ce.isXML=function(b){var a=b&&(b.ownerDocument||b).documentElement;return a?"HTML"!==a.nodeName:!1},c0=ce.setDocument=function(b){var a=b?b.ownerDocument||b:cU;return a!==cZ&&9===a.nodeType&&a.documentElement?(cZ=a,cO=a.documentElement,cW=!cV(a),b2.getElementsByTagName=ck(function(c){return c.appendChild(a.createComment("")),!c.getElementsByTagName("*").length}),b2.attributes=ck(function(d){d.innerHTML="<select></select>";var c=typeof d.lastChild.getAttribute("multiple");return"boolean"!==c&&"string"!==c}),b2.getElementsByClassName=ck(function(c){return c.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",c.getElementsByClassName&&c.getElementsByClassName("e").length?(c.lastChild.className="e",2===c.getElementsByClassName("e").length):!1}),b2.getByName=ck(function(d){d.id=cR+0,d.appendChild(cZ.createElement("a")).setAttribute("name",cR),d.appendChild(cZ.createElement("i")).setAttribute("name",cR),cO.appendChild(d);var c=a.getElementsByName&&a.getElementsByName(cR).length===2+a.getElementsByName(cR+0).length;return cO.removeChild(d),c}),b2.sortDetached=ck(function(c){return c.compareDocumentPosition&&1&c.compareDocumentPosition(cZ.createElement("div"))}),cv.attrHandle=ck(function(c){return c.innerHTML="<a href='#'></a>",c.firstChild&&typeof c.firstChild.getAttribute!==cz&&"#"===c.firstChild.getAttribute("href")})?{}:{href:function(c){return c.getAttribute("href",2)},type:function(c){return c.getAttribute("type")}},b2.getByName?(cv.find.ID=function(d,c){if(typeof c.getElementById!==cz&&cW){var f=c.getElementById(d);return f&&f.parentNode?[f]:[]}},cv.filter.ID=function(d){var c=d.replace(c9,t);return function(f){return f.getAttribute("id")===c}}):(cv.find.ID=function(d,f){if(typeof f.getElementById!==cz&&cW){var c=f.getElementById(d);return c?c.id===d||typeof c.getAttributeNode!==cz&&c.getAttributeNode("id").value===d?[c]:aC:[]}},cv.filter.ID=function(d){var c=d.replace(c9,t);return function(f){var g=typeof f.getAttributeNode!==cz&&f.getAttributeNode("id");return g&&g.value===c}}),cv.find.TAG=b2.getElementsByTagName?function(d,c){return typeof c.getElementsByTagName!==cz?c.getElementsByTagName(d):void 0}:function(g,d){var j,f=[],c=0,h=d.getElementsByTagName(g);if("*"===g){for(;j=h[c++];){1===j.nodeType&&f.push(j)}return f}return h},cv.find.NAME=b2.getByName&&function(d,c){return typeof c.getElementsByName!==cz?c.getElementsByName(name):void 0},cv.find.CLASS=b2.getElementsByClassName&&function(d,c){return typeof c.getElementsByClassName!==cz&&cW?c.getElementsByClassName(d):void 0},cS=[],cN=[":focus"],(b2.qsa=co(a.querySelectorAll))&&(ck(function(c){c.innerHTML="<select><option selected=''></option></select>",c.querySelectorAll("[selected]").length||cN.push("\\["+cA+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),c.querySelectorAll(":checked").length||cN.push(":checked")}),ck(function(c){c.innerHTML="<input type='hidden' i=''/>",c.querySelectorAll("[i^='']").length&&cN.push("[*^$]="+cA+"*(?:\"\"|'')"),c.querySelectorAll(":enabled").length||cN.push(":enabled",":disabled"),c.querySelectorAll("*,:x"),cN.push(",.*:")})),(b2.matchesSelector=co(cK=cO.matchesSelector||cO.mozMatchesSelector||cO.webkitMatchesSelector||cO.oMatchesSelector||cO.msMatchesSelector))&&ck(function(c){b2.disconnectedMatch=cK.call(c,"div"),cK.call(c,"[s!='']:x"),cS.push("!=",c3)}),cN=new RegExp(cN.join("|")),cS=cS.length&&new RegExp(cS.join("|")),cL=co(cO.contains)||cO.compareDocumentPosition?function(f,c){var g=9===f.nodeType?f.documentElement:f,d=c&&c.parentNode;return f===d||!(!d||1!==d.nodeType||!(g.contains?g.contains(d):f.compareDocumentPosition&&16&f.compareDocumentPosition(d)))}:function(d,c){if(c){for(;c=c.parentNode;){if(c===d){return !0}}}return !1},cP=cO.compareDocumentPosition?function(d,c){if(d===c){return cj=!0,0}var f=c.compareDocumentPosition&&d.compareDocumentPosition&&d.compareDocumentPosition(c);return f?1&f||cF&&c.compareDocumentPosition(d)===f?d===a||cL(cU,d)?-1:c===a||cL(cU,c)?1:cI?cG.call(cI,d)-cG.call(cI,c):0:4&f?-1:1:d.compareDocumentPosition?-1:1}:function(j,g){var p,f=0,k=j.parentNode,h=g.parentNode,d=[j],m=[g];if(j===g){return cj=!0,0}if(!k||!h){return j===a?-1:g===a?1:k?-1:h?1:0}if(k===h){return cu(j,g)}for(p=j;p=p.parentNode;){d.unshift(p)}for(p=g;p=p.parentNode;){m.unshift(p)}for(;d[f]===m[f];){f++}return f?cu(d[f],m[f]):d[f]===cU?-1:m[f]===cU?1:0},cZ):cZ},ce.matches=function(b,a){return ce(b,null,null,a)},ce.matchesSelector=function(c,a){if((c.ownerDocument||c)!==cZ&&c0(c),a=a.replace(cx,"='$1']"),b2.matchesSelector&&cW&&(!cS||!cS.test(a))&&!cN.test(a)){try{var d=cK.call(c,a);if(d||b2.disconnectedMatch||c.document&&11!==c.document.nodeType){return d}}catch(b){}}return ce(a,cZ,null,[c]).length>0},ce.contains=function(b,a){return(b.ownerDocument||b)!==cZ&&c0(b),cL(b,a)},ce.attr=function(b,a){var c;return(b.ownerDocument||b)!==cZ&&c0(b),cW&&(a=a.toLowerCase()),(c=cv.attrHandle[a])?c(b):!cW||b2.attributes?b.getAttribute(a):((c=b.getAttributeNode(a))||b.getAttribute(a))&&b[a]===!0?a:c&&c.specified?c.value:null},ce.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ce.uniqueSort=function(d){var b,f=[],c=0,a=0;if(cj=!b2.detectDuplicates,cF=!b2.sortDetached,cI=!b2.sortStable&&d.slice(0),d.sort(cP),cj){for(;b=d[a++];){b===d[a]&&(c=f.push(a))}for(;c--;){d.splice(f[c],1)}}return d},cM=ce.getText=function(d){var b,f="",c=0,a=d.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof d.textContent){return d.textContent}for(d=d.firstChild;d;d=d.nextSibling){f+=cM(d)}}else{if(3===a||4===a){return d.nodeValue}}}else{for(;b=d[c];c++){f+=cM(b)}}return f},cv=ce.selectors={cacheLength:50,createPseudo:ca,match:bY,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(c9,t),a[3]=(a[4]||a[5]||"").replace(c9,t),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ce.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ce.error(a[0]),a},PSEUDO:function(b){var a,c=!b[5]&&b[2];return bY.CHILD.test(b[0])?null:(b[4]?b[2]=b[4]:c&&bX.test(c)&&(a=b8(c,!0))&&(a=c.indexOf(")",c.length-a)-c.length)&&(b[0]=b[0].slice(0,a),b[2]=c.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return !0}:(a=a.replace(c9,t).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(b){var a=cE[b+" "];return a||(a=new RegExp("(^|"+cA+")"+b+"("+cA+"|$)"))&&cE(b,function(c){return a.test(c.className||typeof c.getAttribute!==cz&&c.getAttribute("class")||"")})},ATTR:function(b,a,c){return function(e){var d=ce.attr(e,b);return null==d?"!="===a:a?(d+="","="===a?d===c:"!="===a?d!==c:"^="===a?c&&0===d.indexOf(c):"*="===a?c&&d.indexOf(c)>-1:"$="===a?c&&d.slice(-c.length)===c:"~="===a?(" "+d+" ").indexOf(c)>-1:"|="===a?d===c||d.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(h,d,k,g,c){var j="nth"!==h.slice(0,3),b="last"!==h.slice(-4),f="of-type"===d;return 1===g&&0===c?function(a){return !!a.parentNode}:function(C,e,o){var x,B,w,s,a,i,q=j!==b?"nextSibling":"previousSibling",r=C.parentNode,A=f&&C.nodeName.toLowerCase(),z=!o&&!f;if(r){if(j){for(;q;){for(w=C;w=w[q];){if(f?w.nodeName.toLowerCase()===A:1===w.nodeType){return !1}}i=q="only"===h&&!i&&"nextSibling"}return !0}if(i=[b?r.firstChild:r.lastChild],b&&z){for(B=r[cR]||(r[cR]={}),x=B[h]||[],a=x[0]===cC&&x[1],s=x[0]===cC&&x[2],w=a&&r.childNodes[a];w=++a&&w&&w[q]||(s=a=0)||i.pop();){if(1===w.nodeType&&++s&&w===C){B[h]=[cC,a,s];break}}}else{if(z&&(x=(C[cR]||(C[cR]={}))[h])&&x[0]===cC){s=x[1]}else{for(;(w=++a&&w&&w[q]||(s=a=0)||i.pop())&&((f?w.nodeName.toLowerCase()!==A:1!==w.nodeType)||!++s||(z&&((w[cR]||(w[cR]={}))[h]=[cC,s]),w!==C));){}}}return s-=c,s===g||s%g===0&&s/g>=0}}},PSEUDO:function(c,b){var d,a=cv.pseudos[c]||cv.setFilters[c.toLowerCase()]||ce.error("unsupported pseudo: "+c);return a[cR]?a(b):a.length>1?(d=[c,c,"",b],cv.setFilters.hasOwnProperty(c.toLowerCase())?ca(function(h,j){for(var g,i=a(h,b),f=i.length;f--;){g=cG.call(h,i[f]),h[g]=!(j[g]=i[f])}}):function(f){return a(f,0,d)}):a}},pseudos:{not:ca(function(c){var b=[],d=[],a=cH(c.replace(c7,"$1"));return a[cR]?ca(function(j,g,l,i){for(var k,f=a(j,null,i,[]),h=j.length;h--;){(k=f[h])&&(j[h]=!(g[h]=k))}}):function(g,f,h){return b[0]=g,a(b,null,h,d),!d.pop()}}),has:ca(function(a){return function(b){return ce(a,b).length>0}}),contains:ca(function(a){return function(b){return(b.textContent||b.innerText||cM(b)).indexOf(a)>-1}}),lang:ca(function(a){return c6.test(a||"")||ce.error("unsupported lang: "+a),a=a.replace(c9,t).toLowerCase(),function(b){var c;do{if(c=cW?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var a=window.location&&window.location.hash;return a&&a.slice(1)===b.id},root:function(a){return a===cO},focus:function(a){return a===cZ.activeElement&&(!cZ.hasFocus||cZ.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType){return !1}}return !0},parent:function(a){return !cv.pseudos.empty(a)},header:function(a){return c4.test(a.nodeName)},input:function(a){return bZ.test(a.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(a=b.getAttribute("type"))||a.toLowerCase()===b.type)},first:cq(function(){return[0]}),last:cq(function(b,a){return[a-1]}),eq:cq(function(b,a,c){return[0>c?c+a:c]}),even:cq(function(b,a){for(var c=0;a>c;c+=2){b.push(c)}return b}),odd:cq(function(b,a){for(var c=1;a>c;c+=2){b.push(c)}return b}),lt:cq(function(c,a,d){for(var b=0>d?d+a:d;--b>=0;){c.push(b)}return c}),gt:cq(function(c,a,d){for(var b=0>d?d+a:d;++b<a;){c.push(b)}return c})}};for(b4 in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){cv.pseudos[b4]=b9(b4)}for(b4 in {submit:!0,reset:!0}){cv.pseudos[b4]=ch(b4)}return cH=ce.compile=function(d,b){var g,c=[],a=[],f=c5[d+" "];if(!f){for(b||(b=b8(d)),g=b.length;g--;){f=cm(b[g]),f[cR]?c.push(f):a.push(f)}f=c5(d,b7(a,c))}return f},cv.pseudos.nth=cv.pseudos.eq,cX.prototype=cv.filters=cv.pseudos,cv.setFilters=new cX,b2.sortStable=cR.split("").sort(cP).join("")===cR,c0(),[0,0].sort(cP),b2.detectDuplicates=cj,ce}),aE(aB,[aN,aW],function(P,H){function E(a){return"undefined"!=typeof a}function K(a){return"string"==typeof a}function G(c){var a,d,b;for(b=z.createElement("div"),a=z.createDocumentFragment(),b.innerHTML=c;d=b.firstChild;){a.appendChild(d)}return a}function T(c,a,d){var b;if("string"==typeof a){a=G(a)}else{if(a.length){for(b=0;b<a.length;b++){T(c,a[b],d)}return c}}for(b=c.length;b--;){d.call(c[b],a.parentNode?a:a)}return c}function B(b,a){return b&&a&&-1!==(" "+b.className+" ").indexOf(" "+a+" ")}function J(b,a){var c;for(b=b||[],"string"==typeof b&&(b=b.split(" ")),a=a||{},c=b.length;c--;){a[b[c]]={}}return a}function R(b,a){return new R.fn.init(b,a)}function A(d){var b=arguments,f,c,a;for(c=1;c<b.length;c++){f=b[c];for(a in f){d[a]=f[a]}}return d}function Q(c){var a=[],d,b;for(d=0,b=c.length;b>d;d++){a[d]=c[d]}return a}function O(b,a){var c;if(a.indexOf){return a.indexOf(b)}for(c=a.length;c--;){if(a[c]===b){return c}}return -1}function F(a){return null===a||a===aC?"":(""+a).replace(j,"")}function I(g,d){var l,f,c,h,b;if(g){if(l=g.length,l===h){for(f in g){if(g.hasOwnProperty(f)&&(b=g[f],d.call(b,b,f)===!1)){break}}}else{for(c=0;l>c&&(b=g[c],d.call(b,b,f)!==!1);c++){}}}return g}function L(c,f,b){for(var a=[],d=c[f];d&&9!==d.nodeType&&(b===aC||1!==d.nodeType||!R(d).is(b));){1===d.nodeType&&a.push(d),d=d[f]}return a}function M(d,b,f,c){for(var a=[];d;d=d[f]){c&&d.nodeType!==c||d===b||a.push(d)}return a}var z=document,k=Array.prototype.push,S=Array.prototype.slice,D=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,q=P.Event,t=J("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"),U=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},j=/^\s*|\s*$/g;return R.fn=R.prototype={constructor:R,selector:"",length:0,init:function(f,c){var g=this,d,b;if(!f){return g}if(f.nodeType){return g.context=g[0]=f,g.length=1,g}if(K(f)){if(d="<"===f.charAt(0)&&">"===f.charAt(f.length-1)&&f.length>=3?[null,f,null]:D.exec(f),!d){return R(c||document).find(f)}if(d[1]){for(b=G(f).firstChild;b;){this.add(b),b=b.nextSibling}}else{if(b=z.getElementById(d[2]),b.id!==d[2]){return g.find(f)}g.length=1,g[0]=b}}else{this.add(f)}return g},toArray:function(){return Q(this)},add:function(b){var a=this;return U(b)?k.apply(a,b):b instanceof R?a.add(b.toArray()):k.call(a,b),a},attr:function(b,c){var a=this;if("object"==typeof b){I(b,function(f,d){a.attr(d,f)})}else{if(!E(c)){return a[0]&&1===a[0].nodeType?a[0].getAttribute(b):aC}this.each(function(){1===this.nodeType&&this.setAttribute(b,c)})}return a},css:function(b,c){var a=this;if("object"==typeof b){I(b,function(f,d){a.css(d,f)})}else{if(b=b.replace(/-(\D)/g,function(f,d){return d.toUpperCase()}),!E(c)){return a[0]?a[0].style[b]:aC}"number"!=typeof c||t[b]||(c+="px"),a.each(function(){var d=this.style;"opacity"===b&&this.runtimeStyle&&"undefined"==typeof this.runtimeStyle.opacity&&(d.filter=""===c?"":"alpha(opacity="+100*c+")");try{d[b]=c}catch(e){}})}return a},remove:function(){for(var b=this,a,c=this.length;c--;){a=b[c],q.clean(a),a.parentNode&&a.parentNode.removeChild(a)}return this},empty:function(){for(var b=this,a,c=this.length;c--;){for(a=b[c];a.firstChild;){a.removeChild(a.firstChild)}}return this},html:function(b){var a=this,c;if(E(b)){for(c=a.length;c--;){a[c].innerHTML=b}return a}return a[0]?a[0].innerHTML:""},text:function(b){var a=this,c;if(E(b)){for(c=a.length;c--;){a[c].innerText=a[0].textContent=b}return a}return a[0]?a[0].innerText||a[0].textContent:""},append:function(){return T(this,arguments,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return T(this,arguments,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){var a=this;return a[0]&&a[0].parentNode?T(a,arguments,function(b){this.parentNode.insertBefore(b,this.nextSibling)}):a},after:function(){var a=this;return a[0]&&a[0].parentNode?T(a,arguments,function(b){this.parentNode.insertBefore(b,this)}):a},appendTo:function(a){return R(a).append(this),this},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(b,a){var c=this;return -1!==b.indexOf(" ")?I(b.split(" "),function(){c.toggleClass(this,a)}):c.each(function(e){var d;B(e,b)!==a&&(d=e.className,a?e.className+=d?" "+b:b:e.className=F((" "+d+" ").replace(" "+b+" "," ")))}),c},hasClass:function(a){return B(this[0],a)},each:function(a){return I(this,a)},on:function(b,a){return this.each(function(){q.bind(this,b,a)})},off:function(b,a){return this.each(function(){q.unbind(this,b,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new R(S.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(b){var a=this;return a[0]&&a[0].parentNode.replaceChild(R(b)[0],a[0]),a},wrap:function(a){return a=R(a)[0],this.each(function(){var b=this,c=a.cloneNode(!1);b.parentNode.insertBefore(c,b),c.appendChild(b)})},unwrap:function(){return this.each(function(){for(var b=this,a=b.firstChild,c;a;){c=a,a=a.nextSibling,b.parentNode.insertBefore(c,b)}})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),R(a)},find:function(c){var a,d,b=[];for(a=0,d=this.length;d>a;a++){R.find(c,this[a],b)}return R(b)},push:k,sort:[].sort,splice:[].splice},A(R,{extend:A,toArray:Q,inArray:O,isArray:U,each:I,trim:F,makeMap:J,find:H,expr:H.selectors,unique:H.uniqueSort,text:H.getText,isXMLDoc:H.isXML,contains:H.contains,filter:function(b,a,c){return c&&(b=":not("+b+")"),a=1===a.length?R.find.matchesSelector(a[0],b)?[a[0]]:[]:R.find.matches(b,a)}}),I({parent:function(b){var a=b.parentNode;return a&&11!==a.nodeType?a:null},parents:function(a){return L(a,"parentNode")},parentsUntil:function(b,a){return L(b,"parentNode",a)},next:function(a){return M(a,"nextSibling",1)},prev:function(a){return M(a,"previousSibling",1)},nextNodes:function(a){return M(a,"nextSibling")},prevNodes:function(a){return M(a,"previousSibling")},children:function(a){return M(a.firstChild,"nextSibling",1)},contents:function(a){return Q(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(b,a){R.fn[b]=function(e){var d=this,c;if(d.length>1){throw new Error("DomQuery only supports traverse functions on a single node.")}return d[0]&&(c=a(d[0],e)),c=R(c),e&&"parentsUntil"!==b?c.filter(e):c}}),R.fn.filter=function(a){return R.filter(a)},R.fn.is=function(a){return !!a&&this.filter(a).length>0},R.fn.init.prototype=R.fn,R}),aE(aV,[],function(){return function(k,w){function g(l,c,o,d){function a(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+a(c)+a(o)+a(d)}var b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,j=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,q=/\s+$/,x,h,p={},v,m="\ufeff";for(k=k||{},v=("\\\" \\' \\; \\: ; : "+m).split(" "),h=0;h<v.length;h++){p[v[h]]=m+h,p[m+h]=v[h]}return{toHex:function(a){return a.replace(b,g)},parse:function(E){function F(H,y,J){var G,u,I,d;if(G=i[H+"-top"+y],G&&(u=i[H+"-right"+y],u&&(I=i[H+"-bottom"+y],I&&(d=i[H+"-left"+y])))){var C=[G,u,I,d];for(h=C.length-1;h--&&C[h]===C[h+1];){}h>-1&&J||(i[H+y]=-1==h?C[0]:C.join(" "),delete i[H+"-top"+y],delete i[H+"-right"+y],delete i[H+"-bottom"+y],delete i[H+"-left"+y])}}function D(s){var d=i[s],u;if(d){for(d=d.split(" "),u=d.length;u--;){if(d[u]!==d[0]){return !1}}return i[s]=d[0],!0}}function o(u,d,y,s){D(d)&&D(y)&&D(s)&&(i[u]=i[d]+" "+i[y]+" "+i[s],delete i[d],delete i[y],delete i[s])}function n(d){return r=!0,p[d]}function c(s,d){return r&&(s=s.replace(/\uFEFF[0-9]/g,function(t){return p[t]})),d||(s=s.replace(/\\([\'\";:])/g,"$1")),s}function e(u,G,y,s,C,d){return(C=C||d)?(C=c(C),"'"+C.replace(/\'/g,"\\'")+"'"):(G=c(G||y||s),!k.allow_script_urls&&/(java|vb)script:/i.test(G.replace(/[\s\r\n]+/,""))?"":(a&&(G=a.call(A,G,"style")),"url('"+G.replace(/\'/g,"\\'")+"')"))}var i={},l,B,z,r,a=k.url_converter,A=k.url_converter_scope||this;if(E){for(E=E.replace(/[\u0000-\u001F]/g,""),E=E.replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(d){return d.replace(/[;:]/g,n)});l=f.exec(E);){if(B=l[1].replace(q,"").toLowerCase(),z=l[2].replace(q,""),B&&z.length>0){if(!k.allow_script_urls&&("behavior"==B||/expression\s*\(/.test(z))){continue}"font-weight"===B&&"700"===z?z="bold":("color"===B||"background-color"===B)&&(z=z.toLowerCase()),z=z.replace(b,g),z=z.replace(j,e),i[B]=r?c(z,!0):z}f.lastIndex=l.index+l[0].length}F("border","",!0),F("border","-width"),F("border","-color"),F("border","-style"),F("padding",""),F("margin",""),o("border","border-width","border-style","border-color"),"medium none"===i.border&&delete i.border,"none"===i["border-image"]&&delete i["border-image"]}return i},serialize:function(s,u){function l(A){var y,z,i,e;if(y=w.styles[A]){for(z=0,i=y.length;i>z;z++){A=y[z],e=s[A],e!==x&&e.length>0&&(d+=(d.length>0?" ":"")+A+": "+e+";")}}}var d="",t,c;if(u&&w&&w.styles){l("*"),l(u)}else{for(t in s){c=s[t],c!==x&&c.length>0&&(d+=(d.length>0?" ":"")+t+": "+c+";")}}return d}}}}),aE(aT,[],function(){return function(c,a){function d(j,l,h,g){var k,f;if(j){if(!g&&j[l]){return j[l]}if(j!=a){if(k=j[h]){return k}for(f=j.parentNode;f&&f!=a;f=f.parentNode){if(k=f[h]){return k}}}}}var b=c;this.current=function(){return b},this.next=function(f){return b=d(b,"firstChild","nextSibling",f)},this.prev=function(f){return b=d(b,"lastChild","previousSibling",f)}}}),aE(aI,[],function(){function A(a){return null===a||a===aC?"":(""+a).replace(x,"")}function q(a,c){return c?"array"==c&&y(a)?!0:typeof a==c:a!==aC}function b(d){var a=[],f,c;for(f=0,c=d.length;c>f;f++){a[f]=d[f]}return a}function w(d,a,f){var c;for(d=d||[],a=a||",","string"==typeof d&&(d=d.split(a)),f=f||{},c=d.length;c--;){f[d[c]]={}}return f}function k(d,g,c){var a,f;if(!d){return 0}if(c=c||d,d.length!==aC){for(a=0,f=d.length;f>a;a++){if(g.call(c,d[a],a,d)===!1){return 0}}}else{for(a in d){if(d.hasOwnProperty(a)&&g.call(c,d[a],a,d)===!1){return 0}}}return 1}function D(c,a){var d=[];return k(c,function(f){d.push(a(f))}),d}function F(c,a){var d=[];return k(c,function(f){(!a||a(f))&&d.push(f)}),d}function v(p,H,g){var d=this,m,f,G,I,h,u=0;if(p=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(p),G=p[3].match(/(^|\.)(\w+)$/i)[2],f=d.createNS(p[3].replace(/\.\w+$/,""),g),!f[G]){if("static"==p[2]){return f[G]=H,void (this.onCreate&&this.onCreate(p[2],p[3],f[G]))}H[G]||(H[G]=function(){},u=1),f[G]=H[G],d.extend(f[G].prototype,H),p[5]&&(m=d.resolve(p[5]).prototype,I=p[5].match(/\.(\w+)$/i)[1],h=f[G],f[G]=u?function(){return m[I].apply(this,arguments)}:function(){return this.parent=m[I],h.apply(this,arguments)},f[G].prototype[G]=f[G],d.each(m,function(c,a){f[G].prototype[a]=m[a]}),d.each(H,function(c,a){m[a]?f[G].prototype[a]=function(){return this.parent=m[a],c.apply(this,arguments)}:a!=G&&(f[G].prototype[a]=c)})),d.each(H["static"],function(c,a){f[G][a]=c})}}function C(d,a){var f,c;if(d){for(f=0,c=d.length;c>f;f++){if(d[f]===a){return f}}}return -1}function E(h,m){var g,d,l,c=arguments,f;for(g=1,d=c.length;d>g;g++){m=c[g];for(l in m){m.hasOwnProperty(l)&&(f=m[l],f!==aC&&(h[l]=f))}}return h}function B(d,a,f,c){c=c||this,d&&(f&&(d=d[f]),k(d,function(h,g){return a.call(c,h,g,f)===!1?!1:void B(h,a,f,c)}))}function z(d,a){var f,c;for(a=a||window,d=d.split("."),f=0;f<d.length;f++){c=d[f],a[c]||(a[c]={}),a=a[c]}return a}function j(d,a){var f,c;for(a=a||window,d=d.split("."),f=0,c=d.length;c>f&&(a=a[d[f]],a);f++){}return a}function t(a,c){return !a||q(a,"array")?a:D(a.split(c||","),A)}var x=/^\s*|\s*$/g,y=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:A,isArray:y,is:q,toArray:b,makeMap:w,each:k,map:D,grep:F,inArray:C,extend:E,create:v,walk:B,createNS:z,resolve:j,explode:t}}),aE(aL,[aI],function(b){function a(ch){function cd(){return bY.createDocumentFragment()}function cm(d,c){cu(bZ,d,c)}function cg(d,c){cu(b6,d,c)}function ct(c){cm(c.parentNode,cl(c))}function cc(c){cm(c.parentNode,cl(c)+1)}function cj(c){cg(c.parentNode,cl(c))}function cr(c){cg(c.parentNode,cl(c)+1)}function cb(c){c?(at[G]=at[t],at[ce]=at[e]):(at[t]=at[G],at[e]=at[ce]),at.collapsed=bZ}function cq(c){ct(c),cr(c)}function cp(c){cm(c,0),cg(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function cf(k,q){var g=at[t],d=at[e],j=at[G],f=at[ce],p=q.startContainer,u=q.startOffset,h=q.endContainer,m=q.endOffset;return 0===k?b9(g,d,p,u):1===k?b9(j,f,p,u):2===k?b9(j,f,h,m):3===k?b9(g,d,h,m):void 0}function ci(){Z(bX)}function cn(){return Z(X)}function co(){return Z(Y)}function ca(g){var d=this[t],f=this[e],c,h;3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(d.childNodes.length>0&&(h=d.childNodes[f]),h?d.insertBefore(g,h):3==d.nodeType?ch.insertAfter(g,d):d.appendChild(g)):f?f>=d.nodeValue.length?ch.insertAfter(g,d):(c=d.splitText(f),d.parentNode.insertBefore(g,c)):d.parentNode.insertBefore(g,d)}function b7(d){var c=at.extractContents();at.insertNode(d),d.appendChild(c),at.selectNode(d)}function cs(){return b5(new a(ch),{startContainer:at[t],startOffset:at[e],endContainer:at[G],endOffset:at[ce],collapsed:at.collapsed,commonAncestorContainer:at.commonAncestorContainer})}function b2(d,c){var f;if(3==d.nodeType){return d}if(0>c){return d}for(f=d.firstChild;f&&c>0;){--c,f=f.nextSibling}return f?f:d}function b8(){return at[t]==at[G]&&at[e]==at[ce]}function b9(j,p,d,h){var f,m,q,g,k,n;if(j==d){return p==h?0:h>p?-1:1}for(f=d;f&&f.parentNode!=j;){f=f.parentNode}if(f){for(m=0,q=j.firstChild;q!=f&&p>m;){m++,q=q.nextSibling}return m>=p?-1:1}for(f=j;f&&f.parentNode!=d;){f=f.parentNode}if(f){for(m=0,q=d.firstChild;q!=f&&h>m;){m++,q=q.nextSibling}return h>m?-1:1}for(g=ch.findCommonAncestor(j,d),k=j;k&&k.parentNode!=g;){k=k.parentNode}for(k||(k=g),n=d;n&&n.parentNode!=g;){n=n.parentNode}if(n||(n=g),k==n){return 0}for(q=g.firstChild;q;){if(q==k){return -1}if(q==n){return 1}q=q.nextSibling}}function cu(g,d,f){var c,h;for(g?(at[t]=d,at[e]=f):(at[G]=d,at[ce]=f),c=at[G];c.parentNode;){c=c.parentNode}for(h=at[t];h.parentNode;){h=h.parentNode}h==c?b9(at[t],at[e],at[G],at[ce])>0&&at.collapse(g):at.collapse(g),at.collapsed=b8(),at.commonAncestorContainer=ch.findCommonAncestor(at[t],at[G])}function Z(k){var q,g=0,d=0,j,f,p,u,h,m;if(at[t]==at[G]){return b0(k)}for(q=at[G],j=q.parentNode;j;q=j,j=j.parentNode){if(j==at[t]){return K(q,k)}++g}for(q=at[t],j=q.parentNode;j;q=j,j=j.parentNode){if(j==at[G]){return ck(q,k)}++d}for(f=d-g,p=at[t];f>0;){p=p.parentNode,f--}for(u=at[G];0>f;){u=u.parentNode,f++}for(h=p.parentNode,m=u.parentNode;h!=m;h=h.parentNode,m=m.parentNode){p=h,u=m}return J(p,u,k)}function b0(j){var q,f,h,d,m,r,g,k,p;if(j!=bX&&(q=cd()),at[e]==at[ce]){return q}if(3==at[t].nodeType){if(f=at[t].nodeValue,h=f.substring(at[e],at[ce]),j!=Y&&(d=at[t],k=at[e],p=at[ce]-at[e],0===k&&p>=d.nodeValue.length-1?d.parentNode.removeChild(d):d.deleteData(k,p),at.collapse(bZ)),j==bX){return}return h.length>0&&q.appendChild(bY.createTextNode(h)),q}for(d=b2(at[t],at[e]),m=at[ce]-at[e];d&&m>0;){r=d.nextSibling,g=bt(d,j),q&&q.appendChild(g),--m,d=r}return j!=Y&&at.collapse(bZ),q}function K(j,g){var m,f,k,d,h,c;if(g!=bX&&(m=cd()),f=Q(j,g),m&&m.appendChild(f),k=cl(j),d=k-at[e],0>=d){return g!=Y&&(at.setEndBefore(j),at.collapse(b6)),m}for(f=j.previousSibling;d>0;){h=f.previousSibling,c=bt(f,g),m&&m.insertBefore(c,m.firstChild),--d,f=h}return g!=Y&&(at.setEndBefore(j),at.collapse(b6)),m}function ck(j,g){var m,f,k,d,h,c;for(g!=bX&&(m=cd()),k=b4(j,g),m&&m.appendChild(k),f=cl(j),++f,d=at[ce]-f,k=j.nextSibling;k&&d>0;){h=k.nextSibling,c=bt(k,g),m&&m.appendChild(c),--d,k=h}return g!=Y&&(at.setStartAfter(j),at.collapse(bZ)),m}function J(j,q,f){var h,d,m,r,g,k,p;for(f!=bX&&(d=cd()),h=b4(j,f),d&&d.appendChild(h),m=cl(j),r=cl(q),++m,g=r-m,k=j.nextSibling;g>0;){p=k.nextSibling,h=bt(k,f),d&&d.appendChild(h),k=p,--g}return h=Q(q,f),d&&d.appendChild(h),f!=Y&&(at.setStartAfter(j),at.collapse(bZ)),d}function Q(j,m){var f=b2(at[G],at[ce]-1),c,h,d,k,p,g=f!=at[G];if(f==j){return b3(f,g,b6,m)}for(c=f.parentNode,h=b3(c,b6,b6,m);c;){for(;f;){d=f.previousSibling,k=b3(f,g,b6,m),m!=bX&&h.insertBefore(k,h.firstChild),g=bZ,f=d}if(c==j){return h}f=c.previousSibling,c=c.parentNode,p=b3(c,b6,b6,m),m!=bX&&p.appendChild(h),h=p}}function b4(j,m){var f=b2(at[t],at[e]),c=f!=at[t],h,d,k,p,g;if(f==j){return b3(f,c,bZ,m)}for(h=f.parentNode,d=b3(h,b6,bZ,m);h;){for(;f;){k=f.nextSibling,p=b3(f,c,bZ,m),m!=bX&&d.appendChild(p),c=bZ,f=k}if(h==j){return d}f=h.nextSibling,h=h.parentNode,g=b3(h,b6,bZ,m),m!=bX&&g.appendChild(d),d=g}}function b3(j,n,d,h){var f,m,p,g,k;if(n){return bt(j,h)}if(3==j.nodeType){if(f=j.nodeValue,d?(g=at[e],m=f.substring(g),p=f.substring(0,g)):(g=at[ce],m=f.substring(0,g),p=f.substring(g)),h!=Y&&(j.nodeValue=p),h==bX){return}return k=ch.clone(j,b6),k.nodeValue=m,k}if(h!=bX){return ch.clone(j,b6)}}function bt(d,c){return c!=bX?c==Y?ch.clone(d,bZ):d:void d.parentNode.removeChild(d)}function b1(){return ch.create("body",null,co()).outerText}var at=this,bY=ch.doc,X=0,Y=1,bX=2,bZ=!0,b6=!1,e="startOffset",t="startContainer",G="endContainer",ce="endOffset",b5=b.extend,cl=ch.nodeIndex;return b5(at,{startContainer:bY,startOffset:0,endContainer:bY,endOffset:0,collapsed:bZ,commonAncestorContainer:bY,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:cm,setEnd:cg,setStartBefore:ct,setStartAfter:cc,setEndBefore:cj,setEndAfter:cr,collapse:cb,selectNode:cq,selectNodeContents:cp,compareBoundaryPoints:cf,deleteContents:ci,extractContents:cn,cloneContents:co,insertNode:ca,surroundContents:b7,cloneRange:cs,toStringIE:b1}),at}return a.prototype.toString=function(){return this.toStringIE()},a}),aE(aR,[aI],function(p){function y(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.textContent||a.innerText||c}function h(o,f){var s,l,d,c={};if(o){for(o=o.split(","),f=f||10,s=0;s<o.length;s+=2){l=String.fromCharCode(parseInt(o[s],f)),g[l]||(d="&"+o[s+1]+";",c[l]=d,c[d]=l)}return c}}var b=p.makeMap,k,g,w,z=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/[<>&\"\']/g,x=/&(#x|#)?([\w]+);/g,q={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};g={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},w={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},k=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var m={encodeRaw:function(c,a){return c.replace(a?z:j,function(d){return g[d]||d})},encodeAllRaw:function(a){return(""+a).replace(v,function(c){return g[c]||c})},encodeNumeric:function(c,a){return c.replace(a?z:j,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":g[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(c,a,d){return d=d||k,c.replace(a?z:j,function(f){return g[f]||d[f]||f})},getEncodeFunc:function(i,f){function d(a,c){return a.replace(c?z:j,function(n){return g[n]||f[n]||"&#"+n.charCodeAt(0)+";"||n})}function l(a,c){return m.encodeNamed(a,c,f)}return f=h(f)||k,i=b(i.replace(/\+/g,",")),i.named&&i.numeric?d:i.named?f?l:m.encodeNamed:i.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(x,function(d,f,c){return f?(c=parseInt(c,2===f.length?16:10),c>65535?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(1023&c))):q[c]||String.fromCharCode(c)):w[d]||k[d]||y(d)})}};return m}),aE(aS,[],function(){var j=navigator,p=j.userAgent,f,b,h,d,m,q,g;f=window.opera&&window.opera.buildNumber,b=/WebKit/.test(p),h=!b&&!f&&/MSIE/gi.test(p)&&/Explorer/gi.test(j.appName),h=h&&/MSIE (\w+)\./.exec(p)[1],d=-1==p.indexOf("Trident/")||-1==p.indexOf("rv:")&&-1==j.appName.indexOf("Netscape")?!1:11,h=h||d,m=!b&&!d&&/Gecko/.test(p),q=-1!=p.indexOf("Mac"),g=/(iPad|iPhone)/.test(p);var k=!g||p.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:f,webkit:b,ie:h,gecko:m,mac:q,iOS:g,contentEditable:k,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=h,range:window.getSelection&&"Range" in window,documentMode:h?document.documentMode||7:10}}),aE(aA,[],function(){return function(g,d){function j(a){g.getElementsByTagName("head")[0].appendChild(a)}function f(A,a,B){function k(){for(var m=y.passed,l=m.length;l--;){m[l]()}y.status=2,y.passed=[],y.failed=[]}function x(){for(var m=y.failed,l=m.length;l--;){m[l]()}y.status=3,y.passed=[],y.failed=[]}function z(){var l=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(l&&l[1]<536)}function w(m,l){m()||((new Date).getTime()-o<b?window.setTimeout(l,0):x())}function q(){w(function(){for(var m=g.styleSheets,s,p=m.length,l;p--;){if(s=m[p],l=s.ownerNode?s.ownerNode:s.owningElement,l&&l.id===i.id){return k(),!0}}},q)}function e(){w(function(){try{var m=n.sheet.cssRules;return k(),!!m}catch(l){}},e)}var i,n,o,y;if(h[A]?y=h[A]:(y={passed:[],failed:[]},h[A]=y),a&&y.passed.push(a),B&&y.failed.push(B),1!=y.status){if(2==y.status){return void k()}if(3==y.status){return void x()}if(y.status=1,i=g.createElement("link"),i.rel="stylesheet",i.type="text/css",i.id="u"+c++,i.async=!1,i.defer=!1,o=(new Date).getTime(),"onload" in i&&!z()){i.onload=q,i.onerror=x}else{if(navigator.userAgent.indexOf("Firefox")>0){return n=g.createElement("style"),n.textContent='@import "'+A+'"',e(),void j(n)}q()}j(i),i.href=A}}var c=0,h={},b;d=d||{},b=d.maxLoadTime||5000,this.load=f}}),aE(av,[aW,aV,aN,aT,aL,aR,aS,aI,aA],function(J,B,x,F,A,N,t,E,L){function q(c,b){var a=this,d;a.doc=c,a.win=window,a.files={},a.counter=0,a.stdMode=!k||c.documentMode>=8,a.boxModel=!k||"CSS1Compat"==c.compatMode||a.stdMode,a.hasOuterHTML="outerHTML" in c.createElement("a"),a.styleSheetLoader=new L(c),this.boundEvents=[],a.settings=b=G({keep_values:!1,hex_colors:1},b),a.schema=b.schema,a.styles=new B({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema),a.fixDoc(c),a.events=b.ownEvents?new x(b.proxy):x.Event,d=b.schema?b.schema.getBlockElements():{},a.isBlock=function(g){if(!g){return !1}var f=g.nodeType;return f?!(1!==f||!d[g.nodeName]):!!d[g]}}var K=E.each,I=E.is,z=E.grep,D=E.trim,G=E.extend,H=t.webkit,k=t.ie,j=/^([a-z0-9],?)+$/i,M=/^[ \t\r\n]*$/,w=E.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return q.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(b){var a=this.settings,c;if(k&&a.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){b.createElement(d)});for(c in a.schema.getCustomElements()){b.createElement(c)}}},clone:function(d,b){var f=this,c,a;return !k||1!==d.nodeType||b?d.cloneNode(b):(a=f.doc,b?c.firstChild:(c=a.createElement(d.nodeName),K(f.getAttribs(d),function(e){f.setAttrib(c,e.nodeName,f.getAttrib(d,e.nodeName))}),c))},getRoot:function(){var a=this;return a.get(a.settings.root_element)||a.doc.body},getViewPort:function(b){var a,c;return b=b?b:this.win,a=b.document,c=this.boxModel?a.documentElement:a.body,{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(c){var a=this,d,b;return c=a.get(c),d=a.getPos(c),b=a.getSize(c),{x:d.x,y:d.y,w:b.w,h:b.h}},getSize:function(c){var a=this,d,b;return c=a.get(c),d=a.getStyle(c,"width"),b=a.getStyle(c,"height"),-1===d.indexOf("px")&&(d=0),-1===b.indexOf("px")&&(b=0),{w:parseInt(d,10)||c.offsetWidth||c.clientWidth,h:parseInt(b,10)||c.offsetHeight||c.clientHeight}},getParent:function(b,a,c){return this.getParents(b,a,c,!1)},getParents:function(g,l,f,c){var h=this,b,d=[];for(g=h.get(g),c=c===aC,f=f||("BODY"!=h.getRoot().nodeName?h.getRoot().parentNode:null),I(l,"string")&&(b=l,l="*"===l?function(a){return 1==a.nodeType}:function(a){return h.is(a,b)});g&&g!=f&&g.nodeType&&9!==g.nodeType;){if(!l||l(g)){if(!c){return g}d.push(g)}g=g.parentNode}return c?d:null},get:function(b){var a;return b&&this.doc&&"string"==typeof b&&(a=b,b=this.doc.getElementById(b),b&&b.id!==a)?this.doc.getElementsByName(a)[1]:b},getNext:function(b,a){return this._findSib(b,a,"nextSibling")},getPrev:function(b,a){return this._findSib(b,a,"previousSibling")},select:function(a,c){var b=this;return J(a,b.get(c)||b.get(b.settings.root_element)||b.doc,[])},is:function(d,b){var a;if(d.length===aC){if("*"===b){return 1==d.nodeType}if(j.test(b)){for(b=b.toLowerCase().split(/,/),d=d.nodeName.toLowerCase(),a=b.length-1;a>=0;a--){if(b[a]==d){return !0}}return !1}}if(d.nodeType&&1!=d.nodeType){return !1}var c=d.nodeType?[d]:d;return J(b,c[0].ownerDocument||c[0],null,c).length>0},add:function(d,b,g,c,a){var f=this;return this.run(d,function(i){var h;return h=I(b,"string")?f.doc.createElement(b):b,f.setAttribs(h,g),c&&(c.nodeType?h.appendChild(c):f.setHTML(h,c)),a?h:i.appendChild(h)})},create:function(b,a,c){return this.add(this.doc.createElement(b),b,a,c,1)},createHTML:function(d,b,f){var c="",a;c+="<"+d;for(a in b){b.hasOwnProperty(a)&&null!==b[a]&&(c+=" "+a+'="'+this.encode(b[a])+'"')}return"undefined"!=typeof f?c+">"+f+"</"+d+">":c+" />"},createFragment:function(d){var b,f,c=this.doc,a;for(a=c.createElement("div"),b=c.createDocumentFragment(),d&&(a.innerHTML=d);f=a.firstChild;){b.appendChild(f)}return b},remove:function(b,a){return this.run(b,function(d){var f,c=d.parentNode;if(!c){return null}if(a){for(;f=d.firstChild;){!k||3!==f.nodeType||f.nodeValue?c.insertBefore(f,d):d.removeChild(f)}}return c.removeChild(d)})},setStyle:function(b,a,c){return this.run(b,function(h){var g=this,f,l;if(a){if("string"==typeof a){f=h.style,a=a.replace(/-(\D)/g,function(m,i){return i.toUpperCase()}),"number"!=typeof c||w[a]||(c+="px"),"opacity"===a&&h.runtimeStyle&&"undefined"==typeof h.runtimeStyle.opacity&&(f.filter=""===c?"":"alpha(opacity="+100*c+")"),"float"==a&&(a="cssFloat" in h.style?"cssFloat":"styleFloat");try{f[a]=c}catch(d){}g.settings.update_styles&&h.removeAttribute("data-mce-style")}else{for(l in a){g.setStyle(h,l,a[l])}}}})},getStyle:function(c,d,b){if(c=this.get(c)){if(this.doc.defaultView&&b){d=d.replace(/[A-Z]/g,function(f){return"-"+f});try{return this.doc.defaultView.getComputedStyle(c,null).getPropertyValue(d)}catch(a){return null}}return d=d.replace(/-(\D)/g,function(g,f){return f.toUpperCase()}),"float"==d&&(d=k?"styleFloat":"cssFloat"),c.currentStyle&&b?c.currentStyle[d]:c.style?c.style[d]:aC}},setStyles:function(b,a){this.setStyle(b,a)},css:function(b,a,c){this.setStyle(b,a,c)},removeAllAttribs:function(a){return this.run(a,function(c){var b,d=c.attributes;for(b=d.length-1;b>=0;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:function(c,a,d){var b=this;if(c&&a){return this.run(c,function(g){var f=b.settings,h=g.getAttribute(a);if(null!==d){switch(a){case"style":if(!I(d,"string")){return void K(d,function(e,i){b.setStyle(g,i,e)})}f.keep_values&&(d?g.setAttribute("data-mce-style",d,2):g.removeAttribute("data-mce-style",2)),g.style.cssText=d;break;case"class":g.className=d||"";break;case"src":case"href":f.keep_values&&(f.url_converter&&(d=f.url_converter.call(f.url_converter_scope||b,d,a,g)),b.setAttrib(g,"data-mce-"+a,d,2));break;case"shape":g.setAttribute("data-mce-style",d)}}I(d)&&null!==d&&0!==d.length?g.setAttribute(a,""+d,2):g.removeAttribute(a,2),h!=d&&f.onSetAttrib&&f.onSetAttrib({attrElm:g,attrName:a,attrValue:d})})}},setAttribs:function(b,a){var c=this;return this.run(b,function(d){K(a,function(e,f){c.setAttrib(d,f,e)})})},getAttrib:function(d,b,g){var c,a=this,f;if(d=a.get(d),!d||1!==d.nodeType){return g===f?!1:g}if(I(g)||(g=""),/^(src|href|style|coords|shape)$/.test(b)&&(c=d.getAttribute("data-mce-"+b))){return c}if(k&&a.props[b]&&(c=d[a.props[b]],c=c&&c.nodeValue?c.nodeValue:c),c||(c=d.getAttribute(b,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b)){return d[a.props[b]]===!0&&""===c?b:c?b:""}if("FORM"===d.nodeName&&d.getAttributeNode(b)){return d.getAttributeNode(b).nodeValue}if("style"===b&&(c=c||d.style.cssText,c&&(c=a.serializeStyle(a.parseStyle(c),d.nodeName),a.settings.keep_values&&d.setAttribute("data-mce-style",c))),H&&"class"===b&&c&&(c=c.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),k){switch(b){case"rowspan":case"colspan":1===c&&(c="");break;case"size":("+0"===c||20===c||0===c)&&(c="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===c&&(c="");break;case"hspace":-1===c&&(c="");break;case"maxlength":case"tabindex":(32768===c||2147483647===c||"32768"===c)&&(c="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===c?b:g;case"shape":c=c.toLowerCase();break;default:0===b.indexOf("on")&&c&&(c=(""+c).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}}return c!==f&&null!==c&&""!==c?""+c:g},getPos:function(h,d){var m=this,g=0,c=0,l,b=m.doc,f;if(h=m.get(h),d=d||b.body,h){if(d===b.body&&h.getBoundingClientRect){return f=h.getBoundingClientRect(),d=m.boxModel?b.documentElement:b.body,g=f.left+(b.documentElement.scrollLeft||b.body.scrollLeft)-d.clientLeft,c=f.top+(b.documentElement.scrollTop||b.body.scrollTop)-d.clientTop,{x:g,y:c}}for(l=h;l&&l!=d&&l.nodeType;){g+=l.offsetLeft||0,c+=l.offsetTop||0,l=l.offsetParent}for(l=h.parentNode;l&&l!=d&&l.nodeType;){g-=l.scrollLeft||0,c-=l.scrollTop||0,l=l.parentNode}}return{x:g,y:c}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(b,a){return this.styles.serialize(b,a)},addStyle:function(d){var b=this,g=b.doc,c,a;if(b!==q.DOM&&g===document){var f=q.DOM.addedStyles;if(f=f||[],f[d]){return}f[d]=!0,q.DOM.addedStyles=f}a=g.getElementById("mceDefaultStyles"),a||(a=g.createElement("style"),a.id="mceDefaultStyles",a.type="text/css",c=g.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)),a.styleSheet?a.styleSheet.cssText+=d:a.appendChild(g.createTextNode(d))},loadCSS:function(c){var a=this,d=a.doc,b;return a!==q.DOM&&d===document?void q.DOM.loadCSS(c):(c||(c=""),b=d.getElementsByTagName("head")[0],void K(c.split(","),function(g){var f;a.files[g]||(a.files[g]=!0,f=a.create("link",{rel:"stylesheet",href:g}),k&&d.documentMode&&d.recalc&&(f.onload=function(){d.recalc&&d.recalc(),f.onload=null}),b.appendChild(f))}))},addClass:function(b,a){return this.run(b,function(c){var d;return a?this.hasClass(c,a)?c.className:(d=this.removeClass(c,a),c.className=d=(""!==d?d+" ":"")+a,d):0})},removeClass:function(c,a){var d=this,b;return d.run(c,function(g){var f;return d.hasClass(g,a)?(b||(b=new RegExp("(^|\\s+)"+a+"(\\s+|$)","g")),f=g.className.replace(b," "),f=D(" "!=f?f:""),g.className=f,f||(g.removeAttribute("class"),g.removeAttribute("className")),f):g.className})},hasClass:function(b,a){return b=this.get(b),b&&a?-1!==(" "+b.className+" ").indexOf(" "+a+" "):!1},toggleClass:function(b,c,a){a=a===aC?!this.hasClass(b,c):a,this.hasClass(b,c)!==a&&(a?this.addClass(b,c):this.removeClass(b,c))},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(b,a){var c=this;return c.run(b,function(g){if(k){for(;g.firstChild;){g.removeChild(g.firstChild)}try{g.innerHTML="<br />"+a,g.removeChild(g.firstChild)}catch(f){var d=c.create("div");d.innerHTML="<br />"+a,K(z(d.childNodes),function(e,h){h&&g.canHaveHTML&&g.appendChild(e)})}}else{g.innerHTML=a}return a})},getOuterHTML:function(b){var a,c=this;return(b=c.get(b))?1===b.nodeType&&c.hasOuterHTML?b.outerHTML:(a=(b.ownerDocument||c.doc).createElement("body"),a.appendChild(b.cloneNode(!0)),a.innerHTML):null},setOuterHTML:function(c,a,d){var b=this;return b.run(c,function(g){function f(){var e,l;for(l=d.createElement("body"),l.innerHTML=a,e=l.lastChild;e;){b.insertAfter(e.cloneNode(!0),g),e=e.previousSibling}b.remove(g)}if(1==g.nodeType){if(d=d||g.ownerDocument||b.doc,k){try{1==g.nodeType&&b.hasOuterHTML?g.outerHTML=a:f()}catch(h){f()}}else{f()}}})},decode:N.decode,encode:N.encodeAllRaw,insertAfter:function(b,a){return a=this.get(a),this.run(b,function(d){var f,c;return f=a.parentNode,c=a.nextSibling,c?f.insertBefore(d,c):f.appendChild(d),d})},replace:function(c,a,d){var b=this;return b.run(a,function(e){return I(e,"array")&&(c=c.cloneNode(!0)),d&&K(z(e.childNodes),function(f){c.appendChild(f)}),e.parentNode.replaceChild(c,e)})},rename:function(c,a){var d=this,b;return c.nodeName!=a.toUpperCase()&&(b=d.create(a),K(d.getAttribs(c),function(e){d.setAttrib(b,e.nodeName,d.getAttrib(c,e.nodeName))}),d.replace(b,c,1)),b||c},findCommonAncestor:function(c,a){for(var d=c,b;d;){for(b=a;b&&d!=b;){b=b.parentNode}if(d==b){break}d=d.parentNode}return !d&&c.ownerDocument?c.ownerDocument.documentElement:d},toHex:function(a){return this.styles.toHex(E.trim(a))},run:function(d,b,f){var c=this,a;return"string"==typeof d&&(d=c.get(d)),d?(f=f||this,d.nodeType||!d.length&&0!==d.length?b.call(f,d):(a=[],K(d,function(g,h){g&&("string"==typeof g&&(g=c.get(g)),a.push(b.call(f,g,h)))}),a)):!1},getAttribs:function(b){var a;if(b=this.get(b),!b){return[]}if(k){if(a=[],"OBJECT"==b.nodeName){return b.attributes}"OPTION"===b.nodeName&&this.getAttrib(b,"selected")&&a.push({specified:1,nodeName:"selected"});var c=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return b.cloneNode(!1).outerHTML.replace(c,"").replace(/[\w:\-]+/gi,function(d){a.push({specified:1,nodeName:d})}),a}return b.attributes},isEmpty:function(h,p){var f=this,b,d,m,u,g,i=0;if(h=h.firstChild){u=new F(h,h.parentNode),p=p||f.schema?f.schema.getNonEmptyElements():null;do{if(m=h.nodeType,1===m){if(h.getAttribute("data-mce-bogus")){continue}if(g=h.nodeName.toLowerCase(),p&&p[g]){if("br"===g){i++;continue}return !1}for(d=f.getAttribs(h),b=d.length;b--;){if(g=d[b].nodeName,"name"===g||"data-mce-bookmark"===g){return !1}}}if(8==m){return !1}if(3===m&&!M.test(h.nodeValue)){return !1}}while(h=u.next())}return 1>=i},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new A(this)},nodeIndex:function(d,b){var f=0,c,a;if(d){for(c=d.nodeType,d=d.previousSibling;d;d=d.previousSibling){a=d.nodeType,(!b||3!=a||a!=c&&d.nodeValue.length)&&(f++,c=a)}}return f},split:function(h,p,d){function b(v){function l(o){var a=o.previousSibling&&"SPAN"==o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"==o.nextSibling.nodeName;return a&&s}var C,y=v.childNodes,i=v.nodeType;if(1!=i||"bookmark"!=v.getAttribute("data-mce-type")){for(C=y.length-1;C>=0;C--){b(y[C])}if(9!=i){if(3==i&&v.nodeValue.length>0){var r=D(v.nodeValue).length;if(!g.isBlock(v.parentNode)||r>0||0===r&&l(v)){return}}else{if(1==i&&(y=v.childNodes,1==y.length&&y[0]&&1==y[0].nodeType&&"bookmark"==y[0].getAttribute("data-mce-type")&&v.parentNode.insertBefore(y[0],v),y.length||/^(br|hr|input|img)$/i.test(v.nodeName))){return}}g.remove(v)}return v}}var g=this,c=g.createRng(),m,u,f;return h&&p?(c.setStart(h.parentNode,g.nodeIndex(h)),c.setEnd(p.parentNode,g.nodeIndex(p)),m=c.extractContents(),c=g.createRng(),c.setStart(p.parentNode,g.nodeIndex(p)+1),c.setEnd(h.parentNode,g.nodeIndex(h)+1),u=c.extractContents(),f=h.parentNode,f.insertBefore(b(m),h),d?f.replaceChild(d,p):f.insertBefore(p,h),f.insertBefore(b(u),h),g.remove(h),d||p):void 0},bind:function(d,b,g,c){var a=this;if(E.isArray(d)){for(var f=d.length;f--;){d[f]=a.bind(d[f],b,g,c)}return d}return !a.settings.collect||d!==a.doc&&d!==a.win||a.boundEvents.push([d,b,g,c]),a.events.bind(d,b,g,c||a)},unbind:function(d,b,g){var c=this,a;if(E.isArray(d)){for(a=d.length;a--;){d[a]=c.unbind(d[a],b,g)}return d}if(c.boundEvents&&(d===c.doc||d===c.win)){for(a=c.boundEvents.length;a--;){var f=c.boundEvents[a];d!=f[0]||b&&b!=f[1]||g&&g!=f[2]||this.events.unbind(f[0],f[1],f[2])}}return this.events.unbind(d,b,g)},fire:function(b,a,c){return this.events.fire(b,a,c)},getContentEditable:function(b){var a;return 1!=b.nodeType?null:(a=b.getAttribute("data-mce-contenteditable"),a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null)},destroy:function(){var a=this;if(a.boundEvents){for(var c=a.boundEvents.length;c--;){var b=a.boundEvents[c];this.events.unbind(b[0],b[1],b[2])}a.boundEvents=null}J.setDocument&&J.setDocument(),a.win=a.doc=a.root=a.events=a.frag=null},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(d,b,f){var c=this,a=b;if(d){for("string"==typeof a&&(a=function(g){return c.is(g,b)}),d=d[f];d;d=d[f]){if(a(d)){return d}}}return null}},q.DOM=new q(document),q}),aE(aY,[av,aI],function(d,b){function g(){function k(y,w){function A(){z.remove(x),l&&(l.onreadystatechange=l.onload=l=null),w()}function u(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+y)}var z=c,l,x;x=z.uniqueId(),l=document.createElement("script"),l.id=x,l.type="text/javascript",l.src=y,"onreadystatechange" in l?l.onreadystatechange=function(){/loaded|complete/.test(l.readyState)&&A()}:l.onload=A,l.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(l)}var r=0,h=1,p=2,v={},i=[],o={},q=[],m=0,j;this.isDone=function(l){return v[l]==p},this.markDone=function(l){v[l]=p},this.add=this.load=function(t,u,s){var l=v[t];l==j&&(i.push(t),v[t]=r),u&&(o[t]||(o[t]=[]),o[t].push({func:u,scope:s||this}))},this.loadQueue=function(n,l){this.loadScripts(i,n,l)},this.loadScripts=function(s,u,n){function w(l){a(o[l],function(t){t.func.call(t.scope)}),o[l]=j}var e;q.push({func:u,scope:n||this}),(e=function(){var l=f(s);s.length=0,a(l,function(x){return v[x]==p?void w(x):void (v[x]!=h&&(v[x]=h,m++,k(x,function(){v[x]=p,m--,w(x),e()})))}),m||(a(q,function(t){t.func.call(t.scope)}),q.length=0)})()}}var c=d.DOM,a=b.each,f=b.grep;return g.ScriptLoader=new g,g}),aE(by,[aY,aI],function(c,d){function b(){var f=this;f.items=[],f.urls={},f.lookup={}}var a=d.each;return b.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:aC},dependencies:function(g){var f;return this.lookup[g]&&(f=this.lookup[g].dependencies),f||[]},requireLangPack:function(e,f){if(b.language&&b.languageLoad!==!1){if(f&&new RegExp("([, ]|\\b)"+b.language+"([, ]|\\b)").test(f)===!1){return}c.ScriptLoader.add(this.urls[e]+"/langs/"+b.language+".js")}},add:function(g,f,h){return this.items.push(f),this.lookup[g]={instance:f,dependencies:h},f},createUrl:function(g,f){return"object"==typeof f?f:{prefix:g.prefix,resource:f,suffix:g.suffix}},addComponents:function(e,g){var f=this.urls[e];a(g,function(h){c.ScriptLoader.add(f+"/"+h)})},load:function(k,i,f,h){function e(){var l=j.dependencies(k);a(l,function(m){var o=j.createUrl(i,m);j.load(o.resource,o,aC,aC)}),f&&f.call(h?h:c)}var j=this,g=i;j.urls[k]||("object"==typeof i&&(g=i.prefix+i.resource+i.suffix),0!==g.indexOf("/")&&-1==g.indexOf("://")&&(g=b.baseURL+"/"+g),j.urls[k]=g.substring(0,g.lastIndexOf("/")),j.lookup[k]?e():c.ScriptLoader.add(g,e,h))}},b.PluginManager=new b,b.ThemeManager=new b,b}),aE(aw,[],function(){function c(k,h,m){var j,g,l=m?"lastChild":"firstChild",f=m?"prev":"next";if(k[l]){return k[l]}if(k!==h){if(j=k[f]){return j}for(g=k.parent;g&&g!==h;g=g.parent){if(j=g[f]){return j}}}}function a(g,f){this.name=g,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(g){var f=this;return g.parent&&g.remove(),f.insert(g,f),f.remove(),f},attr:function(j,g){var l=this,h,f,k;if("string"!=typeof j){for(f in j){l.attr(f,j[f])}return l}if(h=l.attributes){if(g!==k){if(null===g){if(j in h.map){for(delete h.map[j],f=h.length;f--;){if(h[f].name===j){return h=h.splice(f,1),l}}}return l}if(j in h.map){for(f=h.length;f--;){if(h[f].name===j){h[f].value=g;break}}}else{h.push({name:j,value:g})}return h.map[j]=g,l}return h.map[j]}},clone:function(){var k=this,m=new a(k.name,k.type),j,g,l,f,h;if(l=k.attributes){for(h=[],h.map={},j=0,g=l.length;g>j;j++){f=l[j],"id"!==f.name&&(h[h.length]={name:f.name,value:f.value},h.map[f.name]=f.value)}m.attributes=h}return m.value=k.value,m.shortEnded=k.shortEnded,m},wrap:function(g){var f=this;return f.parent.insert(g,f),g.append(f),f},unwrap:function(){var g=this,f,h;for(f=g.firstChild;f;){h=f.next,g.insert(f,g,!0),f=h}g.remove()},remove:function(){var h=this,f=h.parent,i=h.next,g=h.prev;return f&&(f.firstChild===h?(f.firstChild=i,i&&(i.prev=null)):g.next=i,f.lastChild===h?(f.lastChild=g,g&&(g.next=null)):i.prev=g,h.parent=h.next=h.prev=null),h},append:function(g){var f=this,h;return g.parent&&g.remove(),h=f.lastChild,h?(h.next=g,g.prev=h,f.lastChild=g):f.lastChild=f.firstChild=g,g.parent=f,g},insert:function(h,f,i){var g;return h.parent&&h.remove(),g=f.parent||this,i?(f===g.firstChild?g.firstChild=h:f.prev.next=h,h.prev=f.prev,h.next=f,f.prev=h):(f===g.lastChild?g.lastChild=h:f.next.prev=h,h.next=f.next,h.prev=f,f.next=h),h.parent=g,h},getAll:function(f){var h=this,g,e=[];for(g=h.firstChild;g;g=c(g,h)){g.name===f&&e.push(g)}return e},empty:function(){var f=this,h,g,e;if(f.firstChild){for(h=[],e=f.firstChild;e;e=c(e,f)){h.push(e)}for(g=h.length;g--;){e=h[g],e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return f.firstChild=f.lastChild=null,f},isEmpty:function(g){var h=this,f=h.firstChild,j,e;if(f){do{if(1===f.type){if(f.attributes.map["data-mce-bogus"]){continue}if(g[f.name]){return !1}for(j=f.attributes.length;j--;){if(e=f.attributes[j].name,"name"===e||0===e.indexOf("data-mce-")){return !1}}}if(8===f.type){return !1}if(3===f.type&&!d.test(f.value)){return !1}}while(f=c(f,h))}return !0},walk:function(e){return c(this,null,e)}},a.create=function(g,j){var f,h;if(f=new a(g,b[g]||1),j){for(h in j){f.attr(h,j[h])}}return f},a}),aE(ax,[aI],function(h){function k(i,a){return i?i.split(a||" "):[]}function d(t){function o(C,F,B){function A(u){var i={},G,l;for(G=0,l=u.length;l>G;G++){i[u[G]]={}}return i}var D,a,E,s=arguments;for(B=B||[],F=F||"","string"==typeof B&&(B=k(B)),a=3;a<s.length;a++){"string"==typeof s[a]&&(s[a]=k(s[a])),B.push.apply(B,s[a])}for(C=k(C),D=C.length;D--;){E=[].concat(z,k(F)),x[C[D]]={attributes:A(E),attributesOrder:E,children:A(B)}}}function q(A,C){var u,a,B,l;for(A=k(A),u=A.length,C=k(C);u--;){for(a=x[A[u]],B=0,l=C.length;l>B;B++){a.attributes[C[B]]={},a.attributesOrder.push(C[B])}}}var x={},z,p,w,y,v,r;return b[t]?b[t]:(z=k("id accesskey class dir lang style tabindex title"),p=k("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),w=k("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=t&&(z.push.apply(z,k("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),p.push.apply(p,k("article aside details dialog figure header footer hgroup section nav")),w.push.apply(w,k("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=t&&(z.push("xml:lang"),r=k("acronym applet basefont big font strike tt"),w.push.apply(w,r),c(r,function(a){o(a,"",w)}),v=k("center dir isindex noframes"),p.push.apply(p,v),y=[].concat(p,w),c(v,function(a){o(a,"",y)})),y=y||[].concat(p,w),o("html","manifest","head body"),o("head","","base command link meta noscript script style title"),o("title hr noscript br"),o("base","href target"),o("link","href rel media hreflang type sizes hreflang"),o("meta","name http-equiv content charset"),o("style","media type scoped"),o("script","src async defer type charset"),o("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",y),o("address dt dd div caption","",y),o("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",w),o("blockquote","cite",y),o("ol","reversed start type","li"),o("ul","","li"),o("li","value",y),o("dl","","dt dd"),o("a","href target rel media hreflang type",w),o("q","cite",w),o("ins del","cite datetime",y),o("img","src alt usemap ismap width height"),o("iframe","src name width height",y),o("embed","src type width height"),o("object","data type typemustmatch name usemap form width height",y,"param"),o("param","name value"),o("map","name",y,"area"),o("area","alt coords shape href target rel media hreflang type"),o("table","border","caption colgroup thead tfoot tbody tr"+("html4"==t?" col":"")),o("colgroup","span","col"),o("col","span"),o("tbody thead tfoot","","tr"),o("tr","","td th"),o("td","colspan rowspan headers",y),o("th","colspan rowspan headers scope abbr",y),o("form","accept-charset action autocomplete enctype method name novalidate target",y),o("fieldset","disabled form name",y,"legend"),o("label","form for",w),o("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),o("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==t?y:w),o("select","disabled form multiple name required size","option optgroup"),o("optgroup","disabled label","option"),o("option","disabled label selected value"),o("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),o("menu","type label",y,"li"),o("noscript","",y),"html4"!=t&&(o("wbr"),o("ruby","",w,"rt rp"),o("figcaption","",y),o("mark rt rp summary bdi","",w),o("canvas","width height",y),o("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",y,"track source"),o("audio","src crossorigin preload autoplay mediagroup loop muted controls",y,"track source"),o("source","src type media"),o("track","kind src srclang label default"),o("datalist","",w,"option"),o("article section nav aside header footer","",y),o("hgroup","","h1 h2 h3 h4 h5 h6"),o("figure","",y,"figcaption"),o("time","datetime",w),o("dialog","open",y),o("command","type label icon disabled checked radiogroup command"),o("output","for form name",w),o("progress","value max",w),o("meter","value min max low high optimum",w),o("details","open",y,"summary"),o("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=t&&(q("script","language xml:space"),q("style","xml:space"),q("object","declare classid codebase codetype archive standby align border hspace vspace"),q("param","valuetype type"),q("a","charset name rev shape coords"),q("br","clear"),q("applet","codebase archive code object alt name width height align hspace vspace"),q("img","name longdesc align border hspace vspace"),q("iframe","longdesc frameborder marginwidth marginheight scrolling align"),q("font basefont","size color face"),q("input","usemap align"),q("select","onchange"),q("textarea"),q("h1 h2 h3 h4 h5 h6 div p legend caption","align"),q("ul","type compact"),q("li","type"),q("ol dl menu dir","compact"),q("pre","width xml:space"),q("hr","align noshade size width"),q("isindex","prompt"),q("table","summary width frame rules cellspacing cellpadding align bgcolor"),q("col","width align char charoff valign"),q("colgroup","width align char charoff valign"),q("thead","align char charoff valign"),q("tr","align char charoff valign bgcolor"),q("th","axis align char charoff valign nowrap bgcolor width height"),q("form","accept"),q("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),q("tfoot","align char charoff valign"),q("tbody","align char charoff valign"),q("area","nohref"),q("body","background bgcolor text link vlink alink")),"html4"!=t&&(q("input button select textarea","autofocus"),q("input textarea","placeholder"),q("a","download"),q("link script img","crossorigin"),q("iframe","srcdoc sandbox seamless allowfullscreen")),c(k("a form meter progress dfn"),function(a){x[a]&&delete x[a].children[a]}),delete x.caption.children.table,b[t]=x,x)}var b={},g=h.makeMap,c=h.each,j=h.extend,m=h.explode,f=h.inArray;return function(L){function O(e,v,u){var p=L[e];return p?p=g(p,",",g(p.toUpperCase()," ")):(p=b[e],p||(p=g(v," ",g(v.toUpperCase()," ")),p=j(p,u),b[e]=p)),p}function t(p){return new RegExp("^"+p.replace(/([?+*])/g,".$1")+"$")}function M(b3){var bX,Z,bt,b6,X,b5,b4,b2,at,bY,b0,b1,R,Y,U,V,b7,A,W,v=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,bZ=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,u=/[*?+]/;if(b3){for(b3=k(b3,","),s["@"]&&(V=s["@"].attributes,b7=s["@"].attributesOrder),bX=0,Z=b3.length;Z>bX;bX++){if(X=v.exec(b3[bX])){if(Y=X[1],at=X[2],U=X[3],b2=X[5],b1={},R=[],b5={attributes:b1,attributesOrder:R},"#"===Y&&(b5.paddEmpty=!0),"-"===Y&&(b5.removeEmpty=!0),"!"===X[4]&&(b5.removeEmptyAttrs=!0),V){for(A in V){b1[A]=V[A]}R.push.apply(R,b7)}if(b2){for(b2=k(b2,"|"),bt=0,b6=b2.length;b6>bt;bt++){if(X=bZ.exec(b2[bt])){if(b4={},b0=X[1],bY=X[2].replace(/::/g,":"),Y=X[3],W=X[4],"!"===b0&&(b5.attributesRequired=b5.attributesRequired||[],b5.attributesRequired.push(bY),b4.required=!0),"-"===b0){delete b1[bY],R.splice(f(R,bY),1);continue}Y&&("="===Y&&(b5.attributesDefault=b5.attributesDefault||[],b5.attributesDefault.push({name:bY,value:W}),b4.defaultValue=W),":"===Y&&(b5.attributesForced=b5.attributesForced||[],b5.attributesForced.push({name:bY,value:W}),b4.forcedValue=W),"<"===Y&&(b4.validValues=g(W,"?"))),u.test(bY)?(b5.attributePatterns=b5.attributePatterns||[],b4.pattern=t(bY),b5.attributePatterns.push(b4)):(b1[bY]||R.push(bY),b1[bY]=b4)}}}V||"@"!=at||(V=b1,b7=R),U&&(b5.outputName=at,s[U]=b5),u.test(at)?(b5.pattern=t(at),P.push(b5)):s[at]=b5}}}}function K(p){s={},P=[],M(p),c(q,function(v,u){o[u]=v.children})}function F(p){var u=/^(~)?(.+)$/;p&&(b.text_block_elements=b.block_elements=null,c(k(p,","),function(C){var x=u.exec(C),A="~"===x[1],w=A?"span":"div",y=x[2];if(o[y]=o[w],l[y]=w,A||(i[y.toUpperCase()]={},i[y]={}),!s[y]){var v=s[w];v=j({},v),delete v.removeEmptyAttrs,delete v.removeEmpty,s[y]=v}c(o,function(N,E){N[w]&&(o[E]=N=j({},o[E]),N[y]=N[w])})}))}function G(p){var u=/^([+\-]?)(\w+)\[([^\]]+)\]$/;p&&c(k(p,","),function(y){var x=u.exec(y),v,w;x&&(w=x[1],v=w?o[x[2]]:o[x[2]]={"#comment":{}},v=o[x[2]],c(k(x[3],"|"),function(A){"-"===w?(o[x[2]]=v=j({},o[x[2]]),delete v[A]):v[A]={}}))})}function I(u){var p=s[u],v;if(p){return p}for(v=P.length;v--;){if(p=P[v],p.pattern.test(u)){return p}}}var J=this,s={},o={},P=[],B,q,r,Q,n,z,i,H,a,l={},D={};L=L||{},q=d(L.schema),L.verify_html===!1&&(L.valid_elements="*[*]"),L.valid_styles&&(B={},c(L.valid_styles,function(u,p){B[p]=m(u)})),r=O("whitespace_elements","pre script noscript style textarea video audio iframe object"),Q=O("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),n=O("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),z=O("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),H=O("non_empty_elements","td th iframe video audio object script",n),a=O("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),i=O("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",a),c((L.special||"script noscript style textarea").split(" "),function(p){D[p]=new RegExp("</"+p+"[^>]*>","gi")}),L.valid_elements?K(L.valid_elements):(c(q,function(u,p){s[p]={attributes:u.attributes,attributesOrder:u.attributesOrder},o[p]=u.children}),"html5"!=L.schema&&c(k("strong/b em/i"),function(p){p=k(p,"/"),s[p[1]].outputName=p[0]}),s.img.attributesDefault=[{name:"alt",value:""}],c(k("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(p){s[p]&&(s[p].removeEmpty=!0)}),c(k("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(p){s[p].paddEmpty=!0}),c(k("span"),function(p){s[p].removeEmptyAttrs=!0})),F(L.custom_elements),G(L.valid_children),M(L.extended_valid_elements),G("+ol[ul|ol],+ul[ul|ol]"),L.invalid_elements&&c(m(L.invalid_elements),function(p){s[p]&&delete s[p]}),I("span")||M("span[!data-mce-type|*]"),J.children=o,J.styles=B,J.getBoolAttrs=function(){return z},J.getBlockElements=function(){return i},J.getTextBlockElements=function(){return a},J.getShortEndedElements=function(){return n},J.getSelfClosingElements=function(){return Q},J.getNonEmptyElements=function(){return H},J.getWhiteSpaceElements=function(){return r},J.getSpecialElements=function(){return D},J.isValidChild=function(u,p){var v=o[u];return !(!v||!v[p])},J.isValid=function(w,u){var x,v,p=I(w);if(p){if(!u){return !0}if(p.attributes[u]){return !0}if(x=p.attributePatterns){for(v=x.length;v--;){if(x[v].pattern.test(w)){return !0}}}}return !1},J.getElementRule=I,J.getCustomElements=function(){return l},J.addValidElements=M,J.setValidElements=K,J.addCustomElements=F,J.addValidChildren=G,J.elements=s}}),aE(a0,[ax,aR,aI],function(c,a,d){var b=d.each;return function(f,h){function e(){}var g=this;f=f||{},g.schema=h=h||new c,f.fix_self_closing!==!1&&(f.fix_self_closing=!0),b("comment cdata text start end pi doctype".split(" "),function(i){i&&(g[i]=f[i]||e)}),g.parse=function(ce){function b6(l){var k,m;for(k=cd.length;k--&&cd[k].name!==l;){}if(k>=0){for(m=cd.length-1;m>=k;m--){l=cd[m],l.valid&&b5.end(l.name)}cd.length=k}}function ci(w,A,p,k,m){var y,B,v=/[\s\u0000-\u001F]+/g;if(A=A.toLowerCase(),p=A in bt?A:Y(p||k||m||""),b2&&!b3&&0!==A.indexOf("data-")){if(y=ca[A],!y&&n){for(B=n.length;B--&&(y=n[B],!y.pattern.test(A));){}-1===B&&(y=null)}if(!y){return}if(y.validValues&&!(p in y.validValues)){return}}if(i[A]&&!f.allow_script_urls){var x=p.replace(v,"");try{if(x=decodeURIComponent(x),j.test(x)){return}}catch(z){if(x=unescape(x),j.test(x)){return}}}b7.map[A]=p,b7.push({name:A,value:p})}var b5=this,b9,cg=0,b4,cf,cd=[],b7,b8,cb,cc,b3,b0,ch,bt,b1,b2,cj,J,Z,o,ca,n,q,bY,bX,Q,at,K,X,t,G,U=0,Y=a.decode,bZ,i=d.makeMap("src,href"),j=/(java|vb)script:/i;for(K=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),X=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,ch=h.getShortEndedElements(),at=f.self_closing_elements||h.getSelfClosingElements(),bt=h.getBoolAttrs(),b2=f.validate,b0=f.remove_internals,bZ=f.fix_self_closing,t=h.getSpecialElements();b9=K.exec(ce);){if(cg<b9.index&&b5.text(Y(ce.substr(cg,b9.index-cg))),b4=b9[6]){b4=b4.toLowerCase(),":"===b4.charAt(0)&&(b4=b4.substr(1)),b6(b4)}else{if(b4=b9[7]){if(b4=b4.toLowerCase(),":"===b4.charAt(0)&&(b4=b4.substr(1)),b1=b4 in ch,bZ&&at[b4]&&cd.length>0&&cd[cd.length-1].name===b4&&b6(b4),!b2||(cj=h.getElementRule(b4))){if(J=!0,b2&&(ca=cj.attributes,n=cj.attributePatterns),(o=b9[8])?(b3=-1!==o.indexOf("data-mce-type"),b3&&b0&&(J=!1),b7=[],b7.map={},o.replace(X,ci)):(b7=[],b7.map={}),b2&&!b3){if(q=cj.attributesRequired,bY=cj.attributesDefault,bX=cj.attributesForced,Q=cj.removeEmptyAttrs,Q&&!b7.length&&(J=!1),bX){for(b8=bX.length;b8--;){Z=bX[b8],cc=Z.name,G=Z.value,"{$uid}"===G&&(G="mce_"+U++),b7.map[cc]=G,b7.push({name:cc,value:G})}}if(bY){for(b8=bY.length;b8--;){Z=bY[b8],cc=Z.name,cc in b7.map||(G=Z.value,"{$uid}"===G&&(G="mce_"+U++),b7.map[cc]=G,b7.push({name:cc,value:G}))}}if(q){for(b8=q.length;b8--&&!(q[b8] in b7.map);){}-1===b8&&(J=!1)}b7.map["data-mce-bogus"]&&(J=!1)}J&&b5.start(b4,b7,b1)}else{J=!1}if(cf=t[b4]){cf.lastIndex=cg=b9.index+b9[0].length,(b9=cf.exec(ce))?(J&&(cb=ce.substr(cg,b9.index-cg)),cg=b9.index+b9[0].length):(cb=ce.substr(cg),cg=ce.length),J&&(cb.length>0&&b5.text(cb,!0),b5.end(b4)),K.lastIndex=cg;continue}b1||(o&&o.indexOf("/")==o.length-1?J&&b5.end(b4):cd.push({name:b4,valid:J}))}else{(b4=b9[1])?(">"===b4.charAt(0)&&(b4=" "+b4),f.allow_conditional_comments||"[if"!==b4.substr(0,3)||(b4=" "+b4),b5.comment(b4)):(b4=b9[2])?b5.cdata(b4):(b4=b9[3])?b5.doctype(b4):(b4=b9[4])&&b5.pi(b4,b9[5])}}cg=b9.index+b9[0].length}for(cg<ce.length&&b5.text(Y(ce.substr(cg))),b8=cd.length-1;b8>=0;b8--){b4=cd[b8],b4.valid&&b5.end(b4.name)}}}}),aE(bl,[aw,ax,a0,aI],function(h,d,k,g){var c=g.makeMap,j=g.each,b=g.explode,f=g.extend;return function(n,e){function t(I){var x,l,w,G,J,E,D,C,u,z,A,B,H,F;for(A=c("tr,td,th,tbody,thead,tfoot,table"),z=e.getNonEmptyElements(),B=e.getTextBlockElements(),x=0;x<I.length;x++){if(l=I[x],l.parent&&!l.fixed){if(B[l.name]&&"li"==l.parent.name){for(H=l.next;H&&B[H.name];){H.name="li",H.fixed=!0,l.parent.insert(H,l.parent),H=H.next}l.unwrap(l)}else{for(G=[l],w=l.parent;w&&!e.isValidChild(w.name,l.name)&&!A[w.name];w=w.parent){G.push(w)}if(w&&G.length>1){for(G.reverse(),J=E=i.filterNode(G[0].clone()),u=0;u<G.length-1;u++){for(e.isValidChild(E.name,G[u].name)?(D=i.filterNode(G[u].clone()),E.append(D)):D=E,C=G[u].firstChild;C&&C!=G[u+1];){F=C.next,D.append(C),C=F}E=D}J.isEmpty(z)?w.insert(l,G[0],!0):(w.insert(J,G[0],!0),w.insert(l,J)),w=G[0],(w.isEmpty(z)||w.firstChild===w.lastChild&&"br"===w.firstChild.name)&&w.empty().remove()}else{if(l.parent){if("li"===l.name){if(H=l.prev,H&&("ul"===H.name||"ul"===H.name)){H.append(l);continue}if(H=l.next,H&&("ul"===H.name||"ul"===H.name)){H.insert(l,H.firstChild,!0);continue}l.wrap(i.filterNode(new h("ul",1)));continue}e.isValidChild(l.parent.name,"div")&&e.isValidChild("div",l.name)?l.wrap(i.filterNode(new h("div",1))):"style"===l.name||"script"===l.name?l.empty().remove():l.unwrap()}}}}}}var i=this,s={},o=[],q={},a={};n=n||{},n.validate="validate" in n?n.validate:!0,n.root_name=n.root_name||"body",i.schema=e=e||new d,i.filterNode=function(p){var l,u,m;u in s&&(m=q[u],m?m.push(p):q[u]=[p]),l=o.length;for(;l--;){u=o[l].name,u in p.attributes.map&&(m=a[u],m?m.push(p):a[u]=[p])}return p},i.addNodeFilter=function(m,l){j(b(m),function(p){var r=s[p];r||(s[p]=r=[]),r.push(l)})},i.addAttributeFilter=function(m,l){j(b(m),function(p){var r;for(r=0;r<o.length;r++){if(o[r].name===p){return void o[r].callbacks.push(l)}}o.push({name:p,callbacks:[l]})})},i.parse=function(at,b0){function b5(){function w(y){y&&(v=y.firstChild,v&&3==v.type&&(v.value=v.value.replace(p,"")),v=y.lastChild,v&&3==v.type&&(v.value=v.value.replace(J,"")))}var v=K.firstChild,x,u;if(e.isValidChild(K.name,Q.toLowerCase())){for(;v;){x=v.next,3==v.type||1==v.type&&"p"!==v.name&&!l[v.name]&&!v.attr("data-mce-type")?u?u.append(v):(u=Y(Q,1),u.attr(n.forced_root_block_attrs),K.insert(u,v),u.append(v)):(w(u),u=null),v=x}w(u)}}function Y(v,x){var w=new h(v,x),u;return v in s&&(u=q[v],u?u.push(w):q[v]=[w]),w}function b2(w){var u,x,v;for(u=w.prev;u&&3===u.type;){x=u.value.replace(J,""),x.length>0?(u.value=x,u=u.prev):(v=u.prev,u.remove(),u=v)}}function b3(v){var u,w={};for(u in v){"li"!==u&&"p"!=u&&(w[u]=v[u])}return w}var X,K,b4,bX,U,W,b6,F,Z,m,b1,l,p,bZ=[],bY,J,bt,G,V,r,z,Q;if(b0=b0||{},q={},a={},l=f(c("script,style,head,html,body,title,meta,param"),e.getBlockElements()),z=e.getNonEmptyElements(),r=e.children,b1=n.validate,Q="forced_root_block" in b0?b0.forced_root_block:n.forced_root_block,V=e.getWhiteSpaceElements(),p=/^[ \t\r\n]+/,J=/[ \t\r\n]+$/,bt=/[ \t\r\n]+/g,G=/^[ \t\r\n]+$/,X=new k({validate:b1,allow_script_urls:n.allow_script_urls,allow_conditional_comments:n.allow_conditional_comments,self_closing_elements:b3(e.getSelfClosingElements()),cdata:function(u){b4.append(Y("#cdata",4)).value=u},text:function(v,u){var w;bY||(v=v.replace(bt," "),b4.lastChild&&l[b4.lastChild.name]&&(v=v.replace(p,""))),0!==v.length&&(w=Y("#text",3),w.raw=!!u,b4.append(w).value=v)},comment:function(u){b4.append(Y("#comment",8)).value=u},pi:function(v,u){b4.append(Y(v,7)).value=u,b2(b4)},doctype:function(v){var u;u=b4.append(Y("#doctype",10)),u.value=v,b2(b4)},start:function(A,w,C){var y,v,B,u,x;if(B=b1?e.getElementRule(A):{}){for(y=Y(B.outputName||A,1),y.attributes=w,y.shortEnded=C,b4.append(y),x=r[b4.name],x&&r[y.name]&&!x[y.name]&&bZ.push(y),v=o.length;v--;){u=o[v].name,u in w.map&&(Z=a[u],Z?Z.push(y):a[u]=[y])}l[A]&&b2(y),C||(b4=y),!bY&&V[A]&&(bY=!0)}},end:function(w){var A,x,v,y,u;if(x=b1?e.getElementRule(w):{}){if(l[w]&&!bY){if(A=b4.firstChild,A&&3===A.type){if(v=A.value.replace(p,""),v.length>0){A.value=v,A=A.next}else{for(y=A.next,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.next,(0===v.length||G.test(v))&&(A.remove(),A=y),A=y}}}if(A=b4.lastChild,A&&3===A.type){if(v=A.value.replace(J,""),v.length>0){A.value=v,A=A.prev}else{for(y=A.prev,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.prev,(0===v.length||G.test(v))&&(A.remove(),A=y),A=y}}}}if(bY&&V[w]&&(bY=!1),(x.removeEmpty||x.paddEmpty)&&b4.isEmpty(z)){if(x.paddEmpty){b4.empty().append(new h("#text","3")).value="\xa0"}else{if(!b4.attributes.map.name&&!b4.attributes.map.id){return u=b4.parent,b4.empty().remove(),void (b4=u)}}}b4=b4.parent}}},e),K=b4=new h(b0.context||n.root_name,11),X.parse(at),b1&&bZ.length&&(b0.context?b0.invalid=!0:t(bZ)),Q&&("body"==K.name||b0.isRootContent)&&b5(),!b0.invalid){for(m in q){for(Z=s[m],bX=q[m],b6=bX.length;b6--;){bX[b6].parent||bX.splice(b6,1)}for(U=0,W=Z.length;W>U;U++){Z[U](bX,m,b0)}}for(U=0,W=o.length;W>U;U++){if(Z=o[U],Z.name in a){for(bX=a[Z.name],b6=bX.length;b6--;){bX[b6].parent||bX.splice(b6,1)}for(b6=0,F=Z.callbacks.length;F>b6;b6++){Z.callbacks[b6](bX,Z.name,b0)}}}}return K},n.remove_trailing_brs&&i.addNodeFilter("br",function(F){var x,l=F.length,z,w=f({},e.getBlockElements()),D=e.getNonEmptyElements(),C,E,B,A,v,y;for(w.body=1,x=0;l>x;x++){if(z=F[x],C=z.parent,w[z.parent.name]&&z===C.lastChild){for(B=z.prev;B;){if(A=B.name,"span"!==A||"bookmark"!==B.attr("data-mce-type")){if("br"!==A){break}if("br"===A){z=null;break}}B=B.prev}z&&(z.remove(),C.isEmpty(D)&&(v=e.getElementRule(C.name),v&&(v.removeEmpty?C.remove():v.paddEmpty&&(C.empty().append(new h("#text",3)).value="\xa0"))))}else{for(E=z;C&&C.firstChild===E&&C.lastChild===E&&(E=C,!w[C.name]);){C=C.parent}E===C&&(y=new h("#text",3),y.value="\xa0",z.replace(y))}}}),n.allow_html_in_named_anchor||i.addAttributeFilter("id,name",function(u){for(var m=u.length,w,p,l,v;m--;){if(v=u[m],"a"===v.name&&v.firstChild&&!v.attr("href")){l=v.parent,w=v.lastChild;do{p=w.prev,l.insert(w,v),w=p}while(w)}}})}}),aE(bw,[aR,aI],function(b,a){var c=a.makeMap;return function(g){var j=[],f,k,e,h,d;return g=g||{},f=g.indent,k=c(g.indent_before||""),e=c(g.indent_after||""),h=b.getEncodeFunc(g.entity_encoding||"raw",g.entities),d="html"==g.element_format,{start:function(o,l,r){var q,i,p,m;if(f&&k[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n")),j.push("<",o),l){for(q=0,i=l.length;i>q;q++){p=l[q],j.push(" ",p.name,'="',h(p.value,!0),'"')}}j[j.length]=!r||d?">":" />",r&&f&&e[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n"))},end:function(l){var i;j.push("</",l,">"),f&&e[l]&&j.length>0&&(i=j[j.length-1],i.length>0&&"\n"!==i&&j.push("\n"))},text:function(l,i){l.length>0&&(j[j.length]=i?l:h(l))},cdata:function(i){j.push("<![CDATA[",i,"]]>")},comment:function(i){j.push("<!--",i,"-->")},pi:function(l,i){i?j.push("<?",l," ",i,"?>"):j.push("<?",l,"?>"),f&&j.push("\n")},doctype:function(i){j.push("<!DOCTYPE",i,">",f?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}}),aE(be,[bw,ax],function(b,a){return function(f,d){var c=this,e=new b(f);f=f||{},f.validate="validate" in f?f.validate:!0,c.schema=d=d||new a,c.writer=e,c.serialize=function(k){function j(w){var o=h[w.type],A,r,y,z,x,v,i,q,t;if(o){o(w)}else{if(A=w.name,r=w.shortEnded,y=w.attributes,g&&y&&y.length>1){for(v=[],v.map={},t=d.getElementRule(w.name),i=0,q=t.attributesOrder.length;q>i;i++){z=t.attributesOrder[i],z in y.map&&(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}for(i=0,q=y.length;q>i;i++){z=y[i].name,z in v.map||(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}y=v}if(e.start(w.name,y,r),!r){if(w=w.firstChild){do{j(w)}while(w=w.next)}e.end(A)}}}var h,g;return g=f.validate,h={3:function(i){e.text(i.value,i.raw)},8:function(i){e.comment(i.value)},7:function(i){e.pi(i.name,i.value)},10:function(i){e.doctype(i.value)},4:function(i){e.cdata(i.value)},11:function(i){if(i=i.firstChild){do{j(i)}while(i=i.next)}}},e.reset(),1!=k.type||f.inner?h[11](k):j(k),e.getContent()}}}),aE(aO,[av,bl,aR,be,aw,ax,aS,aI],function(j,q,f,b,h,d,m,v){var g=v.each,k=v.trim,p=j.DOM;return function(n,a){var c,o,l;return a&&(c=a.dom,o=a.schema),c=c||p,o=o||new d(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs="remove_trailing_brs" in n?n.remove_trailing_brs:!0,l=new q(n,o),l.addAttributeFilter("data-mce-tabindex",function(u,i){for(var w=u.length,s;w--;){s=u[w],s.attr("tabindex",s.attributes.map["data-mce-tabindex"]),s.attr(i,null)}}),l.addAttributeFilter("src,href,style",function(C,w){for(var e=C.length,y,s,A="data-mce-"+w,x=n.url_converter,z=n.url_converter_scope,B;e--;){y=C[e],s=y.attributes.map[A],s!==B?(y.attr(w,s.length>0?s:null),y.attr(A,null)):(s=y.attributes.map[w],"style"===w?s=c.serializeStyle(c.parseStyle(s),y.name):x&&(s=x.call(z,s,w,y.name)),y.attr(w,s.length>0?s:null))}}),l.addAttributeFilter("class",function(u){for(var i=u.length,w,s;i--;){w=u[i],s=w.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),w.attr("class",s.length>0?s:null)}}),l.addAttributeFilter("data-mce-type",function(x,u,y){for(var w=x.length,s;w--;){s=x[w],"bookmark"!==s.attributes.map["data-mce-type"]||y.cleanup||s.remove()}}),l.addAttributeFilter("data-mce-expando",function(r,i){for(var s=r.length;s--;){r[s].attr(i,null)}}),l.addNodeFilter("noscript",function(u){for(var i=u.length,s;i--;){s=u[i].firstChild,s&&(s.value=f.decode(s.value))}}),l.addNodeFilter("script,style",function(y,w){function A(i){return i.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var x=y.length,u,z;x--;){if(u=y[x],z=u.firstChild?u.firstChild.value:"","script"===w){var s=(u.attr("type")||"text/javascript").replace(/^mce\-/,"");u.attr("type","text/javascript"===s?null:s),z.length>0&&(u.firstChild.value="// <![CDATA[\n"+A(z)+"\n// ]]>")}else{z.length>0&&(u.firstChild.value="<!--\n"+A(z)+"\n-->")}}}),l.addNodeFilter("#comment",function(r){for(var i=r.length,s;i--;){s=r[i],0===s.value.indexOf("[CDATA[")?(s.name="#cdata",s.type=4,s.value=s.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===s.value.indexOf("mce:protected ")&&(s.name="#text",s.type=3,s.raw=!0,s.value=unescape(s.value).substr(14))}}),l.addNodeFilter("xml:namespace,input",function(u,i){for(var w=u.length,s;w--;){s=u[w],7===s.type?s.remove():1===s.type&&("input"!==i||"type" in s.attributes.map||s.attr("type","text"))}}),n.fix_list_elements&&l.addNodeFilter("ul,ol",function(u){for(var i=u.length,w,s;i--;){w=u[i],s=w.parent,("ul"===s.name||"ol"===s.name)&&w.prev&&"li"===w.prev.name&&w.prev.append(w)}}),l.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(r,i){for(var s=r.length;s--;){r[s].attr(i,null)}}),{schema:o,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(w,A){var s=this,z,r,y,e,x;return m.ie&&c.select("script,style,select,map").length>0?(x=w.innerHTML,w=w.cloneNode(!1),c.setHTML(w,x)):w=w.cloneNode(!0),z=w.ownerDocument.implementation,z.createHTMLDocument&&(r=z.createHTMLDocument(""),g("BODY"==w.nodeName?w.childNodes:[w],function(i){r.body.appendChild(r.importNode(i,!0))}),w="BODY"!=w.nodeName?r.body.firstChild:r.body,y=c.doc,c.doc=r),A=A||{},A.format=A.format||"html",A.selection&&(A.forced_root_block=""),A.no_events||(A.node=w,s.onPreProcess(A)),e=new b(n,o),A.content=e.serialize(l.parse(k(A.getInner?w.innerHTML:c.getOuterHTML(w)),A)),A.cleanup||(A.content=A.content.replace(/\uFEFF/g,"")),A.no_events||s.onPostProcess(A),y&&(c.doc=y),A.node=null,A.content},addRules:function(i){o.addValidElements(i)},setRules:function(i){o.setValidElements(i)},onPreProcess:function(i){a&&a.fire("PreProcess",i)},onPostProcess:function(i){a&&a.fire("PostProcess",i)}}}}),aE(bc,[],function(){function a(f){function c(z,k){var e,p=0,j,x,A,m,w,y,v=-1,q;if(e=z.duplicate(),e.collapse(k),q=e.parentElement(),q.ownerDocument===f.dom.doc){for(;"false"===q.contentEditable;){q=q.parentNode}if(!q.hasChildNodes()){return{node:q,inside:1}}for(A=q.children,j=A.length-1;j>=p;){if(y=Math.floor((p+j)/2),m=A[y],e.moveToElementText(m),v=e.compareEndPoints(k?"StartToStart":"EndToEnd",z),v>0){j=y-1}else{if(!(0>v)){return{node:m}}p=y+1}}if(0>v){for(m?e.collapse(!1):(e.moveToElementText(q),e.collapse(!0),m=q,x=!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",1)&&q==e.parentElement();){w++}}else{for(e.collapse(!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",-1)&&q==e.parentElement();){w++}}return{node:m,position:v,offset:w,inside:x}}}function h(){function i(z){var B=c(e,z),y,w,x=0,o,A,v;if(y=B.node,w=B.offset,B.inside&&!y.hasChildNodes()){return void q[z?"setStart":"setEnd"](y,0)}if(w===A){return void q[z?"setStartBefore":"setEndAfter"](y)}if(B.position<0){if(o=B.inside?y.firstChild:y.nextSibling,!o){return void q[z?"setStartAfter":"setEndAfter"](y)}if(!w){return void (3==o.nodeType?q[z?"setStart":"setEnd"](o,0):q[z?"setStartBefore":"setEndBefore"](o))}for(;o;){if(v=o.nodeValue,x+=v.length,x>=w){y=o,x-=w,x=v.length-x;break}o=o.nextSibling}}else{if(o=y.previousSibling,!o){return q[z?"setStartBefore":"setEndBefore"](y)}if(!w){return void (3==y.nodeType?q[z?"setStart":"setEnd"](o,y.nodeValue.length):q[z?"setStartAfter":"setEndAfter"](o))}for(;o;){if(x+=o.nodeValue.length,x>=w){y=o,x-=w;break}o=o.previousSibling}}q[z?"setStart":"setEnd"](y,x)}var e=f.getRng(),q=b.createRng(),t,j,p,r,m;if(t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=b.doc){return q}if(j=f.isCollapsed(),e.item){return q.setStart(t.parentNode,b.nodeIndex(t)),q.setEnd(q.startContainer,q.startOffset+1),q}try{i(!0),j||i()}catch(k){if(-2147024809!=k.number){throw k}m=d.getBookmark(2),p=e.duplicate(),p.collapse(!0),t=p.parentElement(),j||(p=e.duplicate(),p.collapse(!1),r=p.parentElement(),r.innerHTML=r.innerHTML),t.innerHTML=t.innerHTML,d.moveToBookmark(m),e=f.getRng(),i(!0),j||i()}return q}var d=this,b=f.dom,g=!1;this.getBookmark=function(l){function j(s){var p,v,q,u,m=[];for(p=s.parentNode,v=b.getRoot().parentNode;p!=v&&9!==p.nodeType;){for(q=p.children,u=q.length;u--;){if(s===q[u]){m.push(u);break}}s=p,p=p.parentNode}return m}function k(m){var o;return o=c(e,m),o?{position:o.position,offset:o.offset,indexes:j(o.node),inside:o.inside}:void 0}var e=f.getRng(),i={};return 2===l&&(e.item?i.start={ctrl:!0,indexes:j(e.item(0))}:(i.start=k(!0),f.isCollapsed()||(i.end=k()))),i},this.moveToBookmark=function(k){function i(s){var p,v,q,u;for(p=b.getRoot(),v=s.length-1;v>=0;v--){u=p.children,q=s[v],q<=u.length-1&&(p=u[q])}return p}function m(t){var p=k[t?"start":"end"],o,q,e,r;p&&(o=p.position>0,q=l.createTextRange(),q.moveToElementText(i(p.indexes)),r=p.offset,r!==e?(q.collapse(p.inside||o),q.moveStart("character",o?-r:r)):q.collapse(t),j.setEndPoint(t?"StartToStart":"EndToStart",q),t&&j.collapse(!0))}var j,l=b.doc.body;k.start&&(k.start.ctrl?(j=l.createControlRange(),j.addElement(i(k.start.indexes)),j.select()):(j=l.createTextRange(),m(!0),m(),j.select()))},this.addRange=function(B){function j(s){var r,D,p,u,l;p=b.create("a"),r=s?C:y,D=s?o:A,u=e.duplicate(),(r==w||r==w.documentElement)&&(r=i,D=0),3==r.nodeType?(r.parentNode.insertBefore(p,r),u.moveToElementText(p),u.moveStart("character",D),b.remove(p),e.setEndPoint(s?"StartToStart":"EndToEnd",u)):(l=r.childNodes,l.length?(D>=l.length?b.insertAfter(p,l[l.length-1]):r.insertBefore(p,l[D]),u.moveToElementText(p)):r.canHaveHTML&&(r.innerHTML="<span>&#xFEFF;</span>",p=r.firstChild,u.moveToElementText(p),u.collapse(g)),e.setEndPoint(s?"StartToStart":"EndToEnd",u),b.remove(p))}var e,z,C,o,y,A,x,w=f.dom.doc,i=w.body,k,q;if(C=B.startContainer,o=B.startOffset,y=B.endContainer,A=B.endOffset,e=i.createTextRange(),C==y&&1==C.nodeType){if(o==A&&!C.hasChildNodes()){if(C.canHaveHTML){return x=C.previousSibling,x&&!x.hasChildNodes()&&b.isBlock(x)?x.innerHTML="&#xFEFF;":x=null,C.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",e.moveToElementText(C.lastChild),e.select(),b.doc.selection.clear(),C.innerHTML="",void (x&&(x.innerHTML=""))}o=b.nodeIndex(C),C=C.parentNode}if(o==A-1){try{if(q=C.childNodes[o],z=i.createControlRange(),z.addElement(q),z.select(),k=f.getRng(),k.item&&q===k.item(0)){return}}catch(v){}}}j(!0),j(),e.select()},this.getRangeAt=h}return a}),aE(bg,[aS],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey},metaKeyPressed:function(b){return(a.mac?b.metaKey:b.ctrlKey)&&!b.altKey}}}),aE(bB,[bg,aI,aS],function(b,a,c){return function(b3,b9){function b5(f){var d=b9.settings.object_resizing;return d===!1||c.iOS?!1:("string"!=typeof d&&(d="table,img,div"),"false"===f.getAttribute("data-mce-resize")?!1:b9.dom.is(f,d))}function cg(d){var g,f;g=d.screenX-b8,f=d.screenY-e,U=g*W[2]+Z,q=f*W[3]+K,U=5>U?5:U,q=5>q?5:q,(b.modifierPressed(d)||"IMG"==bZ.nodeName&&W[2]*W[3]!==0)&&(U=Math.round(q/X),q=Math.round(U*X)),Y.setStyles(ch,{width:U,height:q}),W[2]<0&&ch.clientWidth<=U&&Y.setStyle(ch,"left",n+(Z-U)),W[3]<0&&ch.clientHeight<=q&&Y.setStyle(ch,"top",at+(K-q)),J||(b9.fire("ObjectResizeStart",{target:bZ,width:Z,height:K}),J=!0)}function b2(){function d(g,f){f&&(bZ.style[g]||!b9.schema.isValid(bZ.nodeName.toLowerCase(),g)?Y.setStyle(bZ,g,f):Y.setAttrib(bZ,g,f))}J=!1,d("width",U),d("height",q),Y.unbind(t,"mousemove",cg),Y.unbind(t,"mouseup",b2),Q!=t&&(Y.unbind(Q,"mousemove",cg),Y.unbind(Q,"mouseup",b2)),Y.remove(ch),V&&"TABLE"!=bZ.nodeName||b7(bZ),b9.fire("ObjectResized",{target:bZ,width:U,height:q}),b9.nodeChanged()}function b7(s,x,g){var k,w,v,o,h,i=b9.getBody();cb(),k=Y.getPos(s,i),n=k.x,at=k.y,h=s.getBoundingClientRect(),w=h.width||h.right-h.left,v=h.height||h.bottom-h.top,bZ!=s&&(ca(),bZ=s,U=q=0),o=b9.fire("ObjectSelected",{target:s}),b5(s)&&!o.isDefaultPrevented()?bY(G,function(p,r){function d(f){b8=f.screenX,e=f.screenY,Z=bZ.clientWidth,K=bZ.clientHeight,X=K/Z,W=p,ch=bZ.cloneNode(!0),Y.addClass(ch,"mce-clonedresizable"),ch.contentEditable=!1,ch.unSelectabe=!0,Y.setStyles(ch,{left:n,top:at,margin:0}),ch.removeAttribute("data-mce-selected"),b9.getBody().appendChild(ch),Y.bind(t,"mousemove",cg),Y.bind(t,"mouseup",b2),Q!=t&&(Y.bind(Q,"mousemove",cg),Y.bind(Q,"mouseup",b2))}var u,m;return x?void (r==x&&d(g)):(u=Y.get("mceResizeHandle"+r),u?Y.show(u):(m=b9.getBody(),u=Y.add(m,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":!0,"class":"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),c.ie&&(u.contentEditable=!1)),p.elm||(Y.bind(u,"mousedown",function(f){f.stopImmediatePropagation(),f.preventDefault(),d(f)}),p.elm=u),void Y.setStyles(u,{left:w*p[0]+n-u.offsetWidth/2,top:v*p[1]+at-u.offsetHeight/2}))}):ce(),bZ.setAttribute("data-mce-selected","1")}function ce(){var f,d;cb(),bZ&&bZ.removeAttribute("data-mce-selected");for(f in G){d=Y.get("mceResizeHandle"+f),d&&(Y.unbind(d),Y.remove(d))}}function b1(f){function d(i,h){if(i){do{if(i===h){return !0}}while(i=i.parentNode)}}var g;return bY(Y.select("img[data-mce-selected],hr[data-mce-selected]"),function(h){h.removeAttribute("data-mce-selected")}),g="mousedown"==f.type?f.target:b3.getNode(),g=Y.getParent(g,V?"table":"table,img,hr"),d(g,b9.getBody())&&(b0(),d(b3.getStart(),g)&&d(b3.getEnd(),g)&&(!V||g!=b3.getStart()&&"IMG"!==b3.getStart().nodeName))?void b7(g):void ce()}function cd(f,d,g){f&&f.attachEvent&&f.attachEvent("on"+d,g)}function cc(f,d,g){f&&f.detachEvent&&f.detachEvent("on"+d,g)}function b4(h){var m=h.srcElement,g,d,f,k,p,i,l;g=m.getBoundingClientRect(),i=j.clientX-g.left,l=j.clientY-g.top;for(d in G){if(f=G[d],k=m.offsetWidth*f[0],p=m.offsetHeight*f[1],Math.abs(k-i)<8&&Math.abs(p-l)<8){W=f;break}}J=!0,b9.getDoc().selection.empty(),b7(m,d,j)}function b6(f){var d=f.srcElement;if(d!=bZ){if(ca(),0===d.id.indexOf("mceResizeHandle")){return void (f.returnValue=!1)}("IMG"==d.nodeName||"TABLE"==d.nodeName)&&(ce(),bZ=d,cd(d,"resizestart",b4))}}function ca(){cc(bZ,"resizestart",b4)}function cb(){for(var f in G){var d=G[f];d.elm&&(Y.unbind(d.elm),delete d.elm)}}function b0(){try{b9.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(d){}}function bX(f){var d;if(V){d=t.body.createControlRange();try{return d.addElement(f),d.select(),!0}catch(g){}}}function cf(){bZ=ch=null,V&&(ca(),cc(b9.getBody(),"controlselect",b6))}var Y=b9.dom,bY=a.each,bZ,ch,G,W,j,b8,e,n,at,Z,K,X,J,U,q,t=b9.getDoc(),Q=document,V=c.ie&&c.ie<11;G={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var bt=".mce-content-body";return b9.contentStyles.push(bt+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+bt+" .mce-resizehandle:hover {background: #000}"+bt+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+bt+" .mce-clonedresizable {position: absolute;"+(c.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"),b9.on("init",function(){V?(b9.on("ObjectResized",function(d){"TABLE"!=d.target.nodeName&&(ce(),bX(d.target))}),cd(b9.getBody(),"controlselect",b6),b9.on("mousedown",function(d){j=d})):(b0(),c.ie>=11&&(b9.on("mouseup",function(f){var d=f.target.nodeName;/^(TABLE|IMG|HR)$/.test(d)&&(b9.selection.select(f.target,"TABLE"==d),b9.nodeChanged())}),b9.dom.bind(b9.getBody(),"mscontrolselect",function(d){/^(TABLE|IMG|HR)$/.test(d.target.nodeName)&&(d.preventDefault(),"IMG"==d.target.tagName&&window.setTimeout(function(){b9.selection.select(d.target)},0))}))),b9.on("nodechange mousedown mouseup ResizeEditor",b1),b9.on("keydown keyup",function(d){bZ&&"TABLE"==bZ.nodeName&&b1(d)})}),b9.on("remove",cb),{isResizable:b5,showResizeRect:b7,hideResizeRect:ce,updateResizeRect:b1,controlSelect:bX,destroy:cf}}}),aE(bA,[aI,aT],function(c,a){function d(f){this.walk=function(H,k){function w(h){var g;return g=h[0],3===g.nodeType&&g===r&&C>=g.nodeValue.length&&h.splice(0,1),g=h[h.length-1],0===B&&h.length>0&&g===G&&3===g.nodeType&&h.splice(h.length-1,1),h}function j(i,g,l){for(var h=[];i&&i!=l;i=i[g]){h.push(i)}return h}function E(h,g){do{if(h.parentNode==g){return h}h=h.parentNode}while(h)}function I(l,h,i){var g=i?"nextSibling":"previousSibling";for(x=l,z=x.parentNode;x&&x!=h;x=z){z=x.parentNode,F=j(x==l?x:x[g],g),F.length&&(i||F.reverse(),k(w(F)))}}var r=H.startContainer,C=H.startOffset,G=H.endContainer,B=H.endOffset,A,e,q,x,z,F,D;if(D=f.select("td.mce-item-selected,th.mce-item-selected"),D.length>0){return void b(D,function(g){k([g])})}if(1==r.nodeType&&r.hasChildNodes()&&(r=r.childNodes[C]),1==G.nodeType&&G.hasChildNodes()&&(G=G.childNodes[Math.min(B-1,G.childNodes.length-1)]),r==G){return k(w([r]))}for(A=f.findCommonAncestor(r,G),x=r;x;x=x.parentNode){if(x===G){return I(r,A,!0)}if(x===A){break}}for(x=G;x;x=x.parentNode){if(x===r){return I(G,A)}if(x===A){break}}e=E(r,A)||r,q=E(G,A)||G,I(r,e,!0),F=j(e==r?e:e.nextSibling,"nextSibling",q==G?q.nextSibling:q),F.length&&k(w(F)),I(G,q)},this.split=function(k){function h(n,i){return n.splitText(i)}var m=k.startContainer,j=k.startOffset,g=k.endContainer,l=k.endOffset;return m==g&&3==m.nodeType?j>0&&j<m.nodeValue.length&&(g=h(m,j),m=g.previousSibling,l>j?(l-=j,m=g=h(g,l).previousSibling,l=g.nodeValue.length,j=0):l=0):(3==m.nodeType&&j>0&&j<m.nodeValue.length&&(m=h(m,j),j=0),3==g.nodeType&&l>0&&l<g.nodeValue.length&&(g=h(g,l).previousSibling,l=g.nodeValue.length)),{startContainer:m,startOffset:j,endContainer:g,endOffset:l}},this.normalize=function(j){function g(i){function y(p,m){for(var l=new a(p,f.getParent(p.parentNode,f.isBlock)||v);p=l[m?"prev":"next"]();){if("BR"===p.nodeName){return !0}}}function A(m,l){return m.previousSibling&&m.previousSibling.nodeName==l}function o(C,B){var p,u,m;if(B=B||x,m=f.getParent(B.parentNode,f.isBlock)||v,C&&"BR"==B.nodeName&&t&&f.isEmpty(m)){return x=B.parentNode,z=f.nodeIndex(B),void (e=!0)}for(p=new a(B,m);k=p[C?"prev":"next"]();){if(3===k.nodeType&&k.nodeValue.length>0){return x=k,z=C?k.nodeValue.length:0,void (e=!0)}if(f.isBlock(k)||n[k.nodeName.toLowerCase()]){return}u=k}h&&u&&(x=u,e=!0,z=0)}var x,z,w,v=f.getRoot(),k,n,q,t;if(x=j[(i?"start":"end")+"Container"],z=j[(i?"start":"end")+"Offset"],t=1==x.nodeType&&z===x.childNodes.length,n=f.schema.getNonEmptyElements(),q=i,1==x.nodeType&&z>x.childNodes.length-1&&(q=!1),9===x.nodeType&&(x=f.getRoot(),z=0),x===v){if(q&&(k=x.childNodes[z>0?z-1:0],k&&(n[k.nodeName]||"TABLE"==k.nodeName))){return}if(x.hasChildNodes()&&(z=Math.min(!q&&z>0?z-1:z,x.childNodes.length-1),x=x.childNodes[z],z=0,x.hasChildNodes()&&!/TABLE/.test(x.nodeName))){k=x,w=new a(x,v);do{if(3===k.nodeType&&k.nodeValue.length>0){z=q?0:k.nodeValue.length,x=k,e=!0;break}if(n[k.nodeName.toLowerCase()]){z=f.nodeIndex(k),x=k.parentNode,"IMG"!=k.nodeName||q||z++,e=!0;break}}while(k=q?w.next():w.prev())}}h&&(3===x.nodeType&&0===z&&o(!0),1===x.nodeType&&(k=x.childNodes[z],k||(k=x.childNodes[z-1]),!k||"BR"!==k.nodeName||A(k,"A")||y(k)||y(k,!0)||o(!0,k))),q&&!h&&3===x.nodeType&&z===x.nodeValue.length&&o(!1),e&&j["set"+(i?"Start":"End")](x,z)}var e,h;return h=j.collapsed,g(!0),h||g(),e&&h&&j.collapse(!0),e}}var b=c.each;return d.compareRanges=function(g,f){if(g&&f){if(!g.item&&!g.duplicate){return g.startContainer==f.startContainer&&g.startOffset==f.startOffset}if(g.item&&f.item&&g.item(0)===f.item(0)){return !0}if(g.isEqual&&f.isEqual&&f.isEqual(g)){return !0}}return !1},d}),aE(bo,[aT,bc,bB,bA,aS,aI],function(p,h,b,k,g,v){function x(l,f,d,n){var c=this;c.dom=l,c.win=f,c.serializer=d,c.editor=n,c.controlSelection=new b(c,n),c.win.getSelection||(c.tridentSel=new h(c))}var j=v.each,t=v.grep,w=v.trim,q=g.ie,m=g.opera;return x.prototype={setCursorLocation:function(d,a){var f=this,c=f.dom.createRng();d?(c.setStart(d,a),c.setEnd(d,a),f.setRng(c),f.collapse(!1)):(f._moveEndPoint(c,f.editor.getBody(),!0),f.setRng(c))},getContent:function(z){var B=this,y=B.getRng(),f=B.dom.create("body"),A=B.getSel(),d,u,c;return z=z||{},d=u="",z.get=!0,z.format=z.format||"html",z.selection=!0,B.editor.fire("BeforeGetContent",z),"text"==z.format?B.isCollapsed()?"":y.text||(A.toString?A.toString():""):(y.cloneContents?(c=y.cloneContents(),c&&f.appendChild(c)):y.item!==aC||y.htmlText!==aC?(f.innerHTML="<br>"+(y.item?y.item(0).outerHTML:y.htmlText),f.removeChild(f.firstChild)):f.innerHTML=y.toString(),/^\s/.test(f.innerHTML)&&(d=" "),/\s+$/.test(f.innerHTML)&&(u=" "),z.getInner=!0,z.content=B.isCollapsed()?"":d+B.serializer.serialize(f,z)+u,B.editor.fire("GetContent",z),z.content)},setContent:function(z,B){var f=this,c=f.getRng(),y,d=f.win.document,A,C;if(B=B||{format:"html"},B.set=!0,B.selection=!0,z=B.content=z,B.no_events||f.editor.fire("BeforeSetContent",B),z=B.content,c.insertNode){z+='<span id="__caret">_</span>',c.startContainer==d&&c.endContainer==d?d.body.innerHTML=z:(c.deleteContents(),0===d.body.childNodes.length?d.body.innerHTML=z:c.createContextualFragment?c.insertNode(c.createContextualFragment(z)):(A=d.createDocumentFragment(),C=d.createElement("div"),A.appendChild(C),C.outerHTML=z,c.insertNode(A))),y=f.dom.get("__caret"),c=d.createRange(),c.setStartBefore(y),c.setEndBefore(y),f.setRng(c),f.dom.remove("__caret");try{f.setRng(c)}catch(u){}}else{c.item&&(d.execCommand("Delete",!1,null),c=f.getRng()),/^\s+/.test(z)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+z),f.dom.remove("__mce_tmp")):c.pasteHTML(z)}B.no_events||f.editor.fire("SetContent",B)},getStart:function(){var f=this,c=f.getRng(),s,d,a,l;if(c.duplicate||c.item){if(c.item){return c.item(0)}for(a=c.duplicate(),a.collapse(1),s=a.parentElement(),s.ownerDocument!==f.dom.doc&&(s=f.dom.getRoot()),d=l=c.parentElement();l=l.parentNode;){if(l==s){s=d;break}}return s}return s=c.startContainer,1==s.nodeType&&s.hasChildNodes()&&(s=s.childNodes[Math.min(s.childNodes.length-1,c.startOffset)]),s&&3==s.nodeType?s.parentNode:s},getEnd:function(){var d=this,a=d.getRng(),f,c;return a.duplicate||a.item?a.item?a.item(0):(a=a.duplicate(),a.collapse(0),f=a.parentElement(),f.ownerDocument!==d.dom.doc&&(f=d.dom.getRoot()),f&&"BODY"==f.nodeName?f.lastChild||f:f):(f=a.endContainer,c=a.endOffset,1==f.nodeType&&f.hasChildNodes()&&(f=f.childNodes[c>0?c-1:c]),f&&3==f.nodeType?f.parentNode:f)},getBookmark:function(G,L){function A(c,a){var d=0;return j(J.select(c),function(i,f){i==a&&(d=f)}),d}function l(c){function a(e){var u,f,d,s=e?"start":"end";u=c[s+"Container"],f=c[s+"Offset"],1==u.nodeType&&"TR"==u.nodeName&&(d=u.childNodes,u=d[Math.min(e?f:f-1,d.length-1)],u&&(f=e?0:u.childNodes.length,c["set"+(e?"Start":"End")](u,f)))}return a(!0),a(),c}function C(){function d(Q,S){var O=Q[S?"startContainer":"endContainer"],r=Q[S?"startOffset":"endOffset"],P=[],o,R,N=0;if(3==O.nodeType){if(L){for(o=O.previousSibling;o&&3==o.nodeType;o=o.previousSibling){r+=o.nodeValue.length}}P.push(r)}else{R=O.childNodes,r>=R.length&&R.length&&(N=1,r=Math.max(0,R.length-1)),P.push(z.dom.nodeIndex(R[r],L)+N)}for(;O&&O!=c;O=O.parentNode){P.push(z.dom.nodeIndex(O,L))}return P}var f=z.getRng(!0),c=J.getRoot(),a={};return a.start=d(f,!0),z.isCollapsed()||(a.end=d(f)),a}var z=this,J=z.dom,M,I,K,H,F,y,B="&#xFEFF;",D;if(2==G){return y=z.getNode(),F=y?y.nodeName:null,"IMG"==F?{name:F,index:A(F,y)}:z.tridentSel?z.tridentSel.getBookmark(G):C()}if(G){return{rng:z.getRng()}}if(M=z.getRng(),K=J.uniqueId(),H=z.isCollapsed(),D="overflow:hidden;line-height:0px",M.duplicate||M.item){if(M.item){return y=M.item(0),F=y.nodeName,{name:F,index:A(F,y)}}I=M.duplicate();try{M.collapse(),M.pasteHTML('<span data-mce-type="bookmark" id="'+K+'_start" style="'+D+'">'+B+"</span>"),H||(I.collapse(!1),M.moveToElementText(I.parentElement()),0===M.compareEndPoints("StartToEnd",I)&&I.move("character",-1),I.pasteHTML('<span data-mce-type="bookmark" id="'+K+'_end" style="'+D+'">'+B+"</span>"))}catch(E){return null}}else{if(y=z.getNode(),F=y.nodeName,"IMG"==F){return{name:F,index:A(F,y)}}I=l(M.cloneRange()),H||(I.collapse(!1),I.insertNode(J.create("span",{"data-mce-type":"bookmark",id:K+"_end",style:D},B))),M=l(M),M.collapse(!0),M.insertNode(J.create("span",{"data-mce-type":"bookmark",id:K+"_start",style:D},B))}return z.moveToBookmark({id:K,keep:1}),{id:K}},moveToBookmark:function(B){function E(s){var H=B[s?"start":"end"],u,e,G,a;if(H){for(G=H[0],e=F,u=H.length-1;u>=1;u--){if(a=e.childNodes,H[u]>a.length-1){return}e=a[H[u]]}3===e.nodeType&&(G=Math.min(H[0],e.nodeValue.length)),1===e.nodeType&&(G=Math.min(H[0],e.childNodes.length)),s?C.setStart(e,G):C.setEnd(e,G)}return !0}function l(u){var J=f.get(B.id+"_"+u),H,o,e,G,I=B.keep;if(J&&(H=J.parentNode,"start"==u?(I?(H=J.firstChild,o=1):o=f.nodeIndex(J),D=d=H,y=A=o):(I?(H=J.firstChild,o=1):o=f.nodeIndex(J),d=H,A=o),!I)){for(G=J.previousSibling,e=J.nextSibling,j(t(J.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});J=f.get(B.id+"_"+u);){f.remove(J,1)}G&&e&&G.nodeType==e.nodeType&&3==G.nodeType&&!m&&(o=G.nodeValue.length,G.appendData(e.nodeValue),f.remove(e),"start"==u?(D=d=G,y=A=o):(d=G,A=o))}}function c(a){return !f.isBlock(a)||a.innerHTML||q||(a.innerHTML='<br data-mce-bogus="1" />'),a}var z=this,f=z.dom,C,F,D,d,y,A;if(B){if(B.start){if(C=f.createRng(),F=f.getRoot(),z.tridentSel){return z.tridentSel.moveToBookmark(B)}E(!0)&&E()&&z.setRng(C)}else{B.id?(l("start"),l("end"),D&&(C=f.createRng(),C.setStart(c(D),y),C.setEnd(c(d),A),z.setRng(C))):B.name?z.select(f.select(B.name)[B.index]):B.rng&&z.setRng(B.rng)}}},select:function(f,c){var s=this,d=s.dom,a=d.createRng(),l;if(s.lastFocusBookmark=null,f){if(!c&&s.controlSelection.controlSelect(f)){return}l=d.nodeIndex(f),a.setStart(f.parentNode,l),a.setEnd(f.parentNode,l+1),c&&(s._moveEndPoint(a,f,!0),s._moveEndPoint(a,f)),s.setRng(a)}return f},isCollapsed:function(){var c=this,a=c.getRng(),d=c.getSel();return !a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!d||a.collapsed},collapse:function(d){var a=this,f=a.getRng(),c;f.item&&(c=f.item(0),f=a.win.document.body.createTextRange(),f.moveToElementText(c)),f.collapse(!!d),a.setRng(f)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(A){function D(i,a,l){try{return a.compareBoundaryPoints(i,l)}catch(c){return -1}}var u=this,d,z,f,C=u.win.document,E;if(!A&&u.lastFocusBookmark){var y=u.lastFocusBookmark;return y.startContainer?(z=C.createRange(),z.setStart(y.startContainer,y.startOffset),z.setEnd(y.endContainer,y.endOffset)):z=y,z}if(A&&u.tridentSel){return u.tridentSel.getRangeAt(0)}try{(d=u.getSel())&&(z=d.rangeCount>0?d.getRangeAt(0):d.createRange?d.createRange():C.createRange())}catch(B){}if(q&&z&&z.setStart&&C.selection){try{E=C.selection.createRange()}catch(B){}E&&E.item&&(f=E.item(0),z=C.createRange(),z.setStartBefore(f),z.setEndAfter(f))}return z||(z=C.createRange?C.createRange():C.body.createTextRange()),z.setStart&&9===z.startContainer.nodeType&&z.collapsed&&(f=u.dom.getRoot(),z.setStart(f,0),z.setEnd(f,0)),u.selectedRange&&u.explicitRange&&(0===D(z.START_TO_START,z,u.selectedRange)&&0===D(z.END_TO_END,z,u.selectedRange)?z=u.explicitRange:(u.selectedRange=null,u.explicitRange=null)),z},setRng:function(f,c){var l=this,d;if(f.select){try{f.select()}catch(a){}}else{if(l.tridentSel){if(f.cloneRange){try{return void l.tridentSel.addRange(f)}catch(a){}}}else{if(d=l.getSel()){l.explicitRange=f;try{d.removeAllRanges(),d.addRange(f)}catch(a){}c===!1&&d.extend&&(d.collapse(f.endContainer,f.endOffset),d.extend(f.startContainer,f.startOffset)),l.selectedRange=d.rangeCount>0?d.getRangeAt(0):null}}}},setNode:function(c){var a=this;return a.setContent(a.dom.getOuterHTML(c)),c},getNode:function(){function z(i,a){for(var l=i;i&&3===i.nodeType&&0===i.length;){i=a?i.nextSibling:i.previousSibling}return i||l}var B=this,f=B.getRng(),c,y=f.startContainer,d=f.endContainer,A=f.startOffset,C=f.endOffset,u=B.dom.getRoot();return f?f.setStart?(c=f.commonAncestorContainer,!f.collapsed&&(y==d&&2>C-A&&y.hasChildNodes()&&(c=y.childNodes[A]),3===y.nodeType&&3===d.nodeType&&(y=y.length===A?z(y.nextSibling,!0):y.parentNode,d=0===C?z(d.previousSibling,!1):d.parentNode,y&&y===d))?y:c&&3==c.nodeType?c.parentNode:c):(c=f.item?f.item(0):f.parentElement(),c.ownerDocument!==B.win.document&&(c=u),c):u},getSelectedBlocks:function(f,A){var y=this,e=y.dom,z,d,u=[];if(d=e.getRoot(),f=e.getParent(f||y.getStart(),e.isBlock),A=e.getParent(A||y.getEnd(),e.isBlock),f&&f!=d&&u.push(f),f&&A&&f!=A){z=f;for(var c=new p(f,d);(z=c.next())&&z!=A;){e.isBlock(z)&&u.push(z)}}return A&&f!=A&&A!=d&&u.push(A),u},isForward:function(){var d=this.dom,a=this.getSel(),f,c;return a&&a.anchorNode&&a.focusNode?(f=d.createRng(),f.setStart(a.anchorNode,a.anchorOffset),f.collapse(!0),c=d.createRng(),c.setStart(a.focusNode,a.focusOffset),c.collapse(!0),f.compareBoundaryPoints(f.START_TO_START,c)<=0):!0},normalize:function(){var c=this,a=c.getRng();return !q&&new k(c.dom).normalize(a)&&c.setRng(a,c.isForward()),a},selectorChanged:function(d,a){var f=this,c;return f.selectorChangedData||(f.selectorChangedData={},c={},f.editor.on("NodeChange",function(s){var r=s.element,n=f.dom,u=n.getParents(r,null,n.getRoot()),l={};j(f.selectorChangedData,function(o,i){j(u,function(e){return n.is(e,i)?(c[i]||(j(o,function(y){y(!0,{node:e,selector:i,parents:u})}),c[i]=o),l[i]=o,!1):void 0})}),j(c,function(i,o){l[o]||(delete c[o],j(i,function(y){y(!1,{node:r,selector:o,parents:u})}))})})),f.selectorChangedData[d]||(f.selectorChangedData[d]=[]),f.selectorChangedData[d].push(a),f},getScrollContainer:function(){for(var c,a=this.dom.getRoot();a&&"BODY"!=a.nodeName;){if(a.scrollHeight>a.clientHeight){c=a;break}a=a.parentNode}return c},scrollIntoView:function(A){function D(i){for(var a=0,l=0,c=i;c&&c.nodeType;){a+=c.offsetLeft||0,l+=c.offsetTop||0,c=c.offsetParent}return{x:a,y:l}}var u,d,z=this,f=z.dom,C=f.getRoot(),E,y;if("BODY"!=C.nodeName){var B=z.getScrollContainer();if(B){return u=D(A).y-D(B).y,y=B.clientHeight,E=B.scrollTop,void ((E>u||u+25>E+y)&&(B.scrollTop=E>u?u:u-y+25))}}d=f.getViewPort(z.editor.getWin()),u=f.getPos(A).y,E=d.y,y=d.h,(u<d.y||u+25>E+y)&&z.editor.getWin().scrollTo(0,E>u?u:u-y+25)},_moveEndPoint:function(e,o,l){var d=o,c=new p(o,d),f=this.dom.schema.getNonEmptyElements();do{if(3==o.nodeType&&0!==w(o.nodeValue).length){return void (l?e.setStart(o,0):e.setEnd(o,o.nodeValue.length))}if(f[o.nodeName]){return void (l?e.setStartBefore(o):"BR"==o.nodeName?e.setEndBefore(o):e.setEndAfter(o))}if(g.ie&&g.ie<11&&this.dom.isBlock(o)&&this.dom.isEmpty(o)){return void (l?e.setStart(o,0):e.setEnd(o,0))}}while(o=l?c.next():c.prev());"BODY"==d.nodeName&&(l?e.setStart(d,0):e.setEnd(d,d.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},x}),aE(bx,[aI],function(b){function a(j,n){function d(i){return i.replace(/%(\w+)/g,"")}var h,f,m=j.dom,p="",g,k;if(k=j.settings.preview_styles,k===!1){return""}if(k||(k="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof n){if(n=j.formatter.get(n),!n){return}n=n[0]}return h=n.block||n.inline||"span",f=m.create(h),c(n.styles,function(l,i){l=d(l),l&&m.setStyle(f,i,l)}),c(n.attributes,function(l,i){l=d(l),l&&m.setAttrib(f,i,l)}),c(n.classes,function(i){i=d(i),m.hasClass(f,i)||m.addClass(f,i)}),j.fire("PreviewFormats"),m.setStyles(f,{position:"absolute",left:-65535}),j.getBody().appendChild(f),g=m.getStyle(j.getBody(),"fontSize",!0),g=/px$/.test(g)?parseInt(g,10):0,c(k.split(" "),function(e){var i=m.getStyle(f,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(i)&&(i=m.getStyle(j.getBody(),e,!0),"#ffffff"==m.toHex(i).toLowerCase())||"color"==e&&"#000000"==m.toHex(i).toLowerCase())){if("font-size"==e&&/em|%$/.test(i)){if(0===g){return}i=parseFloat(i,10)/(/%$/.test(i)?100:1),i=i*g+"px"}"border"==e&&i&&(p+="padding:0 2px;"),p+=e+":"+i+";"}}),j.fire("AfterPreviewFormats"),m.remove(f),p}var c=b.each;return{getCssText:a}}),aE(bn,[aT,bA,aI,bx],function(c,a,d,b){return function(cB){function cv(f){return f.nodeType&&(f=f.nodeName),!!cB.schema.getTextBlockElements()[f.toLowerCase()]}function cJ(g,f){return cl.getParents(g,f,cl.getRoot())}function cr(f){return 1===f.nodeType&&"_mce_caret"===f.id}function cx(){cG({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(g,f,h){cz(h,function(i,j){cl.setAttrib(g,j,i)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),cz("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(f){cG(f,{block:f,remove:"all"})}),cG(cB.settings.formats)}function cH(){cB.addShortcut("ctrl+b","bold_desc","Bold"),cB.addShortcut("ctrl+i","italic_desc","Italic"),cB.addShortcut("ctrl+u","underline_desc","Underline");for(var f=1;6>=f;f++){cB.addShortcut("ctrl+"+f,"",["FormatBlock",!1,"h"+f])}cB.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),cB.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),cB.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function cq(f){return f?cb[f]:cb}function cG(g,f){g&&("string"!=typeof g?cz(g,function(i,h){cG(h,i)}):(f=f.length?f:[f],cz(f,function(h){h.deep===b0&&(h.deep=!h.selector),h.split===b0&&(h.split=!h.selector||h.inline),h.remove===b0&&h.selector&&!h.inline&&(h.remove="none"),h.selector&&h.inline&&(h.mixed=!0,h.block_expand=!0),"string"==typeof h.classes&&(h.classes=h.classes.split(/\s+/))}),cb[g]=f))}function cF(g){var f;return cB.dom.getParent(g,function(h){return f=cB.dom.getStyle(h,"text-decoration"),f&&"none"!==f}),f}function cu(g){var f;1===g.nodeType&&g.parentNode&&1===g.parentNode.nodeType&&(f=cF(g.parentNode),cB.dom.getStyle(g,"color")&&f?cB.dom.setStyle(g,"text-decoration",f):cB.dom.getStyle(g,"textdecoration")===f&&cB.dom.setStyle(g,"text-decoration",null))}function cw(z,k,i){function x(g,f){f=f||o,g&&(f.onformat&&f.onformat(g,f,k,i),cz(f.styles,function(h,l){cl.setStyle(g,l,cy(h,k))}),cz(f.attributes,function(h,l){cl.setAttrib(g,l,cy(h,k))}),cz(f.classes,function(h){h=cy(h,k),cl.hasClass(g,h)||cl.addClass(g,h)}))}function m(){function h(C,D){var l=new c(D);for(i=l.current();i;i=l.prev()){if(i.childNodes.length>1||i==C||"BR"==i.tagName){return i}}}var B=cB.selection.getRng(),A=B.startContainer,g=B.endContainer;if(A!=g&&0===B.endOffset){var y=h(A,g),f=3==y.nodeType?y.length:y.childNodes.length;B.setEnd(y,f)}return B}function u(B,F,h,f,A){var g=[],D=-1,G,y=-1,C=-1,E;return cz(B.childNodes,function(H,l){return"UL"===H.nodeName||"OL"===H.nodeName?(D=l,G=H,!1):void 0}),cz(B.childNodes,function(l,H){"SPAN"===l.nodeName&&"bookmark"==cl.getAttrib(l,"data-mce-type")&&(l.id==F.id+"_start"?y=H:l.id==F.id+"_end"&&(C=H))}),0>=D||D>y&&C>D?(cz(cj(B.childNodes),A),0):(E=cl.clone(h,ca),cz(cj(B.childNodes),function(H,l){(D>y&&D>l||y>D&&l>D)&&(g.push(H),H.parentNode.removeChild(H))}),D>y?B.insertBefore(E,G):y>D&&B.insertBefore(E,G.nextSibling),f.push(E),cz(g,function(l){E.appendChild(l)}),E)}function s(B,y,h){var f=[],g,C,A=!0;g=o.inline||o.block,C=cl.create(g),x(C),at.walk(B,function(E){function l(I){var K,J,F,G,H;return H=A,K=I.nodeName.toLowerCase(),J=I.parentNode.nodeName.toLowerCase(),1===I.nodeType&&e(I)&&(H=A,A="true"===e(I),G=!0),b3(K,"br")?(D=0,void (o.block&&cl.remove(I))):o.wrapper&&cp(I,z,k)?void (D=0):A&&!G&&o.block&&!o.wrapper&&cv(K)&&bt(J,g)?(I=cl.rename(I,g),x(I),f.push(I),void (D=0)):o.selector&&(cz(q,function(L){"collapsed" in L&&L.collapsed!==v||cl.is(I,L.selector)&&!cr(I)&&(x(I,L),F=!0)}),!o.inline||F)?void (D=0):void (!A||G||!bt(g,K)||!bt(J,g)||!h&&3===I.nodeType&&1===I.nodeValue.length&&65279===I.nodeValue.charCodeAt(0)||cr(I)||o.inline&&cs(I)?"li"==K&&y?D=u(I,y,C,f,l):(D=0,cz(cj(I.childNodes),l),G&&(A=H),D=0):(D||(D=cl.clone(C,ca),I.parentNode.insertBefore(D,I),f.push(D)),D.appendChild(I)))}var D;cz(E,l)}),o.wrap_links===!1&&cz(f,function(D){function l(G){var H,F,E;if("A"===G.nodeName){for(F=cl.clone(C,ca),f.push(F),E=cj(G.childNodes),H=0;H<E.length;H++){F.appendChild(E[H])}G.appendChild(F)}cz(cj(G.childNodes),l)}l(D)}),cz(f,function(E){function D(H){var G=0;return cz(H.childNodes,function(I){bX(I)||b4(I)||G++}),G}function l(H){var G,I;return cz(H.childNodes,function(J){return 1!=J.nodeType||b4(J)||cr(J)?void 0:(G=J,ca)}),G&&!b4(G)&&cK(G,o)&&(I=cl.clone(G,ca),x(I),cl.replace(I,H,r),cl.remove(G,1)),I||H}var F;if(F=D(E),(f.length>1||!cs(E))&&0===F){return void cl.remove(E,1)}if(o.inline||o.wrapper){if(o.exact||1!==F||(E=l(E)),cz(q,function(G){cz(cl.select(G.inline,E),function(I){var H;if(!b4(I)){if(G.wrap_links===!1){H=I.parentNode;do{if("A"===H.nodeName){return}}while(H=H.parentNode)}cf(G,k,I,G.exact?I:null)}})}),cp(E.parentNode,z,k)){return cl.remove(E,1),E=0,r}o.merge_with_parents&&cl.getParent(E.parentNode,function(G){return cp(G,z,k)?(cl.remove(E,1),E=0,r):void 0}),E&&o.merge_siblings!==!1&&(E=b9(cd(E),E),E=b9(E,cd(E,r)))}})}var q=cq(z),o=q[0],p,w,v=!i&&t.isCollapsed();if(o){if(i){i.nodeType?(w=cl.createRng(),w.setStartBefore(i),w.setEndAfter(i),s(cg(w,q),null,!0)):s(i,null,!0)}else{if(v&&o.inline&&!cl.select("td.mce-item-selected,th.mce-item-selected").length){b2("apply",z,k)}else{var j=cB.selection.getNode();ck||!q[0].defaultBlock||cl.getParent(j,cl.isBlock)||cw(q[0].defaultBlock),cB.selection.setRng(m()),p=t.getBookmark(),s(cg(t.getRng(r),q),p),o.styles&&(o.styles.color||o.styles.textDecoration)&&(ch(j,cu,"childNodes"),cu(j)),t.moveToBookmark(p),b8(t.getRng(r)),cB.nodeChanged()}}}}function cC(x,B,k){function f(m){var D,h,p,g,l;if(1===m.nodeType&&e(m)&&(g=A,A="true"===e(m),l=!0),D=cj(m.childNodes),A&&!l){for(h=0,p=i.length;p>h&&!cf(i[h],B,m,m);h++){}}if(q.deep&&D.length){for(h=0,p=D.length;p>h;h++){f(D[h])}l&&(A=g)}}function j(h){var g;return cz(cJ(h.parentNode).reverse(),function(m){var l;g||"_start"==m.id||"_end"==m.id||(l=cp(m,x,B),l&&l.split!==!1&&(g=m))}),g}function C(E,m,g,D){var h,G,I,p,F,H;if(E){for(H=E.parentNode,h=m.parentNode;h&&h!=H;h=h.parentNode){for(G=cl.clone(h,ca),F=0;F<i.length;F++){if(cf(i[F],B,G,G)){G=0;break}}G&&(I&&G.appendChild(I),p||(p=G),I=G)}!D||q.mixed&&cs(E)||(m=cl.split(E,m)),I&&(g.parentNode.insertBefore(I,g),p.appendChild(g))}return m}function u(g){return C(j(g),g,g,!0)}function z(h){var g=cl.get(h?"_start":"_end"),l=g[h?"firstChild":"lastChild"];return b4(l)&&(l=l[h?"firstChild":"lastChild"]),cl.remove(g,!0),l}function y(h){var g,m,l=h.commonAncestorContainer;h=cg(h,i,r),q.split&&(g=b1(h,r),m=b1(h),g!=m?(/^(TR|TH|TD)$/.test(g.nodeName)&&g.firstChild&&(g="TR"==g.nodeName?g.firstChild.firstChild||g:g.firstChild||g),l&&/^T(HEAD|BODY|FOOT|R)$/.test(l.nodeName)&&/^(TH|TD)$/.test(m.nodeName)&&m.firstChild&&(m=m.firstChild||m),g=bZ(g,"span",{id:"_start","data-mce-type":"bookmark"}),m=bZ(m,"span",{id:"_end","data-mce-type":"bookmark"}),u(g),u(m),g=z(r),m=z()):g=m=u(g),h.startContainer=g.parentNode,h.startOffset=cA(g),h.endContainer=m.parentNode,h.endOffset=cA(m)+1),at.walk(h,function(o){cz(o,function(p){f(p),1===p.nodeType&&"underline"===cB.dom.getStyle(p,"text-decoration")&&p.parentNode&&"underline"===cF(p.parentNode)&&cf({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,p)})})}var i=cq(x),q=i[0],v,w,A=!0;return k?void (k.nodeType?(w=cl.createRng(),w.setStartBefore(k),w.setEndAfter(k),y(w)):y(k)):void (t.isCollapsed()&&q.inline&&!cl.select("td.mce-item-selected,th.mce-item-selected").length?b2("remove",x,B):(v=t.getBookmark(),y(t.getRng(r)),t.moveToBookmark(v),q.inline&&cm(x,B,t.getStart())&&b8(t.getRng(!0)),cB.nodeChanged()))}function cD(h,f,i){var g=cq(h);!cm(h,f,i)||"toggle" in g[0]&&!g[0].toggle?cw(h,f,i):cC(h,f,i)}function cp(m,q,h,f){function k(A,y,x){var B,w,z=y[x],v;if(y.onmatch){return y.onmatch(A,y,x)}if(z){if(z.length===b0){for(B in z){if(z.hasOwnProperty(B)){if(w="attributes"===x?cl.getAttrib(A,B):cc(A,B),f&&!w&&!y.exact){return}if((!f||y.exact)&&!b3(w,bY(cy(z[B],h),B))){return}}}}else{for(v=0;v<z.length;v++){if("attributes"===x?cl.getAttrib(A,z[v]):cc(A,z[v])){return y}}}}return y}var g=cq(q),p,u,j;if(g&&m){for(u=0;u<g.length;u++){if(p=g[u],cK(m,p)&&k(m,p,"attributes")&&k(m,p,"styles")){if(j=p.classes){for(u=0;u<j.length;u++){if(!cl.hasClass(m,j[u])){return}}}return p}}}}function cm(j,g,k){function h(l){var i=cl.getRoot();return l===i?!1:(l=cl.getParent(l,function(m){return m.parentNode===i||!!cp(m,j,g,!0)}),cp(l,j,g))}var f;return k?h(k):(k=t.getNode(),h(k)?r:(f=t.getStart(),f!=k&&h(f)?r:ca))}function cI(j,g){var k,h=[],f={};return k=t.getStart(),cl.getParent(k,function(m){var l,i;for(l=0;l<j.length;l++){i=j[l],!f[i]&&cp(m,i,g)&&(f[i]=!0,h.push(i))}},cl.getRoot()),h}function ce(k){var g=cq(k),m,j,f,l,h;if(g){for(m=t.getStart(),j=cJ(m),l=g.length-1;l>=0;l--){if(h=g[l].selector,!h||g[l].defaultBlock){return r}for(f=j.length-1;f>=0;f--){if(cl.is(j[f],h)){return r}}}}return ca}function cn(h,f,i){var g;return b7||(b7={},g={},cB.on("NodeChange",function(k){var j=cJ(k.element),l={};cz(b7,function(o,m){cz(j,function(p){return cp(p,m,{},o.similar)?(g[m]||(cz(o,function(q){q(!0,{node:p,format:m,parents:j})}),g[m]=o),l[m]=o,!1):void 0})}),cz(g,function(m,p){l[p]||(delete g[p],cz(m,function(o){o(!1,{node:k.element,format:p,parents:j})}))})})),cz(h.split(","),function(j){b7[j]||(b7[j]=[],b7[j].similar=i),b7[j].push(f)}),this}function co(f){return b.getCssText(cB,f)}function cK(g,f){return b3(g,f.inline)?r:b3(g,f.block)?r:f.selector?1==g.nodeType&&cl.is(g,f.selector):void 0}function b3(g,f){return g=g||"",f=f||"",g=""+(g.nodeName||g),f=""+(f.nodeName||f),g.toLowerCase()==f.toLowerCase()}function cc(g,f){return bY(cl.getStyle(g,f),f)}function bY(g,f){return("color"==f||"backgroundColor"==f)&&(g=cl.toHex(g)),"fontWeight"==f&&700==g&&(g="bold"),"fontFamily"==f&&(g=g.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+g}function cy(g,f){return"string"!=typeof g?g=g(f):f&&(g=g.replace(/%(\w+)/g,function(h,i){return f[i]||h})),g}function bX(f){return f&&3===f.nodeType&&/^([\t \r\n]+|)$/.test(f.nodeValue)}function bZ(h,f,i){var g=cl.create(f,i);return h.parentNode.insertBefore(g,h),g.appendChild(h),g}function cg(G,k,i){function H(p){function h(s){return"BR"==s.nodeName&&s.getAttribute("data-mce-bogus")&&!s.nextSibling}var m,g,u,f,l;if(m=g=p?x:D,f=p?"previousSibling":"nextSibling",l=cl.getRoot(),3==m.nodeType&&!bX(m)&&(p?E>0:C<m.nodeValue.length)){return m}for(;;){if(!k[0].block_expand&&cs(g)){return g}for(u=g[f];u;u=u[f]){if(!b4(u)&&!bX(u)&&!h(u)){return g}}if(g.parentNode==l){m=g;break}g=g.parentNode}return m}function q(g,f){for(f===b0&&(f=3===g.nodeType?g.length:g.childNodes.length);g&&g.hasChildNodes();){g=g.childNodes[f],g&&(f=3===g.nodeType?g.length:g.childNodes.length)}return{node:g,offset:f}}function B(g){for(var f=g;f;){if(1===f.nodeType&&e(f)){return"false"===e(f)?f:g}f=f.parentNode}return g}function F(m,I,v){function g(J,u){var K,s,l=J.nodeValue;return"undefined"==typeof u&&(u=v?l.length:0),v?(K=l.lastIndexOf(" ",u),s=l.lastIndexOf("\xa0",u),K=K>s?K:s,-1===K||i||K++):(K=l.indexOf(" ",u),s=l.indexOf("\xa0",u),K=-1!==K&&(-1===s||s>K)?K:s),K}var p,f,y,h;if(3===m.nodeType){if(y=g(m,I),-1!==y){return{container:m,offset:y}}h=m}for(p=new c(m,cl.getParent(m,cs)||cB.getBody());f=p[v?"prev":"next"]();){if(3===f.nodeType){if(h=f,y=g(f),-1!==y){return{container:f,offset:y}}}else{if(cs(f)){break}}}return h?(I=v?0:h.length,{container:h,offset:I}):void 0}function A(p,m){var g,u,h,f;for(3==p.nodeType&&0===p.nodeValue.length&&p[m]&&(p=p[m]),g=cJ(p),u=0;u<g.length;u++){for(h=0;h<k.length;h++){if(f=k[h],!("collapsed" in f&&f.collapsed!==G.collapsed)&&cl.is(g[u],f.selector)){return g[u]}}}return p}function z(l,g){var h,f=cl.getRoot();if(k[0].wrapper||(h=cl.getParent(l,k[0].block,f)),h||(h=cl.getParent(3==l.nodeType?l.parentNode:l,function(m){return m!=f&&cv(m)})),h&&k[0].wrapper&&(h=cJ(h,"ul,ol").reverse()[0]||h),!h){for(h=l;h[g]&&!cs(h[g])&&(h=h[g],!b3(h,"br"));){}}return h||l}var j,o,w,x=G.startContainer,E=G.startOffset,D=G.endContainer,C=G.endOffset;if(1==x.nodeType&&x.hasChildNodes()&&(j=x.childNodes.length-1,x=x.childNodes[E>j?j:E],3==x.nodeType&&(E=0)),1==D.nodeType&&D.hasChildNodes()&&(j=D.childNodes.length-1,D=D.childNodes[C>j?j:C-1],3==D.nodeType&&(C=D.nodeValue.length)),x=B(x),D=B(D),(b4(x.parentNode)||b4(x))&&(x=b4(x)?x:x.parentNode,x=x.nextSibling||x,3==x.nodeType&&(E=0)),(b4(D.parentNode)||b4(D))&&(D=b4(D)?D:D.parentNode,D=D.previousSibling||D,3==D.nodeType&&(C=D.length)),k[0].inline&&(G.collapsed&&(w=F(x,E,!0),w&&(x=w.container,E=w.offset),w=F(D,C),w&&(D=w.container,C=w.offset)),o=q(D,C),o.node)){for(;o.node&&0===o.offset&&o.node.previousSibling;){o=q(o.node.previousSibling)}o.node&&o.offset>0&&3===o.node.nodeType&&" "===o.node.nodeValue.charAt(o.offset-1)&&o.offset>1&&(D=o.node,D.splitText(o.offset-1))}return(k[0].inline||k[0].block_expand)&&(k[0].inline&&3==x.nodeType&&0!==E||(x=H(!0)),k[0].inline&&3==D.nodeType&&C!==D.nodeValue.length||(D=H())),k[0].selector&&k[0].expand!==ca&&!k[0].inline&&(x=A(x,"previousSibling"),D=A(D,"nextSibling")),(k[0].block||k[0].selector)&&(x=z(x,"previousSibling"),D=z(D,"nextSibling"),k[0].block&&(cs(x)||(x=H(!0)),cs(D)||(D=H()))),1==x.nodeType&&(E=cA(x),x=x.parentNode),1==D.nodeType&&(C=cA(D)+1,D=D.parentNode),{startContainer:x,startOffset:E,endContainer:D,endOffset:C}}function cf(k,h,m,j){var g,l,f;if(!cK(m,k)){return ca}if("all"!=k.remove){for(cz(k.styles,function(p,o){p=bY(cy(p,h),o),"number"==typeof o&&(o=p,j=0),(!j||b3(cc(j,o),p))&&cl.setStyle(m,o,""),f=1}),f&&""===cl.getAttrib(m,"style")&&(m.removeAttribute("style"),m.removeAttribute("data-mce-style")),cz(k.attributes,function(q,p){var s;if(q=cy(q,h),"number"==typeof p&&(p=q,j=0),!j||b3(cl.getAttrib(j,p),q)){if("class"==p&&(q=cl.getAttrib(m,p),q&&(s="",cz(q.split(/\s+/),function(i){/mce\w+/.test(i)&&(s+=(s?" ":"")+i)}),s))){return void cl.setAttrib(m,p,s)}"class"==p&&m.removeAttribute("className"),n.test(p)&&m.removeAttribute("data-mce-"+p),m.removeAttribute(p)}}),cz(k.classes,function(i){i=cy(i,h),(!j||cl.hasClass(j,i))&&cl.removeClass(m,i)}),l=cl.getAttribs(m),g=0;g<l.length;g++){if(0!==l[g].nodeName.indexOf("_")){return ca}}}return"none"!=k.remove?(b5(m,k),r):void 0}function b5(h,f){function j(l,k,m){return l=cd(l,k,m),!l||"BR"==l.nodeName||cs(l)}var g=h.parentNode,i;f.block&&(ck?g==cl.getRoot()&&(f.list_block&&b3(h,f.list_block)||cz(cj(h.childNodes),function(k){bt(ck,k.nodeName.toLowerCase())?i?i.appendChild(k):(i=bZ(k,ck),cl.setAttribs(i,cB.settings.forced_root_block_attrs)):i=0})):cs(h)&&!cs(g)&&(j(h,ca)||j(h.firstChild,r,1)||h.insertBefore(cl.create("br"),h.firstChild),j(h,r)||j(h.lastChild,ca,1)||h.appendChild(cl.create("br")))),f.selector&&f.inline&&!b3(f.inline,h)||cl.remove(h,1)}function cd(g,f,h){if(g){for(f=f?"nextSibling":"previousSibling",g=h?g:g[f];g;g=g[f]){if(1==g.nodeType||!bX(g)){return g}}}}function b4(f){return f&&1==f.nodeType&&"bookmark"==f.getAttribute("data-mce-type")}function b9(j,g){function l(o,i){function p(s){var q={};return cz(cl.getAttribs(s),function(v){var u=v.nodeName.toLowerCase();0!==u.indexOf("_")&&"style"!==u&&"data-mce-style"!==u&&(q[u]=cl.getAttrib(s,u))}),q}function m(u,q){var v,s;for(s in u){if(u.hasOwnProperty(s)){if(v=q[s],v===b0){return ca}if(u[s]!=v){return ca}delete q[s]}}for(s in q){if(q.hasOwnProperty(s)){return ca}}return r}return o.nodeName!=i.nodeName?ca:m(p(o),p(i))&&m(cl.parseStyle(cl.getAttrib(o,"style")),cl.parseStyle(cl.getAttrib(i,"style")))?!b4(o)&&!b4(i):ca}function h(m,i){for(f=m;f;f=f[i]){if(3==f.nodeType&&0!==f.nodeValue.length){return m}if(1==f.nodeType&&!b4(f)){return f}}return m}var f,k;if(j&&g&&(j=h(j,"previousSibling"),g=h(g,"nextSibling"),l(j,g))){for(f=j.nextSibling;f&&f!=g;){k=f,f=f.nextSibling,j.appendChild(k)}return cl.remove(g),cz(cj(g.childNodes),function(i){j.appendChild(i)}),j}return g}function b1(g,j){var h,i,f;return h=g[j?"startContainer":"endContainer"],i=g[j?"startOffset":"endOffset"],1==h.nodeType&&(f=h.childNodes.length-1,!j&&i&&i--,h=h.childNodes[i>f?f:i]),3===h.nodeType&&j&&i>=h.nodeValue.length&&(h=new c(h,cB.getBody()).next()||h),3!==h.nodeType||j||0!==i||(h=new c(h,cB.getBody()).prev()||h),h}function b2(z,j,h){function x(g){var f=cl.create("span",{id:w,"data-mce-bogus":!0,style:v?"color:red":""});return g&&f.appendChild(cB.getDoc().createTextNode(b6)),f}function A(g,f){for(;g;){if(3===g.nodeType&&g.nodeValue!==b6||g.childNodes.length>1){return !1}f&&1===g.nodeType&&f.push(g),g=g.firstChild}return !0}function k(f){for(;f;){if(f.id===w){return f}f=f.parentNode}}function u(f){var g;if(f){for(g=new c(f,f),f=g.current();f;f=g.next()){if(3===f.nodeType){return f}}}}function q(l,f){var p,g;if(l){g=t.getRng(!0),A(l)?(f!==!1&&(g.setStartBefore(l),g.setEndBefore(l)),cl.remove(l)):(p=u(l),p.nodeValue.charAt(0)===b6&&(p=p.deleteData(0,1)),cl.remove(l,1)),t.setRng(g)}else{if(l=k(t.getStart()),!l){for(;l=cl.get(w);){q(l,!1)}}}}function o(){var B,l,g,D,p,C,y;B=t.getRng(!0),D=B.startOffset,C=B.startContainer,y=C.nodeValue,l=k(t.getStart()),l&&(g=u(l)),y&&D>0&&D<y.length&&/\w/.test(y.charAt(D))&&/\w/.test(y.charAt(D-1))?(p=t.getBookmark(),B.collapse(!0),B=cg(B,cq(j)),B=at.split(B),cw(j,h,B),t.moveToBookmark(p)):(l&&g.nodeValue===b6?cw(j,h,l):(l=x(!0),g=l.firstChild,B.insertNode(l),D=1,cw(j,h,l)),t.setCursorLocation(g,D))}function i(){var G=t.getRng(!0),J,D,K,C,I,H,F=[],y,B;for(J=G.startContainer,D=G.startOffset,I=J,3==J.nodeType&&((D!=J.nodeValue.length||J.nodeValue===b6)&&(C=!0),I=I.parentNode);I;){if(cp(I,j,h)){H=I;break}I.nextSibling&&(C=!0),F.push(I),I=I.parentNode}if(H){if(C){K=t.getBookmark(),G.collapse(!0),G=cg(G,cq(j),!0),G=at.split(G),cC(j,h,G),t.moveToBookmark(K)}else{for(B=x(),I=B,y=F.length-1;y>=0;y--){I.appendChild(cl.clone(F[y],!1)),I=I.firstChild}I.appendChild(cl.doc.createTextNode(b6)),I=I.firstChild;var E=cl.getParent(H,cv);E&&cl.isEmpty(E)?H.parentNode.replaceChild(B,H):cl.insertAfter(B,H),t.setCursorLocation(I,1),cl.isEmpty(H)&&cl.remove(H)}}}function m(){var f;f=k(t.getStart()),f&&!cl.isEmpty(f)&&ch(f,function(g){1!=g.nodeType||g.id===w||cl.isEmpty(g)||cl.setAttrib(g,"data-mce-bogus",null)},"childNodes")}var w="_mce_caret",v=cB.settings.caret_debug;cB._hasCaretEvents||(cE=function(){var g=[],f;if(A(k(t.getStart()),g)){for(f=g.length;f--;){cl.setAttrib(g[f],"data-mce-bogus","1")}}},ct=function(g){var f=g.keyCode;q(),(8==f||37==f||39==f)&&q(k(t.getStart())),m()},cB.on("SetContent",function(f){f.selection&&m()}),cB._hasCaretEvents=!0),"apply"==z?o():i()}function b8(j){var q=j.startContainer,m=j.startOffset,h,p,g,k,f;if(3==q.nodeType&&m>=q.nodeValue.length&&(m=cA(q),q=q.parentNode,h=!0),1==q.nodeType){for(k=q.childNodes,q=k[Math.min(m,k.length-1)],p=new c(q,cl.getParent(q,cl.isBlock)),(m>k.length-1||h)&&p.next(),g=p.current();g;g=p.next()){if(3==g.nodeType&&!bX(g)){return f=cl.create("a",null,b6),g.parentNode.insertBefore(f,g),j.setStart(g,0),t.setRng(j),void cl.remove(f)}}}}var cb={},cl=cB.dom,t=cB.selection,at=new a(cl),bt=cB.schema.isValidChild,cs=cl.isBlock,ck=cB.settings.forced_root_block,cA=cl.nodeIndex,b6="\ufeff",n=/^(src|href|style)$/,ca=!1,r=!0,b7,b0,e=cl.getContentEditable,ct,cE,cz=d.each,cj=d.grep,ch=d.walk,ci=d.extend;ci(this,{get:cq,register:cG,apply:cw,remove:cC,toggle:cD,match:cm,matchAll:cI,matchNode:cp,canApply:ce,formatChanged:cn,getCssText:co}),cx(),cH(),cB.on("BeforeGetContent",function(){cE&&cE()}),cB.on("mouseup keydown",function(f){ct&&ct(f)})}}),aE(bs,[aS,aI],function(c,a){var d=a.trim,b;return b=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(n){function g(){return d(n.getContent({format:"raw",no_events:1}).replace(b,""))}function e(i){k.typing=!1,k.add({},i)}var k=this,p=0,f=[],j,m,h=0;return n.on("init",function(){k.add()}),n.on("BeforeExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&k.beforeChange()}),n.on("ExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&e(l)}),n.on("ObjectResizeStart",function(){k.beforeChange()}),n.on("SaveContent ObjectResized blur",e),n.dom.bind(n.dom.getRoot(),"dragend",e),n.on("KeyUp",function(l){var i=l.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||l.ctrlKey)&&(e(),n.nodeChanged()),(46==i||8==i||c.mac&&(91==i||93==i))&&n.nodeChanged(),m&&k.typing&&(n.isDirty()||(n.isNotDirty=!f[0]||g()==f[0].content,n.isNotDirty||n.fire("change",{level:f[0],lastLevel:null})),n.fire("TypingUndo"),m=!1,n.nodeChanged())}),n.on("KeyDown",function(l){var i=l.keyCode;return i>=33&&36>=i||i>=37&&40>=i||45==i?void (k.typing&&e(l)):void ((16>i||i>20)&&224!=i&&91!=i&&!k.typing&&(k.beforeChange(),k.typing=!0,k.add({},l),m=!0))}),n.on("MouseDown",function(i){k.typing&&e(i)}),n.addShortcut("ctrl+z","","Undo"),n.addShortcut("ctrl+y,ctrl+shift+z","","Redo"),n.on("AddUndo Undo Redo ClearUndos MouseUp",function(i){i.isDefaultPrevented()||n.nodeChanged()}),k={data:f,typing:!1,beforeChange:function(){h||(j=n.selection.getBookmark(2,!0))},add:function(s,v){var q,t=n.settings,i;if(s=s||{},s.content=g(),h||n.removed){return null}if(n.fire("BeforeAddUndo",{level:s,originalEvent:v}).isDefaultPrevented()){return null}if(i=f[p],i&&i.content==s.content){return null}if(f[p]&&(f[p].beforeBookmark=j),t.custom_undo_redo_levels&&f.length>t.custom_undo_redo_levels){for(q=0;q<f.length-1;q++){f[q]=f[q+1]}f.length--,p=f.length}s.bookmark=n.selection.getBookmark(2,!0),p<f.length-1&&(f.length=p+1),f.push(s),p=f.length-1;var l={level:s,lastLevel:i,originalEvent:v};return n.fire("AddUndo",l),p>0&&(n.isNotDirty=!1,n.fire("change",l)),s},undo:function(){var i;return k.typing&&(k.add(),k.typing=!1),p>0&&(i=f[--p],0===p&&(n.isNotDirty=!0),n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.beforeBookmark),n.fire("undo",{level:i})),i},redo:function(){var i;return p<f.length-1&&(i=f[++p],n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.bookmark),n.fire("redo",{level:i})),i},clear:function(){f=[],p=0,k.typing=!1,n.fire("ClearUndos")},hasUndo:function(){return p>0||k.typing&&f[0]&&g()!=f[0].content},hasRedo:function(){return p<f.length-1&&!this.typing},transact:function(i){k.beforeChange();try{h++,i()}finally{h--}k.add()}}}}),aE(bi,[aT,bA,aS],function(c,a,d){var b=d.ie&&d.ie<11;return function(h){function m(b0){function b5(o){return o&&f.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&"true"!==f.getContentEditable(o)}function bZ(p){var o;f.isBlock(p)&&(o=j.getRng(),p.appendChild(f.create("span",null,"\xa0")),j.select(p),p.lastChild.outerHTML="",j.setRng(o))}function b1(v){for(var o=v,w=[],p;o=o.firstChild;){if(f.isBlock(o)){return}1!=o.nodeType||k[o.nodeName.toLowerCase()]||w.push(o)}for(p=w.length;p--;){o=w[p],!o.hasChildNodes()||o.firstChild==o.lastChild&&""===o.firstChild.nodeValue?f.remove(o):"A"==o.nodeName&&" "===(o.innerText||o.textContent)&&f.remove(o)}}function b3(x){function y(o){for(;o;){if(1==o.nodeType||3==o.nodeType&&o.data&&/[\r\n\s]/.test(o.data)){return o}o=o.nextSibling}}var w,A,p,B=x,v;if(d.ie&&d.ie<9&&bX&&bX.firstChild&&bX.firstChild==bX.lastChild&&"BR"==bX.firstChild.tagName&&f.remove(bX.firstChild),"LI"==x.nodeName){var z=y(x.firstChild);z&&/^(UL|OL)$/.test(z.nodeName)&&x.insertBefore(f.doc.createTextNode("\xa0"),x.firstChild)}if(p=f.createRng(),x.hasChildNodes()){for(w=new c(x,x);A=w.current();){if(3==A.nodeType){p.setStart(A,0),p.setEnd(A,0);break}if(k[A.nodeName.toLowerCase()]){p.setStartBefore(A),p.setEndBefore(A);break}B=A,A=w.next()}A||(p.setStart(B,0),p.setEnd(B,0))}else{"BR"==x.nodeName?x.nextSibling&&f.isBlock(x.nextSibling)?((!G||9>G)&&(v=f.create("br"),x.parentNode.insertBefore(v,x)),p.setStartBefore(x),p.setEndBefore(x)):(p.setStartAfter(x),p.setEndAfter(x)):(p.setStart(x,0),p.setEnd(x,0))}j.setRng(p),f.remove(v),j.scrollIntoView(x)}function b4(p){var o=e.forced_root_block;o&&o.toLowerCase()===p.tagName.toLowerCase()&&f.setAttribs(p,e.forced_root_block_attrs)}function X(w){var v=q,y,p,x;if(w||"TABLE"==s?(y=f.create(w||Y),b4(y)):y=bX.cloneNode(!1),x=y,e.keep_styles!==!1){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U|VAR|CITE|DFN|CODE|MARK|Q|SUP|SUB|SAMP)$/.test(v.nodeName)){if("_mce_caret"==v.id){continue}p=v.cloneNode(!1),f.setAttrib(p,"id",""),y.hasChildNodes()?(p.appendChild(y.firstChild),y.appendChild(p)):(x=p,y.appendChild(p))}}while(v=v.parentNode)}return b||(x.innerHTML='<br data-mce-bogus="1">'),y}function K(p){var w,v,o;if(3==q.nodeType&&(p?bY>0:bY<q.nodeValue.length)){return !1}if(q.parentNode==bX&&J&&!p){return !0}if(p&&1==q.nodeType&&q==bX.firstChild){return !0}if("TABLE"===q.nodeName||q.previousSibling&&"TABLE"==q.previousSibling.nodeName){return J&&!p||!J&&p}for(w=new c(q,bX),3==q.nodeType&&(p&&0===bY?w.prev():p||bY!=q.nodeValue.length||w.next());v=w.current();){if(1===v.nodeType){if(!v.getAttribute("data-mce-bogus")&&(o=v.nodeName.toLowerCase(),k[o]&&"br"!==o)){return !1}}else{if(3===v.nodeType&&!/^[ \t\r\n]*$/.test(v.nodeValue)){return !1}}p?w.prev():w.next()}return !0}function b6(y,B){var w,p,v,C,x,A,z=Y||"P";if(p=f.getParent(y,f.isBlock),A=h.getBody().nodeName.toLowerCase(),!p||!b5(p)){if(p=p||i,!p.hasChildNodes()){return w=f.create(z),b4(w),p.appendChild(w),l.setStart(w,0),l.setEnd(w,0),w}for(C=y;C.parentNode!=p;){C=C.parentNode}for(;C&&!f.isBlock(C);){v=C,C=C.previousSibling}if(v&&g.isValidChild(A,z.toLowerCase())){for(w=f.create(z),b4(w),v.parentNode.insertBefore(w,v),C=v;C&&!f.isBlock(C);){x=C.nextSibling,w.appendChild(C),C=x}l.setStart(y,B),l.setEnd(y,B)}}return y}function bt(){function p(x){for(var w=r[x?"firstChild":"lastChild"];w&&1!=w.nodeType;){w=w[x?"nextSibling":"previousSibling"]}return w===bX}function o(){var w=r.parentNode;return"LI"==w.nodeName?w:r}var v=r.parentNode.nodeName;/^(OL|UL|LI)$/.test(v)&&(Y="LI"),u=Y?X(Y):f.create("BR"),p(!0)&&p()?"LI"==v?f.insertAfter(u,o()):f.replace(u,r):p(!0)?"LI"==v?(f.insertAfter(u,o()),u.appendChild(f.doc.createTextNode(" ")),u.appendChild(r)):r.parentNode.insertBefore(u,r):p()?(f.insertAfter(u,o()),bZ(u)):(r=o(),b2=l.cloneRange(),b2.setStartAfter(bX),b2.setEndAfter(r),V=b2.extractContents(),"LI"==Y&&"LI"==V.firstChild.nodeName?(u=V.firstChild,f.insertAfter(V,r)):(f.insertAfter(V,r),f.insertAfter(u,r))),f.remove(bX),b3(u),n.add()}function U(){for(var o=new c(q,bX),p;p=o.next();){if(k[p.nodeName.toLowerCase()]||p.length>0){return !0}}}function W(){var p,o,v;q&&3==q.nodeType&&bY>=q.nodeValue.length&&(b||U()||(p=f.create("br"),l.insertNode(p),l.setStartAfter(p),l.setEndAfter(p),o=!0)),p=f.create("br"),l.insertNode(p),b&&"PRE"==s&&(!G||8>G)&&p.parentNode.insertBefore(f.doc.createTextNode("\r"),p),v=f.create("span",{},"&nbsp;"),p.parentNode.insertBefore(v,p),j.scrollIntoView(v),f.remove(v),o?(l.setStartBefore(p),l.setEndBefore(p)):(l.setStartAfter(p),l.setEndAfter(p)),j.setRng(l),n.add()}function b7(o){do{3===o.nodeType&&(o.nodeValue=o.nodeValue.replace(/^[\r\n]+/,"")),o=o.firstChild}while(o)}function t(v){var o=f.getRoot(),w,p;for(w=v;w!==o&&"false"!==f.getContentEditable(w);){"true"===f.getContentEditable(w)&&(p=w),w=w.parentNode}return w!==o?p:o}function Z(p){var o;b||(p.normalize(),o=p.lastChild,(!o||/^(left|right)$/gi.test(f.getStyle(o,"float",!0)))&&f.add(p,"br"))}var l,b2,i,q,bY,bX,G,at,u,V,r,s,Q,Y,J;if(l=j.getRng(!0),!b0.isDefaultPrevented()){if(!l.collapsed){return void h.execCommand("Delete")}if(new a(f).normalize(l),q=l.startContainer,bY=l.startOffset,Y=(e.force_p_newlines?"p":"")||e.forced_root_block,Y=Y?Y.toUpperCase():"",G=f.doc.documentMode,at=b0.shiftKey,1==q.nodeType&&q.hasChildNodes()&&(J=bY>q.childNodes.length-1,q=q.childNodes[Math.min(bY,q.childNodes.length-1)]||q,bY=J&&3==q.nodeType?q.nodeValue.length:0),i=t(q)){if(n.beforeChange(),!f.isBlock(i)&&i!=f.getRoot()){return void ((!Y||at)&&W())}if((Y&&!at||!Y&&at)&&(q=b6(q,bY)),bX=f.getParent(q,f.isBlock),r=bX?f.getParent(bX.parentNode,f.isBlock):null,s=bX?bX.nodeName.toUpperCase():"",Q=r?r.nodeName.toUpperCase():"","LI"!=Q||b0.ctrlKey||(bX=r,s=Q),"LI"==s){if(!Y&&at){return void W()}if(f.isEmpty(bX)){return void bt()}}if("PRE"==s&&e.br_in_pre!==!1){if(!at){return void W()}}else{if(!Y&&!at&&"LI"!=s||Y&&at){return void W()}}Y&&bX===h.getBody()||(Y=Y||"P",K()?(u=/^(H[1-6]|PRE|FIGURE)$/.test(s)&&"HGROUP"!=Q?X(Y):X(),e.end_container_on_empty_block&&b5(r)&&f.isEmpty(bX)?u=f.split(r,bX):f.insertAfter(u,bX),b3(u)):K(!0)?(u=bX.parentNode.insertBefore(X(),bX),bZ(u),b3(bX)):(b2=l.cloneRange(),b2.setEndAfter(bX),V=b2.extractContents(),b7(V),u=V.firstChild,f.insertAfter(V,bX),b1(u),Z(bX),b3(u)),f.setAttrib(u,"id",""),h.fire("NewBlock",{newBlock:u}),n.add())}}}var f=h.dom,j=h.selection,e=h.settings,n=h.undoManager,g=h.schema,k=g.getNonEmptyElements();h.on("keydown",function(i){13==i.keyCode&&m(i)!==!1&&i.preventDefault()})}}),aE(bj,[],function(){return function(g){function d(){var F=c.getStart(),G=g.getBody(),k,w,E,r,q,e,i,n=-16777215,o,D,A,z,a;if(a=j.forced_root_block,F&&1===F.nodeType&&a){for(;F&&F!=G;){if(b[F.nodeName]){return}F=F.parentNode}if(k=c.getRng(),k.setStart){w=k.startContainer,E=k.startOffset,r=k.endContainer,q=k.endOffset;try{D=g.getDoc().activeElement===G}catch(B){}}else{k.item&&(F=k.item(0),k=g.getDoc().body.createTextRange(),k.moveToElementText(F)),D=k.parentElement().ownerDocument===g.getDoc(),A=k.duplicate(),A.collapse(!0),E=-1*A.move("character",n),A.collapsed||(A=k.duplicate(),A.collapse(!1),q=-1*A.move("character",n)-E)}for(F=G.firstChild,z=G.nodeName.toLowerCase();F;){if((3===F.nodeType||1==F.nodeType&&!b[F.nodeName])&&h.isValidChild(z,a.toLowerCase())){if(3===F.nodeType&&0===F.nodeValue.length){i=F,F=F.nextSibling,f.remove(i);continue}e||(e=f.create(a,g.settings.forced_root_block_attrs),F.parentNode.insertBefore(e,F),o=!0),i=F,F=F.nextSibling,e.appendChild(i)}else{e=null,F=F.nextSibling}}if(o&&D){if(k.setStart){k.setStart(w,E),k.setEnd(r,q),c.setRng(k)}else{try{k=g.getDoc().body.createTextRange(),k.moveToElementText(G),k.collapse(!0),k.moveStart("character",E),q>0&&k.moveEnd("character",q),k.select()}catch(B){}}g.nodeChanged()}}}var j=g.settings,f=g.dom,c=g.selection,h=g.schema,b=h.getBlockElements();j.forced_root_block&&g.on("NodeChange",d)}}),aE(br,[be,aS,aI],function(p,h,b){var k=b.each,g=b.extend,v=b.map,x=b.inArray,j=b.explode,t=h.gecko,w=h.ie,q=!0,m=!1;return function(a){function d(E,y,G){var C;return E=E.toLowerCase(),(C=o.exec[E])?(C(E,y,G),q):m}function e(y){var r;return y=y.toLowerCase(),(r=o.state[y])?r(y):-1}function l(y){var r;return y=y.toLowerCase(),(r=o.value[y])?r(y):m}function n(y,r){r=r||"exec",k(y,function(C,E){k(E.toLowerCase().split(","),function(G){o[r][G]=C})})}function D(y,C,r){return C===aC&&(C=m),r===aC&&(r=null),a.getDoc().execCommand(y,C,r)}function s(r){return i.match(r)}function u(r,y){i.toggle(r,y?{value:y}:aC),a.nodeChanged()}function c(r){f=B.getBookmark(r)}function z(){B.moveToBookmark(f)}var A=a.dom,B=a.selection,o={state:{},exec:{},value:{}},F=a.settings,i=a.formatter,f;g(this,{execCommand:d,queryCommandState:e,queryCommandValue:l,addCommands:n}),n({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},"Cut,Copy,Paste":function(E){var C=a.getDoc(),y;try{D(E)}catch(G){y=q}if(y||!C.queryCommandSupported(E)){var r=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");h.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),a.windowManager.alert(r)}},unlink:function(){if(B.isCollapsed()){var r=B.getNode();return void ("A"==r.tagName&&a.dom.remove(r,!0))}i.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(y){var r=y.substring(7);"full"==r&&(r="justify"),k("left,center,right,justify".split(","),function(C){r!=C&&i.remove("align"+C)}),u("align"+r),d("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(y){var r,C;D(y),r=A.getParent(B.getNode(),"ol,ul"),r&&(C=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(C.nodeName)&&(c(),A.split(C,r),z()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){u(r)},"ForeColor,HiliteColor,FontName":function(y,r,C){u(y,C)},FontSize:function(G,C,H){var E,y;H>=1&&7>=H&&(y=j(F.font_size_style_values),E=j(F.font_size_classes),H=E?E[H-1]||H:y[H-1]||H),u(G,H)},RemoveFormat:function(r){i.remove(r)},mceBlockQuote:function(){u("blockquote")},FormatBlock:function(y,r,C){return u(C||"p")},mceCleanup:function(){var r=B.getBookmark();a.setContent(a.getContent({cleanup:q}),{cleanup:q}),B.moveToBookmark(r)},mceRemoveNode:function(C,y,E){var r=E||B.getNode();r!=a.getBody()&&(c(),a.dom.remove(r,q),z())},mceSelectNodeDepth:function(C,y,E){var r=0;A.getParent(B.getNode(),function(G){return 1==G.nodeType&&r++==E?(B.select(G),m):void 0},a.getBody())},mceSelectNode:function(y,r,C){B.select(C)},mceInsertContent:function(G,L,O){function K(X){function C(Z){return W[Z]&&3==W[Z].nodeType}var Y,W,y;return Y=B.getRng(!0),W=Y.startContainer,y=Y.startOffset,3==W.nodeType&&(y>0?X=X.replace(/^&nbsp;/," "):C("previousSibling")||(X=X.replace(/^ /,"&nbsp;")),y<W.length?X=X.replace(/&nbsp;(<br>|)$/," "):C("nextSibling")||(X=X.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),X}var V,H,N,T,S,R,J,M,P,Q,E;/^ | $/.test(O)&&(O=K(O)),V=a.parser,H=new p({},a.schema),E='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#200B;</span>',R={content:O,format:"html",selection:!0},a.fire("BeforeSetContent",R),O=R.content,-1==O.indexOf("{$caret}")&&(O+="{$caret}"),O=O.replace(/\{\$caret\}/,E),M=B.getRng();var r=M.startContainer||(M.parentElement?M.parentElement():null),U=a.getBody();r===U&&B.isCollapsed()&&A.isBlock(U.firstChild)&&A.isEmpty(U.firstChild)&&(M=A.createRng(),M.setStart(U.firstChild,0),M.setEnd(U.firstChild,0),B.setRng(M)),B.isCollapsed()||a.getDoc().execCommand("Delete",!1,null),N=B.getNode();var I={context:N.nodeName.toLowerCase()};if(S=V.parse(O,I),P=S.lastChild,"mce_marker"==P.attr("id")){for(J=P,P=P.prev;P;P=P.walk(!0)){if(3==P.type||!A.isBlock(P.name)){P.parent.insert(J,P,"br"===P.name);break}}}if(I.invalid){for(B.setContent(E),N=B.getNode(),T=a.getBody(),9==N.nodeType?N=P=T:P=N;P!==T;){N=P,P=P.parentNode}O=N==T?T.innerHTML:A.getOuterHTML(N),O=H.serialize(V.parse(O.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return H.serialize(S)}))),N==T?A.setHTML(T,O):A.setOuterHTML(N,O)}else{O=H.serialize(S),P=N.firstChild,Q=N.lastChild,!P||P===Q&&"BR"===P.nodeName?A.setHTML(N,O):B.setContent(O)}J=A.get("mce_marker"),B.scrollIntoView(J),M=A.createRng(),P=J.previousSibling,P&&3==P.nodeType?(M.setStart(P,P.nodeValue.length),w||(Q=J.nextSibling,Q&&3==Q.nodeType&&(P.appendData(Q.data),Q.parentNode.removeChild(Q)))):(M.setStartBefore(J),M.setEndBefore(J)),A.remove(J),B.setRng(M),a.fire("SetContent",R),a.addVisual()},mceInsertRawHTML:function(y,r,C){B.setContent("tiny_mce_marker"),a.setContent(a.getContent().replace(/tiny_mce_marker/g,function(){return C}))},mceToggleFormat:function(y,r,C){u(C)},mceSetContent:function(y,r,C){a.setContent(C)},"Indent,Outdent":function(y){var r,E,C;r=F.indentation,E=/[a-z%]+$/i.exec(r),r=parseInt(r,10),e("InsertUnorderedList")||e("InsertOrderedList")?D(y):(F.forced_root_block||A.getParent(B.getNode(),A.isBlock)||i.apply("div"),k(B.getSelectedBlocks(),function(H){if("LI"!=H.nodeName){var G=a.getParam("indent_use_margin",!1)?"margin":"padding";G+="rtl"==A.getStyle(H,"direction",!0)?"Right":"Left","outdent"==y?(C=Math.max(0,parseInt(H.style[G]||0,10)-r),A.setStyle(H,G,C?C+E:"")):(C=parseInt(H.style[G]||0,10)+r+E,A.setStyle(H,G,C))}}))},mceRepaint:function(){if(t){try{c(q),B.getSel()&&B.getSel().selectAllChildren(a.getBody()),B.collapse(q),z()}catch(r){}}},InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual,a.addVisual()},mceReplaceContent:function(y,r,C){a.execCommand("mceInsertContent",!1,C.replace(/\{\$selection\}/g,B.getContent({format:"text"})))},mceInsertLink:function(E,y,G){var C;"string"==typeof G&&(G={href:G}),C=A.getParent(B.getNode(),"a"),G.href=G.href.replace(" ","%20"),C&&G.href||i.remove("link"),G.href&&i.apply("link",G,C)},selectAll:function(){var y=A.getRoot(),r;B.getRng().setStart?(r=A.createRng(),r.setStart(y,0),r.setEnd(y,y.childNodes.length),B.setRng(r)):(r=B.getRng(),r.item||(r.moveToElementText(y),r.select()))},"delete":function(){D("Delete");var r=a.getBody();A.isEmpty(r)&&(a.setContent(""),r.firstChild&&A.isBlock(r.firstChild)?a.selection.setCursorLocation(r.firstChild,0):a.selection.setCursorLocation(r,0))},mceNewDocument:function(){a.setContent("")}}),n({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(E){var y="align"+E.substring(7),G=B.isCollapsed()?[A.getParent(B.getNode(),A.isBlock)]:B.getSelectedBlocks(),C=v(G,function(r){return !!i.matchNode(r,y)});return -1!==x(C,q)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){return s(r)},mceBlockQuote:function(){return s("blockquote")},Outdent:function(){var r;if(F.inline_styles){if((r=A.getParent(B.getStart(),A.isBlock))&&parseInt(r.style.paddingLeft,10)>0){return q}if((r=A.getParent(B.getEnd(),A.isBlock))&&parseInt(r.style.paddingLeft,10)>0){return q}}return e("InsertUnorderedList")||e("InsertOrderedList")||!F.inline_styles&&!!A.getParent(B.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(y){var r=A.getParent(B.getNode(),"ul,ol");return r&&("insertunorderedlist"===y&&"UL"===r.tagName||"insertorderedlist"===y&&"OL"===r.tagName)}},"state"),n({"FontSize,FontName":function(y){var r=0,C;return(C=A.getParent(B.getNode(),"span"))&&(r="fontsize"==y?C.style.fontSize:C.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),r}},"value"),n({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}})}}),aE(bv,[aI],function(c){function a(k,h){var m=this,g,j;if(k=b(k),h=m.settings=h||{},/^([\w\-]+):([^\/]{2})/i.test(k)||/^\s*#/.test(k)){return void (m.source=k)}var f=0===k.indexOf("//");0!==k.indexOf("/")||f||(k=(h.base_uri?h.base_uri.protocol||"http":"http")+"://mce_host"+k),/^[\w\-]*:?\/\//.test(k)||(j=h.base_uri?h.base_uri.path:new a(location.href).directory,k=""===h.base_uri.protocol?"//mce_host"+m.toAbsPath(j,k):(h.base_uri&&h.base_uri.protocol||"http")+"://mce_host"+m.toAbsPath(j,k)),k=k.replace(/@@/g,"(mce_at)"),k=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(k),d(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,l){var i=k[l];i&&(i=i.replace(/\(mce_at\)/g,"@@")),m[e]=i}),g=h.base_uri,g&&(m.protocol||(m.protocol=g.protocol),m.userInfo||(m.userInfo=g.userInfo),m.port||"mce_host"!==m.host||(m.port=g.port),m.host&&"mce_host"!==m.host||(m.host=g.host),m.source=""),f&&(m.protocol="")}var d=c.each,b=c.trim;return a.prototype={setPath:function(g){var f=this;g=/^(.*?)\/?(\w+)?$/.exec(g),f.path=g[0],f.directory=g[1],f.file=g[2],f.source="",f.getURI()},toRelative:function(h){var k=this,g;if("./"===h){return h}if(h=new a(h,{base_uri:k}),"mce_host"!=h.host&&k.host!=h.host&&h.host||k.port!=h.port||k.protocol!=h.protocol&&""!==h.protocol){return h.getURI()}var f=k.getURI(),j=h.getURI();return f==j||"/"==f.charAt(f.length-1)&&f.substr(0,f.length-1)==j?f:(g=k.toRelPath(k.path,h.path),h.query&&(g+="?"+h.query),h.anchor&&(g+="#"+h.anchor),g)},toAbsolute:function(f,g){return f=new a(f,{base_uri:this}),f.getURI(this.host==f.host&&this.protocol==f.protocol?g:0)},toRelPath:function(k,h){var m,j=0,g="",l,f;if(k=k.substring(0,k.lastIndexOf("/")),k=k.split("/"),m=h.split("/"),k.length>=m.length){for(l=0,f=k.length;f>l;l++){if(l>=m.length||k[l]!=m[l]){j=l+1;break}}}if(k.length<m.length){for(l=0,f=m.length;f>l;l++){if(l>=k.length||k[l]!=m[l]){j=l+1;break}}}if(1===j){return h}for(l=0,f=k.length-(j-1);f>l;l++){g+="../"}for(l=j-1,f=m.length;f>l;l++){g+=l!=j-1?"/"+m[l]:m[l]}return g},toAbsPath:function(l,h){var k,g=0,m=[],f,j;for(f=/\/$/.test(h)?"/":"",l=l.split("/"),h=h.split("/"),d(l,function(i){i&&m.push(i)}),l=m,k=h.length-1,m=[];k>=0;k--){0!==h[k].length&&"."!==h[k]&&(".."!==h[k]?g>0?g--:m.push(h[k]):g++)}return k=l.length-g,j=0>=k?m.reverse().join("/"):l.slice(0,k).join("/")+"/"+m.reverse().join("/"),0!==j.indexOf("/")&&(j="/"+j),f&&j.lastIndexOf("/")!==j.length-1&&(j+=f),j},getURI:function(g){var f,h=this;return(!h.source||g)&&(f="",g||(f+=h.protocol?h.protocol+"://":"//",h.userInfo&&(f+=h.userInfo+"@"),h.host&&(f+=h.host),h.port&&(f+=":"+h.port)),h.path&&(f+=h.path),h.query&&(f+="?"+h.query),h.anchor&&(f+="#"+h.anchor),h.source=f),h.source}},a}),aE(au,[aI],function(d){function b(){}var g=d.each,c=d.extend,a,f;return b.extend=a=function(j){function p(){var u,l,v,s=this;if(!f&&(s.init&&s.init.apply(s,arguments),l=s.Mixins)){for(u=l.length;u--;){v=l[u],v.init&&v.init.apply(s,arguments)}}}function n(){return this}function q(r,l){return function(){var t=this,s=t._super,e;return t._super=m[r],e=l.apply(t,arguments),t._super=s,e}}var h=this,m=h.prototype,o,k,i;f=!0,o=new h,f=!1,j.Mixins&&(g(j.Mixins,function(e){e=e;for(var l in e){"init"!==l&&(j[l]=e[l])}}),m.Mixins&&(j.Mixins=m.Mixins.concat(j.Mixins))),j.Methods&&g(j.Methods.split(","),function(e){j[e]=n}),j.Properties&&g(j.Properties.split(","),function(e){var l="_"+e;j[e]=function(v){var s=this,u;return v!==u?(s[l]=v,s):s[l]}}),j.Statics&&g(j.Statics,function(l,r){p[r]=l}),j.Defaults&&m.Defaults&&(j.Defaults=c({},m.Defaults,j.Defaults));for(k in j){i=j[k],o[k]="function"==typeof i&&m[k]?q(k,i):i}return p.prototype=o,p.constructor=p,p.extend=a,p},b}),aE(a8,[au],function(g){function d(k){for(var a=[],l=k.length,i;l--;){i=k[l],i.__checked||(a.push(i),i.__checked=1)}for(l=a.length;l--;){delete a[l].__checked}return a}var j=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=/^\s*|\s*$/g,h,b=g.extend({init:function(m){function v(a){return a?(a=a.toLowerCase(),function(e){return"*"===a||e.type===a}):void 0}function i(a){return a?function(e){return e._name===a}:void 0}function q(a){return a?(a=a.split("."),function(e){for(var l=a.length;l--;){if(!e.hasClass(a[l])){return !1}}return !0}):void 0}function w(l,a,o){return l?function(s){var e=s[l]?s[l]():"";return a?"="===a?e===o:"*="===a?e.indexOf(o)>=0:"~="===a?(" "+e+" ").indexOf(" "+o+" ")>=0:"!="===a?e!=o:"^="===a?0===e.indexOf(o):"$="===a?e.substr(e.length-o.length)===o:!1:!!o}:void 0}function k(l){var a;return l?(l=/(?:not\((.+)\))|(.+)/i.exec(l),l[1]?(a=r(l[1],[]),function(o){return !n(o,a)}):(l=l[2],function(e,s,o){return"first"===l?0===s:"last"===l?s===o-1:"even"===l?s%2===0:"odd"===l?s%2===1:e[l]?e[l]():!1})):void 0}function p(o,l,t){function a(u){u&&l.push(u)}var s;return s=j.exec(o.replace(c,"")),a(v(s[1])),a(i(s[2])),a(q(s[3])),a(w(s[4],s[5],s[6])),a(k(s[7])),l.psuedo=!!s[7],l.direct=t,l}function r(x,u){var z=[],s,y,l;do{if(f.exec(""),y=f.exec(x),y&&(x=y[3],z.push(y[1]),y[2])){s=y[3];break}}while(y);for(s&&r(s,u),x=[],l=0;l<z.length;l++){">"!=z[l]&&x.push(p(z[l],[],">"===z[l-1]))}return u.push(x),u}var n=this.match;this._selectors=r(m,[])},match:function(B,G){var w,k,z,v,E,H,y,D,F,C,A,q,x;for(G=G||this._selectors,w=0,k=G.length;k>w;w++){for(E=G[w],v=E.length,x=B,q=0,z=v-1;z>=0;z--){for(D=E[z];x;){if(D.psuedo){for(A=x.parent().items(),F=C=A.length;F--&&A[F]!==x;){}}for(H=0,y=D.length;y>H;H++){if(!D[H](x,F,C)){H=y+1;break}}if(H===y){q++;break}if(z===v-1){break}x=x.parent()}}if(q===v){return !0}}return !1},find:function(p){function q(w,A,v){var n,y,B,r,x,z=A[v];for(n=0,y=w.length;y>n;n++){for(x=w[n],B=0,r=z.length;r>B;B++){if(!z[B](x,n,y)){B=r+1;break}}if(B===r){v==A.length-1?o.push(x):x.items&&q(x.items(),A,v+1)}else{if(z.direct){return}}x.items&&q(x.items(),A,v)}}var o=[],k,m,a=this._selectors;if(p.items){for(k=0,m=a.length;m>k;k++){q(p.items(),a[k],0)}m>1&&(o=d(o))}return h||(h=b.Collection),new h(o)}});return b}),aE(ba,[aI,a8,au],function(g,d,j){var f,c,h=Array.prototype.push,b=Array.prototype.slice;return c={length:0,init:function(a){a&&this.add(a)},add:function(a){var e=this;return g.isArray(a)?h.apply(e,a):a instanceof f?e.add(a.toArray()):h.call(e,a),e},set:function(k){var a=this,l=a.length,i;for(a.length=0,a.add(k),i=a.length;l>i;i++){delete a[i]}return a},filter:function(r){var u=this,p,t,m=[],q,k;for("string"==typeof r?(r=new d(r),k=function(a){return r.match(a)}):k=r,p=0,t=u.length;t>p;p++){q=u[p],k(q)&&m.push(q)}return new f(m)},slice:function(){return new f(b.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return g.each(this,a),this},toArray:function(){return g.toArray(this)},indexOf:function(i){for(var a=this,k=a.length;k--&&a[k]!==i;){}return k},reverse:function(){return new f(g.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].hasClass(a):!1},prop:function(m,k){var o=this,l,a;return k!==l?(o.each(function(e){e[m]&&e[m](k)}),o):(a=o[0],a&&a[m]?a[m]():void 0)},exec:function(a){var i=this,e=g.toArray(arguments).slice(1);return i.each(function(k){k[a]&&k[a].apply(k,e)}),i},remove:function(){for(var a=this.length;a--;){this[a].remove()}return this}},g.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(a){c[a]=function(){var e=g.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),g.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(e){return this.prop(a,e)}}),f=j.extend(c),d.Collection=f,f}),aE(bb,[aI,av],function(b,a){return{id:function(){return a.DOM.uniqueId()},createFragment:function(c){return a.DOM.createFragment(c)},getWindowSize:function(){return a.DOM.getViewPort()},getSize:function(f){var c,g;if(f.getBoundingClientRect){var d=f.getBoundingClientRect();c=Math.max(d.width||d.right-d.left,f.offsetWidth),g=Math.max(d.height||d.bottom-d.bottom,f.offsetHeight)}else{c=f.offsetWidth,g=f.offsetHeight}return{width:c,height:g}},getPos:function(c,d){return a.DOM.getPos(c,d)},getViewPort:function(c){return a.DOM.getViewPort(c)},get:function(c){return document.getElementById(c)},addClass:function(c,d){return a.DOM.addClass(c,d)},removeClass:function(c,d){return a.DOM.removeClass(c,d)},hasClass:function(c,d){return a.DOM.hasClass(c,d)},toggleClass:function(d,f,c){return a.DOM.toggleClass(d,f,c)},css:function(d,f,c){return a.DOM.setStyle(d,f,c)},on:function(f,g,d,c){return a.DOM.bind(f,g,d,c)},off:function(d,f,c){return a.DOM.unbind(d,f,c)},fire:function(d,f,c){return a.DOM.fire(d,f,c)},innerHtml:function(c,d){a.DOM.setHTML(c,d)}}}),aE(aH,[au,aI,ba,bb],function(j,p,f,b){var h=p.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),d={},m="onmousewheel" in document,q=!1,g="mce-",k=j.extend({Statics:{elementIdCache:d,classPrefix:g},isRtl:function(){return k.rtl},classPrefix:g,init:function(c){var r=this,a,l;if(r.settings=c=p.extend({},r.Defaults,c),r._id=c.id||b.id(),r._text=r._name="",r._width=r._height=0,r._aria={role:c.role},a=c.classes){for(a=a.split(" "),a.map={},l=a.length;l--;){a.map[a[l]]=!0}}r._classes=a||[],r.visible(!0),p.each("title text width height name classes visible disabled active value".split(" "),function(n){var o=c[n],e;o!==e?r[n](o):r["_"+n]===e&&(r["_"+n]=!1)}),r.on("click",function(){return r.disabled()?!1:void 0}),c.classes&&p.each(c.classes.split(" "),function(i){r.addClass(i)}),r.settings=c,r._borderBox=r.parseBox(c.border),r._paddingBox=r.parseBox(c.padding),r._marginBox=r.parseBox(c.margin),c.hidden&&r.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(c){for(var a,i=this.getRoot().controlIdLookup;c&&i&&!(a=i[c.id]);){c=c.parentNode}return a},parseBox:function(c){var a,i=10;if(c){return"number"==typeof c?(c=c||0,{top:c,left:c,bottom:c,right:c}):(c=c.split(" "),a=c.length,1===a?c[1]=c[2]=c[3]=c[0]:2===a?(c[2]=c[0],c[3]=c[1]):3===a&&(c[3]=c[1]),{top:parseInt(c[0],i)||0,right:parseInt(c[1],i)||0,bottom:parseInt(c[2],i)||0,left:parseInt(c[3],i)||0})}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(i,a){function l(e){var o=document.defaultView;return o?(e=e.replace(/[A-Z]/g,function(n){return"-"+n}),o.getComputedStyle(i,null).getPropertyValue(e)):i.currentStyle[e]}function c(o){var n=parseFloat(l(o),10);return isNaN(n)?0:n}return{top:c(a+"TopWidth"),right:c(a+"RightWidth"),bottom:c(a+"BottomWidth"),left:c(a+"LeftWidth")}},initLayoutRect:function(){var E=this,K=E.settings,x,A,w=E.getEl(),H,L,z,G,J,F,D,r;x=E._borderBox=E._borderBox||E.measureBox(w,"border"),E._paddingBox=E._paddingBox||E.measureBox(w,"padding"),E._marginBox=E._marginBox||E.measureBox(w,"margin"),r=b.getSize(w),F=K.minWidth,D=K.minHeight,z=F||r.width,G=D||r.height,H=K.width,L=K.height,J=K.autoResize,J="undefined"!=typeof J?J:!H&&!L,H=H||z,L=L||G;var y=x.left+x.right,B=x.top+x.bottom,C=K.maxWidth||65535,I=K.maxHeight||65535;return E._layoutRect=A={x:K.x||0,y:K.y||0,w:H,h:L,deltaW:y,deltaH:B,contentW:H-y,contentH:L-B,innerW:H-y,innerH:L-B,startMinWidth:F||0,startMinHeight:D||0,minW:Math.min(z,C),minH:Math.min(G,I),maxW:C,maxH:I,autoResize:J,scrollW:0},E._lastLayoutRect={},A},layoutRect:function(y){var A=this,v=A._layoutRect,c,x,u,z,B,w;return v||(v=A.initLayoutRect()),y?(u=v.deltaW,z=v.deltaH,y.x!==B&&(v.x=y.x),y.y!==B&&(v.y=y.y),y.minW!==B&&(v.minW=y.minW),y.minH!==B&&(v.minH=y.minH),x=y.w,x!==B&&(x=x<v.minW?v.minW:x,x=x>v.maxW?v.maxW:x,v.w=x,v.innerW=x-u),x=y.h,x!==B&&(x=x<v.minH?v.minH:x,x=x>v.maxH?v.maxH:x,v.h=x,v.innerH=x-z),x=y.innerW,x!==B&&(x=x<v.minW-u?v.minW-u:x,x=x>v.maxW-u?v.maxW-u:x,v.innerW=x,v.w=x+u),x=y.innerH,x!==B&&(x=x<v.minH-z?v.minH-z:x,x=x>v.maxH-z?v.maxH-z:x,v.innerH=x,v.h=x+z),y.contentW!==B&&(v.contentW=y.contentW),y.contentH!==B&&(v.contentH=y.contentH),c=A._lastLayoutRect,(c.x!==v.x||c.y!==v.y||c.w!==v.w||c.h!==v.h)&&(w=k.repaintControls,w&&w.map&&!w.map[A._id]&&(w.push(A),w.map[A._id]=!0),c.x=v.x,c.y=v.y,c.w=v.w,c.h=v.h),A):v},repaint:function(){var y=this,A,v,c,x,u=0,z=0,B,w;w=document.createRange?function(a){return a}:Math.round,A=y.getEl().style,c=y._layoutRect,B=y._lastRepaintRect||{},x=y._borderBox,u=x.left+x.right,z=x.top+x.bottom,c.x!==B.x&&(A.left=w(c.x)+"px",B.x=c.x),c.y!==B.y&&(A.top=w(c.y)+"px",B.y=c.y),c.w!==B.w&&(A.width=w(c.w-u)+"px",B.w=c.w),c.h!==B.h&&(A.height=w(c.h-z)+"px",B.h=c.h),y._hasBody&&c.innerW!==B.innerW&&(v=y.getEl("body").style,v.width=w(c.innerW)+"px",B.innerW=c.innerW),y._hasBody&&c.innerH!==B.innerH&&(v=v||y.getEl("body").style,v.height=w(c.innerH)+"px",B.innerH=c.innerH),y._lastRepaintRect=B,y.fire("repaint",{},!1)},on:function(x,u){function z(l){var a,o;return function(e){return a||w.parentsAndSelf().each(function(s){var n=s.settings.callbacks;return n&&(a=n[l])?(o=s,!1):void 0}),a.call(o,e)}}var w=this,y,i,v,c;if(u){for("string"==typeof u&&(u=z(u)),v=x.toLowerCase().split(" "),c=v.length;c--;){x=v[c],y=w._bindings,y||(y=w._bindings={}),i=y[x],i||(i=y[x]=[]),i.push(u),h[x]&&(w._nativeEvents||(w._nativeEvents={}),w._nativeEvents[x]=!0,w._rendered&&w.bindPendingEvents())}}return w},off:function(y,A){var v=this,c,x=v._bindings,u,z,B,w;if(x){if(y){for(B=y.toLowerCase().split(" "),c=B.length;c--;){if(y=B[c],u=x[y],!y){for(z in x){x[z].length=0}return v}if(u){if(A){for(w=u.length;w--;){u[w]===A&&u.splice(w,1)}}else{u.length=0}}}}else{v._bindings=[]}}return v},fire:function(z,C,w){function u(){return !1}function y(){return !0}var v=this,B,D,x,A;if(z=z.toLowerCase(),C=C||{},C.type||(C.type=z),C.control||(C.control=v),C.preventDefault||(C.preventDefault=function(){C.isDefaultPrevented=y},C.stopPropagation=function(){C.isPropagationStopped=y},C.stopImmediatePropagation=function(){C.isImmediatePropagationStopped=y},C.isDefaultPrevented=u,C.isPropagationStopped=u,C.isImmediatePropagationStopped=u),v._bindings&&(x=v._bindings[z])){for(B=0,D=x.length;D>B&&(C.isImmediatePropagationStopped()||x[B].call(v,C)!==!1);B++){}}if(w!==!1){for(A=v.parent();A&&!C.isPropagationStopped();){A.fire(z,C,!1),A=A.parent()}}return C},hasEventListeners:function(a){return a in this._bindings},parents:function(n){var c=this,l,a=new f;for(l=c.parent();l;l=l.parent()){a.add(l)}return n&&(a=a.filter(n)),a},parentsAndSelf:function(a){return new f(this).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(c,a){for(var i;c;){for(i=a;i&&c!=i;){i=i.parent()}if(c==i){break}c=c.parent()}return c},hasClass:function(c,a){var i=this._classes[a||"control"];return c=this.classPrefix+c,i&&!!i.map[c]},addClass:function(o,c){var s=this,l,a;return o=this.classPrefix+o,l=s._classes[c||"control"],l||(l=[],l.map={},s._classes[c||"control"]=l),l.map[o]||(l.map[o]=o,l.push(o),s._rendered&&(a=s.getEl(c),a&&(a.className=l.join(" ")))),s},removeClass:function(s,c){var v=this,l,a,u;if(s=this.classPrefix+s,l=v._classes[c||"control"],l&&l.map[s]){for(delete l.map[s],a=l.length;a--;){l[a]===s&&l.splice(a,1)}}return v._rendered&&(u=v.getEl(c),u&&(u.className=l.join(" "))),v},toggleClass:function(i,a,l){var c=this;return a?c.addClass(i,l):c.removeClass(i,l),c},classes:function(c){var a=this._classes[c||"control"];return a?a.join(" "):""},innerHtml:function(a){return b.innerHtml(this.getEl(),a),this},getEl:function(l,c){var o,a=l?this._id+"-"+l:this._id;return o=d[a]=(c===!0?null:d[a])||b.get(a)},visible:function(c){var a=this,i;return"undefined"!=typeof c?(a._visible!==c&&(a._rendered&&(a.getEl().style.display=c?"":"none"),a._visible=c,i=a.parent(),i&&(i._lastRect=null),a.fire(c?"show":"hide")),a):a._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(i,a){var l=this,c=l.getEl(l.ariaTarget);return"undefined"==typeof a?l._aria[i]:(l._aria[i]=a,l._rendered&&c.setAttribute("role"==i?i:"aria-"+i,a),l)},encode:function(c,a){return a!==!1&&(c=this.translate(c)),(c||"").replace(/[&<>"]/g,function(i){return"&#"+i.charCodeAt(0)+";"})},translate:function(a){return k.translate?k.translate(a):a},before:function(c){var a=this,i=a.parent();return i&&i.insert(c,i.items().indexOf(a),!0),a},after:function(c){var a=this,i=a.parent();return i&&i.insert(c,i.items().indexOf(a)),a},remove:function(){var x=this,v=x.getEl(),z=x.parent(),u,r;if(x.items){var w=x.items().toArray();for(r=w.length;r--;){w[r].remove()}}z&&z.items&&(u=[],z.items().each(function(a){a!==x&&u.push(a)}),z.items().set(u),z._lastRect=null),x._eventsRoot&&x._eventsRoot==x&&b.off(v);var o=x.getRoot().controlIdLookup;if(o&&delete o[x._id],delete d[x._id],v&&v.parentNode){var y=v.getElementsByTagName("*");for(r=y.length;r--;){delete d[y[r].id]}v.parentNode.removeChild(v)}return x._rendered=!1,x},renderBefore:function(c){var a=this;return c.parentNode.insertBefore(b.createFragment(a.renderHtml()),c),a.postRender(),a},renderTo:function(c){var a=this;return c=c||a.getContainerElm(),c.appendChild(b.createFragment(a.renderHtml())),a.postRender(),a},postRender:function(){var x=this,A=x.settings,u,w,r,z,B;for(z in A){0===z.indexOf("on")&&x.on(z.substr(2),A[z])}if(x._eventsRoot){for(r=x.parent();!B&&r;r=r.parent()){B=r._eventsRoot}if(B){for(z in B._nativeEvents){x._nativeEvents[z]=!0}}}x.bindPendingEvents(),A.style&&(u=x.getEl(),u&&(u.setAttribute("style",A.style),u.style.cssText=A.style)),x._visible||b.css(x.getEl(),"display","none"),x.settings.border&&(w=x.borderBox(),b.css(x.getEl(),{"border-top-width":w.top,"border-right-width":w.right,"border-bottom-width":w.bottom,"border-left-width":w.left}));var v=x.getRoot();v.controlIdLookup||(v.controlIdLookup={}),v.controlIdLookup[x._id]=x;for(var y in x._aria){x.aria(y,x._aria[y])}x.fire("postrender",{},!1)},scrollIntoView:function(A){function E(o,c){var s,l,a=o;for(s=l=0;a&&a!=c&&a.nodeType;){s+=a.offsetLeft||0,l+=a.offsetTop||0,a=a.offsetParent}return{x:s,y:l}}var x=this.getEl(),v=x.parentNode,z,w,C,F,y,B,D=E(x,v);return z=D.x,w=D.y,C=x.offsetWidth,F=x.offsetHeight,y=v.clientWidth,B=v.clientHeight,"end"==A?(z-=y-C,w-=B-F):"center"==A&&(z-=y/2-C/2,w-=B/2-F/2),v.scrollLeft=z,v.scrollTop=w,this},bindPendingEvents:function(){function z(i){var c=r.getParentCtrl(i.target);c&&c.fire(i.type,i)}function D(){var c=A._lastHoverCtrl;c&&(c.fire("mouseleave",{target:c.getEl()}),c.parents().each(function(i){i.fire("mouseleave",{target:i.getEl()})}),A._lastHoverCtrl=null)}function s(F){var o=r.getParentCtrl(F.target),G=A._lastHoverCtrl,E=0,l,c,u;if(o!==G){if(A._lastHoverCtrl=o,c=o.parents().toArray().reverse(),c.push(o),G){for(u=G.parents().toArray().reverse(),u.push(G),E=0;E<u.length&&c[E]===u[E];E++){}for(l=u.length-1;l>=E;l--){G=u[l],G.fire("mouseleave",{target:G.getEl()})}}for(l=E;l<c.length;l++){o=c[l],o.fire("mouseenter",{target:o.getEl()})}}}function x(c){c.preventDefault(),"mousewheel"==c.type?(c.deltaY=-1/40*c.wheelDelta,c.wheelDeltaX&&(c.deltaX=-1/40*c.wheelDeltaX)):(c.deltaX=0,c.deltaY=c.detail),c=r.fire("wheel",c)}var r=this,w,B,C,A,y,a;if(r._rendered=!0,y=r._nativeEvents){for(C=r.parents().toArray(),C.unshift(r),w=0,B=C.length;!A&&B>w;w++){A=C[w]._eventsRoot}for(A||(A=C[C.length-1]||r),r._eventsRoot=A,B=w,w=0;B>w;w++){C[w]._eventsRoot=A}var v=A._delegates;v||(v=A._delegates={});for(a in y){if(!y){return !1}"wheel"!==a||q?("mouseenter"===a||"mouseleave"===a?A._hasMouseEnter||(b.on(A.getEl(),"mouseleave",D),b.on(A.getEl(),"mouseover",s),A._hasMouseEnter=1):v[a]||(b.on(A.getEl(),a,z),v[a]=!0),y[a]=!1):m?b.on(r.getEl(),"mousewheel",x):b.on(r.getEl(),"DOMMouseScroll",x)}}},getRoot:function(){for(var i=this,a,l=[];i;){if(i.rootControl){a=i.rootControl;break}l.push(i),a=i,i=i.parent()}a||(a=this);for(var c=l.length;c--;){l[c].rootControl=a}return a},reflow:function(){return this.repaint(),this}});return k}),aE(bL,[],function(){var b={},a;return{add:function(c,d){b[c.toLowerCase()]=d},has:function(c){return !!b[c.toLowerCase()]},create:function(g,e){var d,f,c;if(!a){c=tinymce.ui;for(f in c){b[f.toLowerCase()]=c[f]}a=!0}if("string"==typeof g?(e=e||{},e.type=g):(e=g,g=e.type),g=g.toLowerCase(),d=b[g],!d){throw new Error("Could not find control by type: "+g)}return d=new d(e),d.type=g,d}}}),aE(aP,[],function(){return function(L){function w(a){return a=a||O,a&&a.getAttribute("role")}function E(b){for(var c,a=b||O;a=a.parentNode;){if(c=w(a)){return c}}}function A(b){var a=O;return a?a.getAttribute("aria-"+b):void 0}function H(b){var a=b.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a}function D(a){return H(a)&&!a.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(w(a))?!0:!1}function P(b){function a(f){if(1==f.nodeType&&"none"!=f.style.display){D(f)&&c.push(f);for(var d=0;d<f.childNodes.length;d++){a(f.childNodes[d])}}}var c=[];return a(b||j.getEl()),c}function x(c){var a,d;c=c||z,d=c.parents().toArray(),d.unshift(c);for(var b=0;b<d.length&&(a=d[b],!a.settings.ariaRoot);b++){}return a}function G(b){var a=x(b),c=P(a.getEl());a.settings.ariaRemember&&"lastAriaIndex" in a?N(a.lastAriaIndex,c):N(0,c)}function N(b,a){return 0>b?b=a.length-1:b>=a.length&&(b=0),a[b]&&a[b].focus(),b}function q(d,b){var f=-1,c=x();b=b||P(c.getEl());for(var a=0;a<b.length;a++){b[a]===O&&(f=a)}f+=d,c.lastAriaIndex=N(f,b)}function M(){var a=E();"tablist"==a?q(-1,P(O.parentNode)):z.parent().submenu?J():q(-1)}function K(){var b=w(),a=E();"tablist"==a?q(1,P(O.parentNode)):"menuitem"==b&&"menu"==a&&A("haspopup")?k():q(1)}function B(){q(-1)}function F(){var b=w(),a=E();"menuitem"==b&&"menubar"==a?k():"button"==b&&A("haspopup")?k({key:"down"}):q(1)}function I(c){var a=E();if("tablist"==a){var b=P(z.getEl("body"))[0];b&&b.focus()}else{q(c.shiftKey?-1:1)}}function J(){z.fire("cancel")}function k(a){a=a||{},z.fire("click",{target:O,aria:a})}var j=L.root,O,z;return O=document.activeElement,z=j.getParentCtrl(O),j.on("keydown",function(b){function a(d,c){H(O)||c(d)!==!1&&d.preventDefault()}if(!b.isDefaultPrevented()){switch(b.keyCode){case 37:a(b,M);break;case 39:a(b,K);break;case 38:a(b,B);break;case 40:a(b,F);break;case 27:J();break;case 14:case 13:case 32:a(b,k);break;case 9:I(b)!==!1&&b.preventDefault()}}}),j.on("focusin",function(a){O=a.target,z=a.control}),{focusFirst:G}}}),aE(bp,[aH,ba,a8,bL,aP,aI,bb],function(h,d,k,g,c,j,b){var f={};return h.extend({layout:"",innerClass:"container-inner",init:function(a){var i=this;i._super(a),a=i.settings,i._fixed=a.fixed,i._items=new d,i.isRtl()&&i.addClass("rtl"),i.addClass("container"),i.addClass("container-body","body"),a.containerCls&&i.addClass(a.containerCls),i._layout=g.create((a.layout||i.layout)+"layout"),i.settings.items&&i.add(i.settings.items),i._hasBody=!0},items:function(){return this._items},find:function(a){return a=f[a]=f[a]||new k(a),a.find(this)},add:function(i){var a=this;return a.items().add(a.create(i)).parent(a),a},focus:function(o){var l=this,p,m,a;return o&&(m=l.keyboardNav||l.parents().eq(-1)[0].keyboardNav)?void m.focusFirst(l):(a=l.find("*"),l.statusbar&&a.add(l.statusbar.items()),a.each(function(i){return i.settings.autofocus?(p=null,!1):void (i.canFocus&&(p=p||i))}),p&&p.focus(),l)},replace:function(o,l){for(var p,m=this.items(),a=m.length;a--;){if(m[a]===o){m[a]=l;break}}a>=0&&(p=l.getEl(),p&&p.parentNode.removeChild(p),p=o.getEl(),p&&p.parentNode.removeChild(p)),l.parent(this)},create:function(m){var o=this,l,e=[];return j.isArray(m)||(m=[m]),j.each(m,function(a){a&&(a instanceof h||("string"==typeof a&&(a={type:a}),l=j.extend({},o.settings.defaults,a),a.type=l.type=l.type||a.type||o.settings.defaultType||(l.defaults?l.defaults.type:null),a=g.create(l)),e.push(a))}),e},renderNew:function(){var a=this;return a.items().each(function(l,o){var m,e;l.parent(a),l._rendered||(m=a.getEl("body"),e=b.createFragment(l.renderHtml()),m.hasChildNodes()&&o<=m.childNodes.length-1?m.insertBefore(e,m.childNodes[o]):m.appendChild(e),l.postRender())}),a._layout.applyClasses(a),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(i){var a=this;return a.items().set(a.create(i).concat(a.items().toArray())),a.renderNew()},insert:function(s,p,v){var q=this,m,u,l;return s=q.create(s),m=q.items(),!v&&p<m.length-1&&(p+=1),p>=0&&p<m.length&&(u=m.slice(0,p).toArray(),l=m.slice(p).toArray(),m.set(u.concat(s,l))),q.renderNew()},fromJSON:function(i){var a=this;for(var l in i){a.find("#"+l).value(i[l])}return a},toJSON:function(){var i=this,a={};return i.find("*").each(function(m){var o=m.name(),l=m.value();o&&"undefined"!=typeof l&&(a[o]=l)}),a},preRender:function(){},renderHtml:function(){var i=this,a=i._layout,l=this.settings.role;return i.preRender(),a.preRender(i),'<div id="'+i._id+'" class="'+i.classes()+'"'+(l?' role="'+this.settings.role+'"':"")+'><div id="'+i._id+'-body" class="'+i.classes("body")+'">'+(i.settings.html||"")+a.renderHtml(i)+"</div></div>"},postRender:function(){var i=this,a;return i.items().exec("postRender"),i._super(),i._layout.postRender(i),i._rendered=!0,i.settings.style&&b.css(i.getEl(),i.settings.style),i.settings.border&&(a=i.borderBox(),b.css(i.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),i.parent()||(i.keyboardNav=new c({root:i})),i},initLayoutRect:function(){var i=this,a=i._super();return i._layout.recalc(i),a},recalc:function(){var i=this,a=i._layoutRect,l=i._lastRect;return l&&l.w==a.w&&l.h==a.h?void 0:(i._layout.recalc(i),a=i.layoutRect(),i._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a;if(this.visible()){for(h.repaintControls=[],h.repaintControls.map={},this.recalc(),a=h.repaintControls.length;a--;){h.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),h.repaintControls=[]}return this}})}),aE(a4,[bb],function(b){function a(){var k=document,q,g,d,j,f,p,u,h,m=Math.max;return q=k.documentElement,g=k.body,d=m(q.scrollWidth,g.scrollWidth),j=m(q.clientWidth,g.clientWidth),f=m(q.offsetWidth,g.offsetWidth),p=m(q.scrollHeight,g.scrollHeight),u=m(q.clientHeight,g.clientHeight),h=m(q.offsetHeight,g.offsetHeight),{width:f>d?j:d,height:h>p?u:p}}return function(h,e){function k(){return t.getElementById(e.handle||h)}var g,t=document,w,j,q,v,p,m;e=e||{},j=function(i){var d=a(),f,c;i.preventDefault(),w=i.button,f=k(),p=i.screenX,m=i.screenY,c=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("cursor"):f.runtimeStyle.cursor,g=t.createElement("div"),b.css(g,{position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:0.0001,background:"red",cursor:c}),t.body.appendChild(g),b.on(t,"mousemove",v),b.on(t,"mouseup",q),e.start(i)},v=function(c){return c.button!==w?q(c):(c.deltaX=c.screenX-p,c.deltaY=c.screenY-m,c.preventDefault(),void e.drag(c))},q=function(c){b.off(t,"mousemove",v),b.off(t,"mouseup",q),g.parentNode.removeChild(g),e.stop&&e.stop(c)},this.destroy=function(){b.off(k())},b.on(k(),"mousedown",j)}}),aE(bu,[bb,a4],function(b,a){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function f(){function h(F,C,G,o,z,E){var x,w,k,n,q,r,D,B,A;if(w=c.getEl("scroll"+F)){if(B=C.toLowerCase(),A=G.toLowerCase(),c.getEl("absend")&&b.css(c.getEl("absend"),B,c.layoutRect()[o]-1),!z){return void b.css(w,"display","none")}b.css(w,"display","block"),x=c.getEl("body"),k=c.getEl("scroll"+F+"t"),n=x["client"+G]-2*e,n-=j&&i?w["client"+E]:0,q=x["scroll"+G],r=n/q,D={},D[B]=x["offset"+C]+e,D[A]=n,b.css(w,D),D={},D[B]=x["scroll"+C]*r,D[A]=n*r,b.css(k,D)}}var j,i,g;g=c.getEl("body"),j=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight,h("h","Left","Width","contentW",j,"Height"),h("v","Top","Height","contentH",i,"Width")}function d(){function g(q,m,i,k,h){var p,j=c._id+"-scroll"+q,o=c.classPrefix;c.getEl().appendChild(b.createFragment('<div id="'+j+'" class="'+o+"scrollbar "+o+"scrollbar-"+q+'"><div id="'+j+'t" class="'+o+'scrollbar-thumb"></div></div>')),c.draghelper=new a(j+"t",{start:function(){p=c.getEl("body")["scroll"+m],b.addClass(b.get(j),o+"active")},drag:function(v){var n,l,w,r,s=c.layoutRect();l=s.contentW>s.innerW,w=s.contentH>s.innerH,r=c.getEl("body")["client"+i]-2*e,r-=l&&w?c.getEl("scroll"+q)["client"+h]:0,n=r/c.getEl("body")["scroll"+i],c.getEl("body")["scroll"+m]=p+v["delta"+k]/n},stop:function(){b.removeClass(b.get(j),o+"active")}})}c.addClass("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var c=this,e=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",function(h){var g=c.getEl("body");g.scrollLeft+=10*(h.deltaX||0),g.scrollTop+=10*h.deltaY,f()}),b.on(c.getEl("body"),"scroll",f)),f())}}}),aE(a6,[bp,bu],function(b,a){return b.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[a],renderHtml:function(){var d=this,c=d._layout,f=d.settings.html;return d.preRender(),c.preRender(d),"undefined"==typeof f?f='<div id="'+d._id+'-body" class="'+d.classes("body")+'">'+c.renderHtml(d)+"</div>":("function"==typeof f&&(f=f.call(d)),d._hasBody=!1),'<div id="'+d._id+'" class="'+d.classes()+'" hidefocus="1" tabindex="-1" role="group">'+(d._preBodyHtml||"")+f+"</div>"}})}),aE(bq,[bb],function(b){function a(z,j,e){var m,h,x,A,k,w,y,v,q,g;return q=b.getViewPort(),h=b.getPos(j),x=h.x,A=h.y,z._fixed&&(x-=q.x,A-=q.y),m=z.getEl(),g=b.getSize(m),k=g.width,w=g.height,g=b.getSize(j),y=g.width,v=g.height,e=(e||"").split(""),"b"===e[0]&&(A+=v),"r"===e[1]&&(x+=y),"c"===e[0]&&(A+=Math.round(v/2)),"c"===e[1]&&(x+=Math.round(y/2)),"b"===e[3]&&(A-=w),"r"===e[4]&&(x-=k),"c"===e[3]&&(A-=Math.round(w/2)),"c"===e[4]&&(x-=Math.round(k/2)),{x:x,y:A,w:k,h:w}}return{testMoveRel:function(g,e){for(var d=b.getViewPort(),f=0;f<e.length;f++){var c=a(this,g,e[f]);if(this._fixed){if(c.x>0&&c.x+c.w<d.w&&c.y>0&&c.y+c.h<d.h){return e[f]}}else{if(c.x>d.x&&c.x+c.w<d.w+d.x&&c.y>d.y&&c.y+c.h<d.h+d.y){return e[f]}}}return e[0]},moveRel:function(d,f){"string"!=typeof f&&(f=this.testMoveRel(d,f));var c=a(this,d,f);return this.moveTo(c.x,c.y)},moveBy:function(f,c){var g=this,d=g.layoutRect();return g.moveTo(d.x+f,d.y+c),g},moveTo:function(e,h){function f(j,i,k){return 0>j?0:j+k>i?(j=i-k,0>j?0:j):j}var d=this;if(d.settings.constrainToViewport){var g=b.getViewPort(window),c=d.layoutRect();e=f(e,g.w+g.x,c.w),h=f(h,g.h+g.y,c.h)}return d._rendered?d.layoutRect({x:e,y:h}).repaint():(d.settings.x=e,d.settings.y=h),d.fire("move",{x:e,y:h}),d}}}),aE(bh,[bb],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,d){if(1>=b||1>=d){var c=a.getWindowSize();b=1>=b?b*c.w:b,d=1>=d?d*c.h:d}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:d,w:b,h:d}).reflow()},resizeBy:function(d,b){var f=this,c=f.layoutRect();return f.resizeTo(c.w+d,c.h+b)}}}),aE(a3,[a6,bq,bh,bb],function(j,q,f,b){function h(c){var a;for(a=v.length;a--;){v[a]===c&&v.splice(a,1)}for(a=g.length;a--;){g[a]===c&&g.splice(a,1)}}var d,m,v=[],g=[],k,p=j.extend({Mixins:[q,f],init:function(l){function c(){var w,u=p.zIndex||65535,x;if(g.length){for(w=0;w<g.length;w++){g[w].modal&&(u++,x=g[w]),g[w].getEl().style.zIndex=u,g[w].zIndex=u,u++}}var s=document.getElementById(o.classPrefix+"modal-block");x?b.css(s,"z-index",x.zIndex-1):s&&(s.parentNode.removeChild(s),k=!1),p.currentZIndex=u}function r(n,i){for(;n;){if(n==i){return !0}n=n.parent()}}function a(s){function i(w,y){for(var x,e=0;e<v.length;e++){if(v[e]!=s){for(x=v[e].parent();x&&(x=x.parent());){x==s&&v[e].fixed(w).moveBy(0,y).repaint()}}}}var u=b.getViewPort().y;s.settings.autofix&&(s._fixed?s._autoFixY>u&&(s.fixed(!1).layoutRect({y:s._autoFixY}).repaint(),i(!1,s._autoFixY-u)):(s._autoFixY=s.layoutRect().y,s._autoFixY<u&&(s.fixed(!0).layoutRect({y:0}).repaint(),i(!0,u-s._autoFixY))))}var o=this;o._super(l),o._eventsRoot=o,o.addClass("floatpanel"),l.autohide&&(d||(d=function(w){for(var s=v.length;s--;){var u=v[s],n=u.getParentCtrl(w.target);if(u.settings.autohide){if(n&&(r(n,u)||u.parent()===n)){continue}w=u.fire("autohide",{target:w.target}),w.isDefaultPrevented()||u.hide()}}},b.on(document,"click",d)),v.push(o)),l.autofix&&(m||(m=function(){var i;for(i=v.length;i--;){a(v[i])}},b.on(window,"scroll",m)),o.on("move",function(){a(this)})),o.on("postrender show",function(t){if(t.control==o){var u,s=o.classPrefix;o.modal&&!k&&(u=b.createFragment('<div id="'+s+'modal-block" class="'+s+"reset "+s+'fade"></div>'),u=u.firstChild,o.getContainerElm().appendChild(u),setTimeout(function(){b.addClass(u,s+"in"),b.addClass(o.getEl(),s+"in")},0),k=!0),g.push(o),c()}}),o.on("close hide",function(i){if(i.control==o){for(var s=g.length;s--;){g[s]===o&&g.splice(s,1)}c()}}),o.on("show",function(){o.parents().each(function(i){return i._fixed?(o.fixed(!0),!1):void 0})}),l.popover&&(o._preBodyHtml='<div class="'+o.classPrefix+'arrow"></div>',o.addClass("popover").addClass("bottom").addClass(o.isRtl()?"end":"start"))},fixed:function(c){var a=this;if(a._fixed!=c){if(a._rendered){var i=b.getViewPort();c?a.layoutRect().y-=i.y:a.layoutRect().y+=i.y}a.toggleClass("fixed",c),a._fixed=c}return a},show:function(){var c=this,a,i=c._super();for(a=v.length;a--&&v[a]!==c;){}return -1===a&&v.push(c),i},hide:function(){return h(this),this._super()},hideAll:function(){p.hideAll()},close:function(){var a=this;return a.fire("close"),a.remove()},remove:function(){h(this),this._super()},postRender:function(){var a=this;return a.settings.bodyRole&&this.getEl("body").setAttribute("role",a.settings.bodyRole),a._super()}});return p.hideAll=function(){for(var c=v.length;c--;){var a=v[c];a&&a.settings.autohide&&(a.hide(),v.splice(c,1))}},p}),aE(bW,[a3,a6,bb,a4],function(d,b,f,c){var a=d.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(g){var h=this;h._super(g),h.isRtl()&&h.addClass("rtl"),h.addClass("window"),h._fixed=!0,g.buttons&&(h.statusbar=new b({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:h.isRtl()?"start":"end",defaults:{type:"button"},items:g.buttons}),h.statusbar.addClass("foot"),h.statusbar.parent(h)),h.on("click",function(i){-1!=i.target.className.indexOf(h.classPrefix+"close")&&h.close()}),h.on("cancel",function(){h.close()}),h.aria("describedby",h.describedBy||h._id+"-none"),h.aria("label",g.title),h._fullscreen=!1},recalc:function(){var l=this,j=l.statusbar,k,h,m,g;l._fullscreen&&(l.layoutRect(f.getWindowSize()),l.layoutRect().contentH=l.layoutRect().innerH),l._super(),k=l.layoutRect(),l.settings.title&&!l._fullscreen&&(h=k.headerW,h>k.w&&(m=k.x-Math.max(0,h/2),l.layoutRect({w:h,x:m}),g=!0)),j&&(j.layoutRect({w:l.layoutRect().innerW}).recalc(),h=j.layoutRect().minW+k.deltaW,h>k.w&&(m=k.x-Math.max(0,h-k.w),l.layoutRect({w:h,x:m}),g=!0)),g&&l.recalc()},initLayoutRect:function(){var l=this,j=l._super(),k=0,h;if(l.settings.title&&!l._fullscreen){h=l.getEl("head");var m=f.getSize(h);j.headerW=m.width,j.headerH=m.height,k+=j.headerH}l.statusbar&&(k+=l.statusbar.layoutRect().h),j.deltaH+=k,j.minH+=k,j.h+=k;var g=f.getWindowSize();return j.x=Math.max(0,g.w/2-j.w/2),j.y=Math.max(0,g.h/2-j.h/2),j},renderHtml:function(){var m=this,j=m._layout,q=m._id,l=m.classPrefix,h=m.settings,p="",g="",k=h.html;return m.preRender(),j.preRender(m),h.title&&(p='<div id="'+q+'-head" class="'+l+'window-head"><div id="'+q+'-title" class="'+l+'title">'+m.encode(h.title)+'</div><button type="button" class="'+l+'close" aria-hidden="true">\xd7</button><div id="'+q+'-dragh" class="'+l+'dragh"></div></div>'),h.url&&(k='<iframe src="'+h.url+'" tabindex="-1"></iframe>'),"undefined"==typeof k&&(k=j.renderHtml(m)),m.statusbar&&(g=m.statusbar.renderHtml()),'<div id="'+q+'" class="'+m.classes()+'" hidefocus="1"><div class="'+m.classPrefix+'reset" role="application">'+p+'<div id="'+q+'-body" class="'+m.classes("body")+'">'+k+"</div>"+g+"</div></div>"},fullscreen:function(m){var j=this,l=document.documentElement,h,n=j.classPrefix,g;if(m!=j._fullscreen){if(f.on(window,"resize",function(){var o;if(j._fullscreen){if(h){j._timer||(j._timer=setTimeout(function(){var p=f.getWindowSize();j.moveTo(0,0).resizeTo(p.w,p.h),j._timer=0},50))}else{o=(new Date).getTime();var i=f.getWindowSize();j.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-o>50&&(h=!0)}}}),g=j.layoutRect(),j._fullscreen=m,m){j._initial={x:g.x,y:g.y,w:g.w,h:g.h},j._borderBox=j.parseBox("0"),j.getEl("head").style.display="none",g.deltaH-=g.headerH+2,f.addClass(l,n+"fullscreen"),f.addClass(document.body,n+"fullscreen"),j.addClass("fullscreen");var k=f.getWindowSize();j.moveTo(0,0).resizeTo(k.w,k.h)}else{j._borderBox=j.parseBox(j.settings.border),j.getEl("head").style.display="",g.deltaH+=g.headerH,f.removeClass(l,n+"fullscreen"),f.removeClass(document.body,n+"fullscreen"),j.removeClass("fullscreen"),j.moveTo(j._initial.x,j._initial.y).resizeTo(j._initial.w,j._initial.h)}}return j.reflow()},postRender:function(){var h=this,g;setTimeout(function(){h.addClass("in")},0),h._super(),h.statusbar&&h.statusbar.postRender(),h.focus(),this.dragHelper=new c(h._id+"-dragh",{start:function(){g={x:h.layoutRect().x,y:h.layoutRect().y}},drag:function(e){h.moveTo(g.x+e.deltaX,g.y+e.deltaY)}}),h.on("submit",function(e){e.isDefaultPrevented()||h.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var h=this,g=h.classPrefix;h.dragHelper.destroy(),h._super(),h.statusbar&&this.statusbar.remove(),h._fullscreen&&(f.removeClass(document.documentElement,g+"fullscreen"),f.removeClass(document.body,g+"fullscreen"))},getContentWindow:function(){var g=this.getEl().getElementsByTagName("iframe")[0];return g?g.contentWindow:null}});return a}),aE(bd,[bW],function(b){var a=b.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var d,c=e.callback||function(){};switch(e.buttons){case a.OK_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}},{type:"button",text:"Cancel",onClick:function(f){f.control.parents()[1].close(),c(!1)}}];break;case a.YES_NO:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}}];break;case a.YES_NO_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}];break;default:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}}]}return new b({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:d,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){c(!1)}}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,a.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=a.OK_CANCEL,a.msgBox(c)}}});return a}),aE(a5,[bW,bd],function(b,a){return function(f){function d(){return e.length?e[e.length-1]:void 0}var c=this,e=[];c.windows=e,c.open=function(h,j){var g;return f.editorManager.activeEditor=f,h.title=h.title||" ",h.url=h.url||h.file,h.url&&(h.width=parseInt(h.width||320,10),h.height=parseInt(h.height||240,10)),h.body&&(h.items={defaults:h.defaults,type:h.bodyType||"form",items:h.body}),h.url||h.buttons||(h.buttons=[{text:"Ok",subtype:"primary",onclick:function(){g.find("form")[0].submit()}},{text:"Cancel",onclick:function(){g.close()}}]),g=new b(h),e.push(g),g.on("close",function(){for(var i=e.length;i--;){e[i]===g&&e.splice(i,1)}f.focus()}),h.data&&g.on("postRender",function(){this.find("*").each(function(i){var k=i.name();k in h.data&&i.value(h.data[k])})}),g.features=h||{},g.params=j||{},f.nodeChanged(),g.renderTo().reflow()},c.alert=function(j,h,g){a.alert(j,function(){h?h.call(g||this):f.focus()})},c.confirm=function(h,i,g){a.confirm(h,function(j){i.call(g||this,j)})},c.close=function(){d()&&d().close()},c.getParams=function(){return d()?d().params:null},c.setParams=function(g){d()&&(d().params=g)},c.getWindows=function(){return e}}}),aE(bQ,[bg,bA,aw,aR,aS,aI],function(d,b,g,c,a,f){return function(ct){function cg(j,h){try{ct.getDoc().execCommand(j,!1,h)}catch(k){}}function ck(){var h=ct.getDoc().documentMode;return h?h:6}function cr(h){return h.isDefaultPrevented()}function cf(){function j(s){var p=new h(function(){});f.each(ct.getBody().getElementsByTagName("*"),function(v){"SPAN"==v.tagName&&v.setAttribute("mce-data-marked",1),!v.hasAttribute("data-mce-style")&&v.hasAttribute("style")&&ct.dom.setAttrib(v,"style",v.getAttribute("style"))}),p.observe(ct.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),ct.getDoc().execCommand(s?"ForwardDelete":"Delete",!1,null);var u=ct.selection.getRng(),q=u.startContainer.parentNode;f.each(p.takeRecords(),function(w){if("style"==w.attributeName){var v=w.target.getAttribute("data-mce-style");v?w.target.setAttribute("style",v):w.target.removeAttribute("style")}f.each(w.addedNodes,function(z){if("SPAN"==z.nodeName&&!z.getAttribute("mce-data-marked")){var y,x;z==q&&(y=u.startOffset,x=z.firstChild),r.remove(z,!0),x&&(u.setStart(x,y),u.setEnd(x,y),ct.selection.setRng(u))}})}),p.disconnect(),f.each(ct.dom.select("span[mce-data-marked]"),function(v){v.removeAttribute("mce-data-marked")})}var m=ct.getDoc(),l="data:text/mce-internal,",h=window.MutationObserver,k;h||(k=!0,h=function(){function s(w){var v=w.relatedNode||w.target;u.push({target:v,addedNodes:[v]})}function p(w){var v=w.relatedNode||w.target;u.push({target:v,attributeName:w.attrName})}var u=[],q;this.observe=function(v){q=v,q.addEventListener("DOMSubtreeModified",s,!1),q.addEventListener("DOMNodeInsertedIntoDocument",s,!1),q.addEventListener("DOMNodeInserted",s,!1),q.addEventListener("DOMAttrModified",p,!1)},this.disconnect=function(){q.removeEventListener("DOMNodeInserted",s),q.removeEventListener("DOMAttrModified",p),q.removeEventListener("DOMSubtreeModified",s,!1)},this.takeRecords=function(){return u}}),ct.on("keydown",function(x){var v=x.keyCode==o,q=d.metaKeyPressed(x);if(!cr(x)&&(v||x.keyCode==n)){var w=ct.selection.getRng(),u=w.startContainer,p=w.startOffset;if(!q&&w.collapsed&&3==u.nodeType&&(v?p<u.data.length:p>0)){return}x.preventDefault(),q&&ct.selection.getSel().modify("extend",v?"forward":"backward","word"),j(v)}}),ct.on("keypress",function(p){cr(p)||ch.isCollapsed()||!p.charCode||d.metaKeyPressed(p)||(p.preventDefault(),j(!0),ct.selection.setContent(String.fromCharCode(p.charCode)))}),ct.addCommand("Delete",function(){j()}),ct.addCommand("ForwardDelete",function(){j(!0)}),k||(ct.on("dragstart",function(p){p.dataTransfer.setData("URL","data:text/mce-internal,"+escape(ct.selection.getContent()))}),ct.on("drop",function(q){if(!cr(q)){var p=q.dataTransfer.getData("URL");if(!p||-1==p.indexOf(l)||!m.caretRangeFromPoint){return}p=unescape(p.substr(l.length)),m.caretRangeFromPoint&&(q.preventDefault(),j(),ct.selection.setRng(m.caretRangeFromPoint(q.x,q.y)),ct.insertContent(p))}}),ct.on("cut",function(p){!cr(p)&&p.clipboardData&&(p.preventDefault(),p.clipboardData.clearData(),p.clipboardData.setData("text/html",ct.selection.getContent()),p.clipboardData.setData("text/plain",ct.selection.getContent({format:"text"})),j(!0))}))}function cq(){function h(l){var k=r.create("body"),m=l.cloneContents();return k.appendChild(m),ch.serializer.serialize(k,{format:"html"})}function j(q){if(!q.setStart){if(q.item){return !1}var m=q.duplicate();return m.moveToElementText(ct.getBody()),b.compareRanges(q,m)}var k=h(q),p=r.createRng();p.selectNode(ct.getBody());var l=h(p);return k===l}ct.on("keydown",function(p){var l=p.keyCode,m,k;if(!cr(p)&&(l==o||l==n)){if(m=ct.selection.isCollapsed(),k=ct.getBody(),m&&!r.isEmpty(k)){return}if(!m&&!j(ct.selection.getRng())){return}p.preventDefault(),ct.setContent(""),k.firstChild&&r.isBlock(k.firstChild)?ct.selection.setCursorLocation(k.firstChild,0):ct.selection.setCursorLocation(k,0),ct.nodeChanged()}})}function cp(){ct.on("keydown",function(h){!cr(h)&&65==h.keyCode&&d.metaKeyPressed(h)&&(h.preventDefault(),ct.execCommand("SelectAll"))})}function ci(){ct.settings.content_editable||(r.bind(ct.getDoc(),"focusin",function(){ch.setRng(ch.getRng())}),r.bind(ct.getDoc(),"mousedown",function(h){h.target==ct.getDoc().documentElement&&(ct.getBody().focus(),ch.setRng(ch.getRng()))}))}function cj(){ct.on("keydown",function(j){if(!cr(j)&&j.keyCode===n&&ch.isCollapsed()&&0===ch.getRng(!0).startOffset){var h=ch.getNode(),k=h.previousSibling;if("HR"==h.nodeName){return r.remove(h),void j.preventDefault()}k&&k.nodeName&&"hr"===k.nodeName.toLowerCase()&&(r.remove(k),j.preventDefault())}})}function cn(){window.Range.prototype.getClientRects||ct.on("mousedown",function(j){if(!cr(j)&&"HTML"===j.target.nodeName){var h=ct.getBody();h.blur(),setTimeout(function(){h.focus()},0)}})}function co(){ct.on("click",function(h){h=h.target,/^(IMG|HR)$/.test(h.nodeName)&&ch.getSel().setBaseAndExtent(h,0,h,1),"A"==h.nodeName&&r.hasClass(h,"mce-item-anchor")&&ch.select(h),ct.nodeChanged()})}function ce(){function j(){var k=r.getAttribs(ch.getStart().cloneNode(!1));return function(){var l=ch.getStart();l!==ct.getBody()&&(r.setAttrib(l,"style",null),ca(k,function(m){l.setAttributeNode(m.cloneNode(!0))}))}}function h(){return !ch.isCollapsed()&&r.getParent(ch.getStart(),r.isBlock)!=r.getParent(ch.getEnd(),r.isBlock)}ct.on("keypress",function(l){var k;return cr(l)||8!=l.keyCode&&46!=l.keyCode||!h()?void 0:(k=j(),ct.getDoc().execCommand("delete",!1,null),k(),l.preventDefault(),!1)}),r.bind(ct.getDoc(),"cut",function(l){var k;!cr(l)&&h()&&(k=j(),setTimeout(function(){k()},0))})}function cb(){var h,j;ct.on("selectionchange",function(){j&&(clearTimeout(j),j=0),j=window.setTimeout(function(){if(!ct.removed){var k=ch.getRng();h&&b.compareRanges(k,h)||(ct.nodeChanged(),h=k)}},50)})}function cs(){document.body.setAttribute("role","application")}function b6(){ct.on("keydown",function(j){if(!cr(j)&&j.keyCode===n&&ch.isCollapsed()&&0===ch.getRng(!0).startOffset){var h=ch.getNode().previousSibling;if(h&&h.nodeName&&"table"===h.nodeName.toLowerCase()){return j.preventDefault(),!1}}})}function cc(){ck()>7||(cg("RespectVisibilityInDesign",!0),ct.contentStyles.push(".mceHideBrInPre pre br {display: none}"),r.addClass(ct.getBody(),"mceHideBrInPre"),cm.addNodeFilter("pre",function(m){for(var k=m.length,l,j,p,h;k--;){for(l=m[k].getAll("br"),j=l.length;j--;){p=l[j],h=p.prev,h&&3===h.type&&"\n"!=h.value.charAt(h.value-1)?h.value+="\n":p.parent.insert(new g("#text",3),p,!0).value="\n"}}}),bZ.addNodeFilter("pre",function(l){for(var j=l.length,p,k,h,m;j--;){for(p=l[j].getAll("br"),k=p.length;k--;){h=p[k],m=h.prev,m&&3==m.type&&(m.value=m.value.replace(/\r?\n$/,""))}}}))}function cd(){r.bind(ct.getBody(),"mouseup",function(){var j,h=ch.getNode();"IMG"==h.nodeName&&((j=r.getStyle(h,"width"))&&(r.setAttrib(h,"width",j.replace(/[^0-9%]+/g,"")),r.setStyle(h,"width","")),(j=r.getStyle(h,"height"))&&(r.setAttrib(h,"height",j.replace(/[^0-9%]+/g,"")),r.setStyle(h,"height","")))})}function cu(){ct.on("keydown",function(j){var p,l,h,m,k;if(!cr(j)&&j.keyCode==d.BACKSPACE&&(p=ch.getRng(),l=p.startContainer,h=p.startOffset,m=r.getRoot(),k=l,p.collapsed&&0===h)){for(;k&&k.parentNode&&k.parentNode.firstChild==k&&k.parentNode!=m;){k=k.parentNode}"BLOCKQUOTE"===k.tagName&&(ct.formatter.toggle("blockquote",null,k),p=r.createRng(),p.setStart(l,0),p.setEnd(l,0),ch.setRng(p))}})}function bt(){function h(){ct._refreshContentEditable(),cg("StyleWithCSS",!1),cg("enableInlineTableEditing",!1),b9.object_resizing||cg("enableObjectResizing",!1)}b9.readonly||ct.on("BeforeExecCommand MouseDown",h)}function b4(){function h(){ca(r.select("a"),function(k){var j=k.parentNode,l=r.getRoot();if(j.lastChild===k){for(;j&&!r.isBlock(j);){if(j.parentNode.lastChild!==j||j===l){return}j=j.parentNode}r.add(j,"br",{"data-mce-bogus":1})}})}ct.on("SetContent ExecCommand",function(j){("setcontent"==j.type||"mceInsertLink"===j.command)&&h()})}function J(){b9.forced_root_block&&ct.on("init",function(){cg("DefaultParagraphSeparator",b9.forced_root_block)})}function cl(){ct.on("Undo Redo SetContent",function(h){h.initial||ct.execCommand("mceRepaint")})}function t(){ct.on("keydown",function(j){var h;cr(j)||j.keyCode!=n||(h=ct.getDoc().selection.createRange(),h&&h.item&&(j.preventDefault(),ct.undoManager.beforeChange(),r.remove(h.item(0)),ct.undoManager.add()))})}function Q(){var h;ck()>=10&&(h="",ca("p div h1 h2 h3 h4 h5 h6".split(" "),function(j,k){h+=(k>0?",":"")+j+":empty"}),ct.contentStyles.push(h+"{padding-right: 1px !important}"))}function b8(){ck()<9&&(cm.addNodeFilter("noscript",function(k){for(var h=k.length,l,j;h--;){l=k[h],j=l.firstChild,j&&l.attr("data-mce-innertext",j.value)}}),bZ.addNodeFilter("noscript",function(l){for(var k=l.length,j,m,h;k--;){j=l[k],m=l[k].firstChild,m?m.value=c.decode(m.value):(h=j.attributes.map["data-mce-innertext"],h&&(j.attr("data-mce-innertext",null),m=new g("#text",3),m.value=h,m.raw=!0,j.append(m)))}}))}function b7(){function p(w,s){var x=j.createTextRange();try{x.moveToPoint(w,s)}catch(v){x=null}return x}function k(s){var v;s.button?(v=p(s.x,s.y),v&&(v.compareEndPoints("StartToStart",h)>0?v.setEndPoint("StartToStart",h):v.setEndPoint("EndToEnd",h),v.select())):u()}function u(){var s=m.selection.createRange();h&&!s.item&&0===s.compareEndPoints("StartToEnd",s)&&h.select(),r.unbind(m,"mouseup",u),r.unbind(m,"mousemove",k),h=q=0}var m=r.doc,j=m.body,q,h,l;m.documentElement.unselectable=!0,r.bind(m,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(q&&u(),l=m.documentElement,l.scrollHeight>l.clientHeight){return}q=1,h=p(s.x,s.y),h&&(r.bind(m,"mouseup",u),r.bind(m,"mousemove",k),r.getRoot().focus(),h.select())}})}function bY(){ct.on("keyup focusin mouseup",function(h){65==h.keyCode&&d.metaKeyPressed(h)||ch.normalize()},!0)}function b5(){ct.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function bX(){ct.inline||ct.on("keydown",function(){document.activeElement==document.body&&ct.getWin().focus()})}function b1(){ct.inline||(ct.contentStyles.push("body {min-height: 150px}"),ct.on("click",function(h){"HTML"==h.target.nodeName&&(ct.getBody().focus(),ct.selection.normalize(),ct.nodeChanged())}))}function Z(){a.mac&&ct.on("keydown",function(h){!d.metaKeyPressed(h)||37!=h.keyCode&&39!=h.keyCode||(h.preventDefault(),ct.selection.getSel().modify("move",37==h.keyCode?"backward":"forward","word"))})}function at(){cg("AutoUrlDetect",!1)}function b0(){ct.inline||ct.on("focus blur",function(){var h=ct.dom.create("br");ct.getBody().appendChild(h),h.parentNode.removeChild(h)},!0)}function b3(){ct.on("click",function(j){var h=j.target;do{if("A"===h.tagName){return void j.preventDefault()}}while(h=h.parentNode)}),ct.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}var ca=f.each,n=d.BACKSPACE,o=d.DELETE,r=ct.dom,ch=ct.selection,b9=ct.settings,cm=ct.parser,bZ=ct.serializer,e=a.gecko,b2=a.ie,i=a.webkit;b6(),cu(),cq(),bY(),i&&(cf(),ci(),co(),J(),a.iOS?(cb(),bX(),b1(),b3()):cp()),b2&&a.ie<11&&(cj(),cs(),cc(),cd(),t(),Q(),b8(),b7()),a.ie>=11&&(b1(),b0()),a.ie&&(cp(),at()),e&&(cj(),cn(),ce(),bt(),b4(),cl(),b5(),Z())}}),aE(aq,[aI],function(d){function b(){return !1}function f(){return !0}var c="__bindings",a=d.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragstart dragend dragover draggesture dragdrop drop drag"," ");return{fire:function(k,j,g){var p=this,r,h,n,q,m;if(k=k.toLowerCase(),j=j||{},j.type=k,!p.removed||"remove"===k){if(j.target||(j.target=p),j.preventDefault||(j.preventDefault=function(){j.isDefaultPrevented=f},j.stopPropagation=function(){j.isPropagationStopped=f},j.stopImmediatePropagation=function(){j.isImmediatePropagationStopped=f},j.isDefaultPrevented=b,j.isPropagationStopped=b,j.isImmediatePropagationStopped=b),p[c]&&(r=p[c][k])){for(h=0,n=r.length;n>h&&(r[h]=q=r[h],!j.isImmediatePropagationStopped());h++){if(q.call(p,j)===!1){return j.preventDefault(),j}}}if(g!==!1&&p.parent){for(m=p.parent();m&&!j.isPropagationStopped();){m.fire(k,j,!1),m=m.parent()}}return j}},on:function(k,i,q){var m=this,h,j,g,p;if(i===!1&&(i=function(){return !1}),i){for(g=k.toLowerCase().split(" "),p=g.length;p--;){k=g[p],h=m[c],h||(h=m[c]={}),j=h[k],j||(j=h[k]=[],m.bindNative&&a[k]&&m.bindNative(k)),q?j.unshift(i):j.push(i)}}return m},off:function(j,q){var h=this,g,m=h[c],r,i,k,p;if(m){if(j){for(k=j.toLowerCase().split(" "),g=k.length;g--;){if(j=k[g],r=m[j],!j){for(i in m){m[j].length=0}return h}if(r){if(q){for(p=r.length;p--;){r[p]===q&&r.splice(p,1)}}else{r.length=0}!r.length&&h.unbindNative&&a[j]&&(h.unbindNative(j),delete m[j])}}}else{if(h.unbindNative){for(j in m){h.unbindNative(j)}}h[c]=[]}}return h},hasEventListeners:function(h){var g=this[c];return h=h.toLowerCase(),!(!g||!g[h]||0===g[h].length)}}}),aE(ay,[aI,aS],function(d,b){var f=d.each,c=d.explode,a={f9:120,f10:121,f11:122};return function(h){var e=this,g={};h.on("keyup keypress keydown",function(i){(i.altKey||i.ctrlKey||i.metaKey)&&f(g,function(k){var j=b.mac?i.metaKey:i.ctrlKey;if(k.ctrl==j&&k.alt==i.altKey&&k.shift==i.shiftKey){return i.keyCode==k.keyCode||i.charCode&&i.charCode==k.charCode?(i.preventDefault(),"keydown"==i.type&&k.func.call(k.scope),!0):void 0}})}),e.add=function(m,j,i,n){var k;return k=i,"string"==typeof i?i=function(){h.execCommand(k,!1,null)}:d.isArray(k)&&(i=function(){h.execCommand(k[0],k[1],k[2])}),f(c(m.toLowerCase()),function(o){var l={func:i,scope:n||h,desc:h.translate(j),alt:!1,ctrl:!1,shift:!1};f(c(o,"+"),function(p){switch(p){case"alt":case"ctrl":case"shift":l[p]=!0;break;default:l.charCode=p.charCodeAt(0),l.keyCode=a[p]||p.toUpperCase().charCodeAt(0)}}),g[(l.ctrl?"ctrl":"")+","+(l.alt?"alt":"")+","+(l.shift?"shift":"")+","+l.keyCode]=l}),!0}}}),aE(bz,[av,by,aw,aO,be,bo,bn,bs,bi,bj,br,bv,aY,aN,a5,ax,bl,bQ,aS,aI,aq,ay],function(b8,b0,bX,b4,bZ,cc,bt,b2,ca,at,b9,b7,bY,b1,b5,b6,Z,W,cb,Q,X,Y){function cd(b,a){return"selectionchange"==a?b.getDoc():!b.inline&&/^mouse|click|contextmenu|drop/.test(a)?b.getDoc():b.getBody()}function F(g,d,f){var c=this,h,b;h=c.documentBaseUrl=f.documentBaseURL,b=f.baseURI,c.settings=d=j({id:g,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:h,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c,ie7_compat:!0},d),b0.language=d.language||"en",b0.languageLoad=d.language_load,b0.baseURL=f.baseURL,c.id=d.id=g,c.isNotDirty=!0,c.plugins={},c.documentBaseURI=new b7(d.document_base_url||h,{base_uri:b}),c.baseURI=b,c.contentCSS=[],c.contentStyles=[],c.shortcuts=new Y(c),c.execCommands={},c.queryStateCommands={},c.queryValueCommands={},c.loadedCSS={},c.suffix=f.suffix,c.editorManager=f,c.inline=d.inline,f.fire("SetupEditor",c),c.execCallback("setup",c)}var K=b8.DOM,q=b0.ThemeManager,b3=b0.PluginManager,j=Q.extend,t=Q.each,V=Q.explode,U=Q.inArray,I=Q.trim,O=Q.resolve,G=b1.Event,J=cb.gecko,z=cb.ie;return F.prototype={render:function(){function g(){K.unbind(window,"ready",g),k.render()}function d(){var i=bY.ScriptLoader;if(f.language&&"en"!=f.language&&!f.language_url&&(f.language_url=k.editorManager.baseURL+"/langs/"+f.language+".js"),f.language_url&&i.add(f.language_url),f.theme&&"function"!=typeof f.theme&&"-"!=f.theme.charAt(0)&&!q.urls[f.theme]){var a=f.theme_url;a=a?k.documentBaseURI.toAbsolute(a):"themes/"+f.theme+"/theme"+h+".js",q.load(f.theme,a)}Q.isArray(f.plugins)&&(f.plugins=f.plugins.join(" ")),t(f.external_plugins,function(m,l){b3.load(l,m),f.plugins+=" "+l}),t(f.plugins.split(/[ ,]/),function(m){if(m=I(m),m&&!b3.urls[m]){if("-"==m.charAt(0)){m=m.substr(1,m.length);var l=b3.dependencies(m);t(l,function(o){var n={prefix:"plugins/",resource:o,suffix:"/plugin"+h+".js"};o=b3.createUrl(n,o),b3.load(o.resource,o)})}else{b3.load(m,{prefix:"plugins/",resource:m,suffix:"/plugin"+h+".js"})}}}),i.loadQueue(function(){k.removed||k.init()})}var k=this,f=k.settings,c=k.id,h=k.suffix;if(!G.domLoaded){return void K.bind(window,"ready",g)}if(k.getElement()&&cb.contentEditable){f.inline?k.inline=!0:(k.orgVisibility=k.getElement().style.visibility,k.getElement().style.visibility="hidden");var b=k.getElement().form||K.getParent(c,"form");b&&(k.formElement=b,f.hidden_input&&!/TEXTAREA|INPUT/i.test(k.getElement().nodeName)&&(K.insertAfter(K.create("input",{type:"hidden",name:c}),c),k.hasHiddenInput=!0),k.formEventDelegate=function(a){k.fire(a.type,a)},K.bind(b,"submit reset",k.formEventDelegate),k.on("reset",function(){k.setContent(k.startContent,{format:"raw"})}),!f.submit_patch||b.submit.nodeType||b.submit.length||b._mceOldSubmit||(b._mceOldSubmit=b.submit,b.submit=function(){return k.editorManager.triggerSave(),k.isNotDirty=!0,b._mceOldSubmit(b)})),k.windowManager=new b5(k),"xml"==f.encoding&&k.on("GetContent",function(a){a.save&&(a.content=K.encode(a.content))}),f.add_form_submit_trigger&&k.on("submit",function(){k.initialized&&k.save()}),f.add_unload_trigger&&(k._beforeUnload=function(){!k.initialized||k.destroyed||k.isHidden()||k.save({format:"raw",no_events:!0,set_dirty:!1})},k.editorManager.on("BeforeUnload",k._beforeUnload)),d()}},init:function(){function S(e){var c=b3.get(e),a,d;a=b3.urls[e]||x.documentBaseUrl.replace(/\/$/,""),e=I(e),c&&-1===U(N,e)&&(t(b3.dependencies(e),function(f){S(f)}),d=new c(x,a),x.plugins[e]=d,d.init&&(d.init(x,a),N.push(e)))}var x=this,E=x.settings,B=x.getElement(),M,D,cf,A,L,ce,w,T,R,C,H,N=[];if(x.rtl=this.editorManager.i18n.rtl,x.editorManager.add(x),E.aria_label=E.aria_label||K.getAttrib(B,"aria-label",x.getLang("aria.rich_text_area")),E.theme&&("function"!=typeof E.theme?(E.theme=E.theme.replace(/-/,""),ce=q.get(E.theme),x.theme=new ce(x,q.urls[E.theme]),x.theme.init&&x.theme.init(x,q.urls[E.theme]||x.documentBaseUrl.replace(/\/$/,""))):x.theme=E.theme),t(E.plugins.replace(/\-/g,"").split(/[ ,]/),S),E.render_ui&&x.theme&&(x.orgDisplay=B.style.display,"function"!=typeof E.theme?(M=E.width||B.style.width||B.offsetWidth,D=E.height||B.style.height||B.offsetHeight,cf=E.min_height||100,C=/^[0-9\.]+(|px)$/i,C.test(""+M)&&(M=Math.max(parseInt(M,10),100)),C.test(""+D)&&(D=Math.max(parseInt(D,10),cf)),L=x.theme.renderUI({targetNode:B,width:M,height:D,deltaWidth:E.delta_width,deltaHeight:E.delta_height}),E.content_editable||(K.setStyles(L.sizeContainer||L.editorContainer,{wi2dth:M,h2eight:D}),D=(L.iframeHeight||D)+("number"==typeof D?L.deltaHeight||0:""),cf>D&&(D=cf))):(L=E.theme(x,B),L.editorContainer.nodeType&&(L.editorContainer=L.editorContainer.id=L.editorContainer.id||x.id+"_parent"),L.iframeContainer.nodeType&&(L.iframeContainer=L.iframeContainer.id=L.iframeContainer.id||x.id+"_iframecontainer"),D=L.iframeHeight||B.offsetHeight),x.editorContainer=L.editorContainer),E.content_css&&t(V(E.content_css),function(a){x.contentCSS.push(x.documentBaseURI.toAbsolute(a))}),E.content_style&&x.contentStyles.push(E.content_style),E.content_editable){return B=A=L=null,x.initContentBody()}for(x.iframeHTML=E.doctype+"<html><head>",E.document_base_url!=x.documentBaseUrl&&(x.iframeHTML+='<base href="'+x.documentBaseURI.getURI()+'" />'),!cb.caretAfter&&E.ie7_compat&&(x.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),x.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',H=0;H<x.contentCSS.length;H++){var P=x.contentCSS[H];x.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+P+'" />',x.loadedCSS[P]=!0}T=E.body_id||"tinymce",-1!=T.indexOf("=")&&(T=x.getParam("body_id","","hash"),T=T[x.id]||T),R=E.body_class||"",-1!=R.indexOf("=")&&(R=x.getParam("body_class","","hash"),R=R[x.id]||""),x.iframeHTML+='</head><body id="'+T+'" class="mce-content-body '+R+'" onload="window.parent.tinymce.get(\''+x.id+"').fire('load');\"><br></body></html>";var k='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+x.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname&&(w=k),A=K.add(L.iframeContainer,"iframe",{id:x.id+"_ifr",src:w||'javascript:""',frameBorder:"0",allowTransparency:"true",title:x.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:D,display:"block"}}),z){try{x.getDoc()}catch(b){A.src=w=k}}x.contentAreaContainer=L.iframeContainer,L.editorContainer&&(K.get(L.editorContainer).style.display=x.orgDisplay),K.get(x.id).style.display="none",K.setAttrib(x.id,"aria-hidden",!0),w||x.initContentBody(),B=A=L=null},initContentBody:function(b){var i=this,g=i.settings,d=K.get(i.id),e=i.getDoc(),a,c;g.inline||(i.getElement().style.visibility=i.orgVisibility),b||g.content_editable||(e.open(),e.write(i.iframeHTML),e.close()),g.content_editable&&(i.on("remove",function(){var f=this.getBody();K.removeClass(f,"mce-content-body"),K.removeClass(f,"mce-edit-focus"),K.setAttrib(f,"contentEditable",null)}),K.addClass(d,"mce-content-body"),i.contentDocument=e=g.content_document||document,i.contentWindow=g.content_window||window,i.bodyElement=d,g.content_document=g.content_window=null,g.root_name=d.nodeName.toLowerCase()),a=i.getBody(),a.disabled=!0,g.readonly||(i.inline&&"static"==K.getStyle(a,"position",!0)&&(a.style.position="relative"),a.contentEditable=i.getParam("content_editable_state",!0)),a.disabled=!1,i.schema=new b6(g),i.dom=new b8(e,{keep_values:!0,url_converter:i.convertURL,url_converter_scope:i,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:g.content_editable?i.id:null,collect:g.content_editable,schema:i.schema,onSetAttrib:function(f){i.fire("SetAttrib",f)}}),i.parser=new Z(g,i.schema),i.parser.addAttributeFilter("src,href,style,tabindex",function(n,k){for(var m=n.length,h,p=i.dom,f,l;m--;){h=n[m],f=h.attr(k),l="data-mce-"+k,h.attributes.map[l]||("style"===k?h.attr(l,p.serializeStyle(p.parseStyle(f),h.name)):"tabindex"===k?(h.attr(l,f),h.attr(k,null)):h.attr(l,i.convertURL(f,k,h.name)))}}),i.parser.addNodeFilter("script",function(h){for(var f=h.length,k;f--;){k=h[f],k.attr("type","mce-"+(k.attr("type")||"text/javascript"))}}),i.parser.addNodeFilter("#cdata",function(h){for(var f=h.length,k;f--;){k=h[f],k.type=8,k.name="#comment",k.value="[CDATA["+k.value+"]]"}}),i.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(k){for(var h=k.length,f,l=i.schema.getNonEmptyElements();h--;){f=k[h],f.isEmpty(l)&&(f.empty().append(new bX("br",1)).shortEnded=!0)}}),i.serializer=new b4(g,i),i.selection=new cc(i.dom,i.getWin(),i.serializer,i),i.formatter=new bt(i),i.undoManager=new b2(i),i.forceBlocks=new at(i),i.enterKey=new ca(i),i.editorCommands=new b9(i),i.fire("PreInit"),g.browser_spellcheck||g.gecko_spellcheck||(e.body.spellcheck=!1,K.setAttrib(a,"spellcheck","false")),i.fire("PostRender"),i.quirks=W(i),g.directionality&&(a.dir=g.directionality),g.nowrap&&(a.style.whiteSpace="nowrap"),g.protect&&i.on("BeforeSetContent",function(f){t(g.protect,function(h){f.content=f.content.replace(h,function(k){return"<!--mce:protected "+escape(k)+"-->"})})}),i.on("SetContent",function(){i.addVisual(i.getBody())}),g.padd_empty_editor&&i.on("PostProcess",function(f){f.content=f.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),i.load({initial:!0,format:"html"}),i.startContent=i.getContent({format:"raw"}),i.initialized=!0,t(i._pendingNativeEvents,function(f){i.dom.bind(cd(i,f),f,function(h){i.fire(h.type,h)})}),i.fire("init"),i.focus(!0),i.nodeChanged({initial:!0}),i.execCallback("init_instance_callback",i),i.contentStyles.length>0&&(c="",t(i.contentStyles,function(f){c+=f+"\r\n"}),i.dom.addStyle(c)),t(i.contentCSS,function(f){i.loadedCSS[f]||(i.dom.loadCSS(f),i.loadedCSS[f]=!0)}),g.auto_focus&&setTimeout(function(){var f=i.editorManager.get(g.auto_focus);f.selection.select(f.getBody(),1),f.selection.collapse(1),f.getBody().focus(),f.getWin().focus()},100),d=e=a=null},focus:function(k){var u,f=this,b=f.selection,h=f.settings.content_editable,d,p,v=f.getDoc(),g;if(!k){if(d=b.getRng(),d.item&&(p=d.item(0)),f._refreshContentEditable(),h||(cb.opera||f.getBody().focus(),f.getWin().focus()),J||h){if(g=f.getBody(),g.setActive){try{g.setActive()}catch(m){g.focus()}}else{g.focus()}h&&b.normalize()}p&&p.ownerDocument==v&&(d=v.body.createControlRange(),d.addElement(p),d.select())}f.editorManager.activeEditor!=f&&((u=f.editorManager.activeEditor)&&u.fire("deactivate",{relatedTarget:f}),f.fire("activate",{relatedTarget:u})),f.editorManager.activeEditor=f},execCallback:function(c){var a=this,d=a.settings[c],b;if(d){return a.callbackLookup&&(b=a.callbackLookup[c])&&(d=b.func,b=b.scope),"string"==typeof d&&(b=d.replace(/\.\w+$/,""),b=b?O(b):0,d=O(d),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[c]={func:d,scope:b}),d.apply(b||a,Array.prototype.slice.call(arguments,1))}},translate:function(b){var a=this.settings.language||"en",c=this.editorManager.i18n;return b?c.data[a+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(f,d){return c.data[a+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==aC?b:"{#"+a+"}")},getParam:function(d,b,f){var c=d in this.settings?this.settings[d]:b,a;return"hash"===f?(a={},"string"==typeof c?t(c.split(c.indexOf("=")>0?/[;,](?![^=;,]*(?:[;,]|$))/:","),function(g){g=g.split("="),a[I(g[0])]=I(g.length>1?g[1]:g)}):a=c,a):c},nodeChanged:function(){var d=this,b=d.selection,f,c,a;!d.initialized||d.settings.disable_nodechange||d.settings.readonly||(a=d.getBody(),f=b.getStart()||a,f=z&&f.ownerDocument!=d.getDoc()?d.getBody():f,"IMG"==f.nodeName&&b.isCollapsed()&&(f=f.parentNode),c=[],d.dom.getParent(f,function(g){return g===a?!0:void c.push(g)}),d.fire("NodeChange",{element:f,parents:c}))},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),a.text||a.icon||(a.icon=b),c.buttons=c.buttons||{},a.tooltip=a.tooltip||a.title,c.buttons[b]=a},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems||{},c.menuItems[b]=a},addCommand:function(b,a,c){this.execCommands[b]={func:a,scope:c||this}},addQueryStateHandler:function(b,a,c){this.queryStateCommands[b]={func:a,scope:c||this}},addQueryValueHandler:function(b,a,c){this.queryValueCommands[b]={func:a,scope:c||this}},addShortcut:function(c,a,d,b){this.shortcuts.add(c,a,d,b)},execCommand:function(g,d,k,f){var c=this,h=0,b;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(g)||f&&f.skip_focus||c.focus(),f=j({},f),f=c.fire("BeforeExecCommand",{command:g,ui:d,value:k}),f.isDefaultPrevented()?!1:(b=c.execCommands[g])&&b.func.call(b.scope,d,k)!==!0?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):(t(c.plugins,function(a){return a.execCommand&&a.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),h=!0,!1):void 0}),h?h:c.theme&&c.theme.execCommand&&c.theme.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):c.editorCommands.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):(c.getDoc().execCommand(g,d,k),void c.fire("ExecCommand",{command:g,ui:d,value:k})))},queryCommandState:function(d){var b=this,f,c;if(!b._isHidden()){if((f=b.queryStateCommands[d])&&(c=f.func.call(f.scope),c!==!0)){return c}if(c=b.editorCommands.queryCommandState(d),-1!==c){return c}try{return b.getDoc().queryCommandState(d)}catch(a){}}},queryCommandValue:function(c){var f=this,b,a;if(!f._isHidden()){if((b=f.queryValueCommands[c])&&(a=b.func.call(b.scope),a!==!0)){return a}if(a=f.editorCommands.queryCommandValue(c),a!==aC){return a}try{return f.getDoc().queryCommandValue(c)}catch(d){}}},show:function(){var a=this;K.show(a.getContainer()),K.hide(a.id),a.load(),a.fire("show")},hide:function(){var b=this,a=b.getDoc();z&&a&&!b.inline&&a.execCommand("SelectAll"),b.save(),K.hide(b.getContainer()),K.setStyle(b.id,"display",b.orgDisplay),b.fire("hide")},isHidden:function(){return !K.isHidden(this.id)},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(c){var d=this,b=d.getElement(),a;return b?(c=c||{},c.load=!0,a=d.setContent(b.value!==aC?b.value:b.innerHTML,c),c.element=b,c.no_events||d.fire("LoadContent",c),c.element=b=null,a):void 0},save:function(d){var b=this,f=b.getElement(),c,a;if(f&&b.initialized){return d=d||{},d.save=!0,d.element=f,c=d.content=b.getContent(d),d.no_events||b.fire("SaveContent",d),c=d.content,/TEXTAREA|INPUT/i.test(f.nodeName)?f.value=c:(b.inline||(f.innerHTML=c),(a=K.getParent(b.id,"form"))&&t(a.elements,function(g){return g.name==b.id?(g.value=c,!1):void 0})),d.element=f=null,d.set_dirty!==!1&&(b.isNotDirty=!0),c}},setContent:function(d,b){var f=this,c=f.getBody(),a;return b=b||{},b.format=b.format||"html",b.set=!0,b.content=d,b.no_events||f.fire("BeforeSetContent",b),d=b.content,0===d.length||/^\s+$/.test(d)?(a=f.settings.forced_root_block,a&&f.schema.isValidChild(c.nodeName.toLowerCase(),a.toLowerCase())?(d=z&&11>z?"":'<br data-mce-bogus="1">',d=f.dom.createHTML(a,f.settings.forced_root_block_attrs,d)):z||(d='<br data-mce-bogus="1">'),c.innerHTML=d,f.fire("SetContent",b)):("raw"!==b.format&&(d=new bZ({},f.schema).serialize(f.parser.parse(d,{isRootContent:!0}))),b.content=I(d),f.dom.setHTML(c,b.content),b.no_events||f.fire("SetContent",b)),b.content},getContent:function(c){var a=this,d,b=a.getBody();return c=c||{},c.format=c.format||"html",c.get=!0,c.getInner=!0,c.no_events||a.fire("BeforeGetContent",c),d="raw"==c.format?b.innerHTML:"text"==c.format?b.innerText||b.textContent:a.serializer.serialize(b,c),c.content="text"!=c.format?I(d):d,c.no_events||a.fire("GetContent",c),c.content},insertContent:function(a){this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return !this.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=K.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return K.get(this.settings.content_element||this.id)},getWin:function(){var b=this,a;return b.contentWindow||(a=K.get(b.id+"_ifr"),a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var b=this,a;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(d,b,f){var c=this,a=c.settings;return a.urlconverter_callback?c.execCallback("urlconverter_callback",d,f,!0,b):!a.convert_urls||f&&"LINK"==f.nodeName||0===d.indexOf("file:")||0===d.length?d:a.relative_urls?c.documentBaseURI.toRelative(d):d=c.documentBaseURI.toAbsolute(d,a.remove_script_host)},addVisual:function(c){var f=this,b=f.settings,a=f.dom,d;c=c||f.getBody(),f.hasVisual===aC&&(f.hasVisual=b.visual),t(a.select("table,a",c),function(h){var g;switch(h.nodeName){case"TABLE":return d=b.visual_table_class||"mce-item-table",g=a.getAttrib(h,"border"),void (g&&"0"!=g||(f.hasVisual?a.addClass(h,d):a.removeClass(h,d)));case"A":return void (a.getAttrib(h,"href",!1)||(g=a.getAttrib(h,"name")||h.id,d=b.visual_anchor_class||"mce-item-anchor",g&&(f.hasVisual?a.addClass(h,d):a.removeClass(h,d))))}}),f.fire("VisualAid",{element:c,hasVisual:f.hasVisual})},remove:function(){var b=this;if(!b.removed){b.removed=1,b.save(),b.hasHiddenInput&&K.remove(b.getElement().nextSibling),b.inline||(z&&10>z&&b.getDoc().execCommand("SelectAll",!1,null),K.setStyle(b.id,"display",b.orgDisplay),b.getBody().onload=null,G.unbind(b.getWin()),G.unbind(b.getDoc()));var a=b.getContainer();G.unbind(b.getBody()),G.unbind(a),b.fire("remove"),b.editorManager.remove(b),K.remove(a),b.destroy()}},bindNative:function(b){var a=this;a.settings.readonly||(a.initialized?a.dom.bind(cd(a,b),b,function(c){a.fire(b,c)}):a._pendingNativeEvents?a._pendingNativeEvents.push(b):a._pendingNativeEvents=[b])},unbindNative:function(b){var a=this;a.initialized&&a.dom.unbind(b)},destroy:function(b){var a=this,c;if(!a.destroyed){if(!b&&!a.removed){return void a.remove()}b&&J&&(G.unbind(a.getDoc()),G.unbind(a.getWin()),G.unbind(a.getBody())),b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),a.selection.destroy(),a.dom.destroy()),c=a.formElement,c&&(c._mceOldSubmit&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=null),K.unbind(c,"submit reset",a.formEventDelegate)),a.contentAreaContainer=a.formElement=a.container=a.editorContainer=null,a.settings.content_element=a.bodyElement=a.contentDocument=a.contentWindow=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null),a.destroyed=1}},_refreshContentEditable:function(){var b=this,a,c;b._isHidden()&&(a=b.getBody(),c=a.parentNode,c.removeChild(a),c.appendChild(a),a.focus())},_isHidden:function(){var a;return J?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}},j(F.prototype,X),F}),aE(bG,[],function(){var a={};return{rtl:!1,add:function(b,d){for(var c in d){a[c]=d[c]}this.rtl=this.rtl||"rtl"===a._dir},translate:function(b){if("undefined"==typeof b){return b}if("string"!=typeof b&&b.raw){return b.raw}if(b.push){var c=b.slice(1);b=(a[b[0]]||b[0]).replace(/\{([^\}]+)\}/g,function(f,d){return c[d]})}return a[b]||b},data:a}}),aE(bO,[av,aS],function(d,b){function g(n){function i(){try{return document.activeElement}catch(l){return document.body}}function k(l){return l&&l.startContainer?{startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset}:l}function h(q,l){var r;return l.startContainer?(r=q.getDoc().createRange(),r.setStart(l.startContainer,l.startOffset),r.setEnd(l.endContainer,l.endOffset)):r=l,r}function p(l){return !!f.getParent(l,g.isEditorUIElement)}function j(q,l){for(var r=l.getBody();q;){if(q==r){return !0}q=q.parentNode}}function o(l){var e=l.editor;e.on("init",function(){(e.inline||b.ie)&&(e.on("nodechange keyup",function(){var q=document.activeElement;q&&q.id==e.id+"_ifr"&&(q=e.getBody()),j(q,e)&&(e.lastRng=e.selection.getRng())}),b.webkit&&!c&&(c=function(){var q=n.activeEditor;if(q&&q.selection){var r=q.selection.getRng();r&&!r.collapsed&&(e.lastRng=r)}},f.bind(document,"selectionchange",c)))}),e.on("setcontent",function(){e.lastRng=null}),e.on("mousedown",function(){e.selection.lastFocusBookmark=null}),e.on("focusin",function(){var q=n.focusedEditor;e.selection.lastFocusBookmark&&(e.selection.setRng(h(e,e.selection.lastFocusBookmark)),e.selection.lastFocusBookmark=null),q!=e&&(q&&q.fire("blur",{focusedEditor:e}),n.activeEditor=e,n.focusedEditor=e,e.fire("focus",{blurredEditor:q}),e.focus(!0)),e.lastRng=null}),e.on("focusout",function(){window.setTimeout(function(){var q=n.focusedEditor;p(i())||q!=e||(e.fire("blur",{focusedEditor:null}),n.focusedEditor=null,e.selection&&(e.selection.lastFocusBookmark=null))},0)}),a||(a=function(q){var r=n.activeEditor;r&&q.target.ownerDocument==document&&(r.selection&&(r.selection.lastFocusBookmark=k(r.lastRng)),p(q.target)||n.focusedEditor!=r||(r.fire("blur",{focusedEditor:null}),n.focusedEditor=null))},f.bind(document,"focusin",a))}function m(e){n.focusedEditor==e.editor&&(n.focusedEditor=null),n.activeEditor||(f.unbind(document,"selectionchange",c),f.unbind(document,"focusin",a),c=a=null)}n.on("AddEditor",o),n.on("RemoveEditor",m)}var c,a,f=d.DOM;return g.isEditorUIElement=function(h){return -1!==h.className.toString().indexOf("mce-")},g}),aE(ap,[bz,av,bv,aS,aI,aq,bG,bO],function(x,C,j,b,v,h,A,D){var q=C.DOM,z=v.explode,B=v.each,y=v.extend,w=0,g,k={majorVersion:"4",minorVersion:"0.21",releaseDate:"2014-04-01",editors:[],i18n:A,activeEditor:null,setup:function(){var s=this,n,p,m="",u;if(p=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(p)||(p+="/"),u=window.tinymce||window.tinyMCEPreInit){n=u.base||u.baseURL,m=u.suffix}else{for(var f=document.getElementsByTagName("script"),d=0;d<f.length;d++){var E=f[d].src;if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(E)){-1!=E.indexOf(".min")&&(m=".min"),n=E.substring(0,E.lastIndexOf("/"));break}}}s.baseURL=new j(p).toAbsolute(n),s.documentBaseURL=p,s.baseURI=new j(s.baseURL),s.suffix=m,s.focusManager=new D(s)},init:function(F){function f(i){var a=i.id;return a||(a=i.name,a=a&&!q.get(a)?i.name:q.uniqueId(),i.setAttribute("id",a)),a}function c(a,m){if(!G.get(a)){var i=new x(a,m,G);d.push(i),i.render()}}function u(m,a,o){var i=m[a];if(i){return i.apply(o||this,Array.prototype.slice.call(arguments,2))}}function e(i,a){return a.constructor===RegExp?a.test(i.className):q.hasClass(i,a)}function E(){var a,i;if(q.unbind(window,"ready",E),u(F,"onpageload"),F.types){return void B(F.types,function(m){B(q.select(m.selector),function(n){c(f(n),y({},F,m))})})}if(F.selector){return void B(q.select(F.selector),function(m){c(f(m),F)})}switch(F.mode){case"exact":a=F.elements||"",a.length>0&&B(z(a),function(m){q.get(m)?(l=new x(m,F,G),d.push(l),l.render()):B(document.forms,function(n){B(n.elements,function(o){o.name===m&&(m="mce_editor_"+w++,q.setAttrib(o,"id",m),c(m,F))})})});break;case"textareas":case"specific_textareas":B(q.select("textarea"),function(m){F.editor_deselector&&e(m,F.editor_deselector)||(!F.editor_selector||e(m,F.editor_selector))&&c(f(m),F)})}F.oninit&&(a=i=0,B(d,function(m){i++,m.initialized?a++:m.on("init",function(){a++,a==i&&u(F,"oninit")}),a==i&&u(F,"oninit")}))}var G=this,d=[],l;G.settings=F,q.bind(window,"ready",E)},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(c){var a=this,d=a.editors;return d[c.id]=c,d.push(c),a.activeEditor=c,a.fire("AddEditor",{editor:c}),g||(g=function(){a.fire("BeforeUnload")},q.bind(window,"beforeunload",g)),c},createEditor:function(a,c){return this.add(new x(a,c,this))},remove:function(f){var c=this,m,d=c.editors,a,l;if(f){if("string"==typeof f){return f=f.selector||f,void B(q.select(f),function(i){c.remove(d[i.id])})}if(a=f,!d[a.id]){return null}for(delete d[a.id],m=0;m<d.length;m++){if(d[m]==a){d.splice(m,1),l=!0;break}}return c.activeEditor==a&&(c.activeEditor=d[0]),l&&c.fire("RemoveEditor",{editor:a}),d.length||q.unbind(window,"beforeunload",g),a.remove(),a}for(m=d.length-1;m>=0;m--){c.remove(d[m])}},execCommand:function(c,f,d){var a=this,e=a.get(d);switch(c){case"mceAddEditor":return a.get(d)||new x(d,a.settings,a).render(),!0;case"mceRemoveEditor":return e&&e.remove(),!0;case"mceToggleEditor":return e?(e.isHidden()?e.show():e.hide(),!0):(a.execCommand("mceAddEditor",0,d),!0)}return a.activeEditor?a.activeEditor.execCommand(c,f,d):!1},triggerSave:function(){B(this.editors,function(a){a.save()})},addI18n:function(c,a){A.add(c,a)},translate:function(a){return A.translate(a)}};return y(k,h),k.setup(),window.tinymce=window.tinyMCE=k,k}),aE(aF,[ap,aI],function(c,a){var d=a.each,b=a.explode;c.on("AddEditor",function(g){var f=g.editor;f.on("preInit",function(){function n(l,i){d(i,function(e,o){e&&m.setStyle(l,o,e)}),m.rename(l,"span")}function k(i){m=f.dom,h.convert_fonts_to_spans&&d(m.select("font,u,strike",i.node),function(l){p[l.nodeName.toLowerCase()](m,l)})}var p,j,m,h=f.settings;h.inline_styles&&(j=b(h.font_size_legacy_values),p={font:function(e,i){n(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:j[parseInt(i.size,10)-1]})},u:function(e,i){n(i,{textDecoration:"underline"})},strike:function(e,i){n(i,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",k))})})}),aE(ah,[],function(){return{send:function(c){function a(){!c.async||4==d.readyState||b++>10000?(c.success&&10000>b&&200==d.status?c.success.call(c.success_scope,""+d.responseText,d,c):c.error&&c.error.call(c.error_scope,b>10000?"TIMED_OUT":"GENERAL",d,c),d=null):setTimeout(a,10)}var d,b=0;if(c.scope=c.scope||this,c.success_scope=c.success_scope||c.scope,c.error_scope=c.error_scope||c.scope,c.async=c.async===!1?!1:!0,c.data=c.data||"",d=new XMLHttpRequest){if(d.overrideMimeType&&d.overrideMimeType(c.content_type),d.open(c.type||(c.data?"POST":"GET"),c.url,c.async),c.content_type&&d.setRequestHeader("Content-Type",c.content_type),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(c.data),!c.async){return a()}setTimeout(a,10)}}}}),aE(bM,[],function(){function a(d,g){var e,c,f,b;if(g=g||'"',null===d){return"null"}if(f=typeof d,"string"==f){return c="\bb	t\nn\ff\rr\"\"''\\\\",g+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===g&&"'"===i?i:(e=c.indexOf(h),e+1?"\\"+c.charAt(e+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i))})+g}if("object"==f){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(e=0,c="[";e<d.length;e++){c+=(e>0?",":"")+a(d[e],g)}return c+"]"}c="{";for(b in d){d.hasOwnProperty(b)&&(c+="function"!=typeof d[b]?(c.length>1?","+g:g)+b+g+":"+a(d[b],g):"")}return c+"}"}return""+d}return{serialize:a,parse:function(c){try{return window[String.fromCharCode(101)+"val"]("("+c+")")}catch(b){}}}}),aE(ak,[bM,ah,aI],function(d,b,f){function c(g){this.settings=a({},g),this.count=0}var a=f.extend;return c.sendRPC=function(g){return(new c).send(g)},c.prototype={send:function(h){var e=h.error,g=h.success;h=a(this.settings,h),h.success=function(k,j){k=d.parse(k),"undefined"==typeof k&&(k={error:"JSON Parse error."}),k.error?e.call(h.error_scope||h.scope,k.error,j):g.call(h.success_scope||h.scope,k.result)},h.error=function(j,i){e&&e.call(h.error_scope||h.scope,j,i)},h.data=d.serialize({id:h.id||"c"+this.count++,method:h.method,params:h.params}),h.content_type="application/json",b.send(h)}},c}),aE(bE,[av],function(a){return{callbacks:{},count:0,send:function(f){var d=this,c=a.DOM,e=f.count!==aC?f.count:d.count,b="tinymce_jsonp_"+e;d.callbacks[e]=function(g){c.remove(b),delete d.callbacks[e],f.callback(g)},c.add(c.doc.body,"script",{id:b,src:f.url,type:"text/javascript"}),d.count++}}}),aE(a1,[],function(){function j(){q=[];for(var a in m){q.push(a)}h.length=q.length}function f(){function t(s){var u,i;return i=s!==aC?a+s:c.indexOf(",",a),-1===i||i>c.length?null:(u=c.substring(a,i),a=i+1,u)}var l,c,e,a=0;if(m={},k){d.load(g),c=d.getAttribute(g)||"";do{var o=t();if(null===o){break}if(l=t(parseInt(o,32)||0),null!==l){if(o=t(),null===o){break}e=t(parseInt(o,32)||0),l&&(m[l]=e)}}while(null!==l);j()}}function b(){var c,l="";if(k){for(var e in m){c=m[e],l+=(l?",":"")+e.length.toString(32)+","+e+","+c.length.toString(32)+","+c}d.setAttribute(g,l);try{d.save(g)}catch(a){}j()}}var h,d,m,q,g,k;try{if(window.localStorage){return localStorage}}catch(p){}return g="tinymce",d=document.documentElement,k=!!d.addBehavior,k&&d.addBehavior("#default#userData"),h={key:function(a){return q[a]},getItem:function(a){return a in m?m[a]:null},setItem:function(c,a){m[c]=""+a,b()},removeItem:function(a){delete m[a],b()},clear:function(){m={},b()}},f(),h}),aE(bC,[av,aN,aY,by,aI,aS],function(g,d,j,f,c,h){var b=window.tinymce;return b.DOM=g.DOM,b.ScriptLoader=j.ScriptLoader,b.PluginManager=f.PluginManager,b.ThemeManager=f.ThemeManager,b.dom=b.dom||{},b.dom.Event=d.Event,c.each(c,function(i,a){b[a]=i}),c.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){b[a]=h[a.substr(2).toLowerCase()]}),{}}),aE(am,[au,aI],function(b,a){return b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=a.extend({},this.Defaults,c)},preRender:function(c){c.addClass(this.settings.containerClass,"body")},applyClasses:function(g){var d=this,j=d.settings,f,c,h;f=g.items().filter(":visible"),c=j.firstControlClass,h=j.lastControlClass,f.each(function(i){i.removeClass(c).removeClass(h),j.controlClass&&i.addClass(j.controlClass)}),f.eq(0).addClass(c),f.eq(-1).addClass(h)},renderHtml:function(g){var d=this,h=d.settings,f,c="";return f=g.items(),f.eq(0).addClass(h.firstControlClass),f.eq(-1).addClass(h.lastControlClass),f.each(function(i){h.controlClass&&i.addClass(h.controlClass),c+=i.renderHtml()}),c},recalc:function(){},postRender:function(){}})}),aE(bI,[am],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(d){var c=d.settings;d.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),d.recalc&&d.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),aE(aX,[aH,bq],function(b,a){return b.extend({Mixins:[a],Defaults:{classes:"widget tooltip tooltip-n"},text:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().lastChild.innerHTML=c.encode(d)),c):c._value},renderHtml:function(){var d=this,c=d.classPrefix;return'<div id="'+d._id+'" class="'+d.classes()+'" role="presentation"><div class="'+c+'tooltip-arrow"></div><div class="'+c+'tooltip-inner">'+d.encode(d._text)+"</div></div>"},repaint:function(){var d=this,c,f;c=d.getEl().style,f=d._layoutRect,c.left=f.x+"px",c.top=f.y+"px",c.zIndex=131070}})}),aE(a2,[aH,aX],function(c,a){var d,b=c.extend({init:function(g){var f=this;f._super(g),g=f.settings,f.canFocus=!0,g.tooltip&&b.tooltips!==!1&&(f.on("mouseenter",function(j){var h=f.tooltip().moveTo(-65535);if(j.control==f){var e=h.text(g.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);h.toggleClass("tooltip-n","bc-tc"==e),h.toggleClass("tooltip-nw","bc-tl"==e),h.toggleClass("tooltip-ne","bc-tr"==e),h.moveRel(f.getEl(),e)}else{h.hide()}}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()})),f.aria("label",g.ariaLabel||g.tooltip)},tooltip:function(){return d||(d=new a({type:"tooltip"}),d.renderTo()),d},active:function(g){var f=this,h;return g!==h&&(f.aria("pressed",g),f.toggleClass("active",g)),f._super(g)},disabled:function(g){var f=this,h;return g!==h&&(f.aria("disabled",g),f.toggleClass("disabled",g)),f._super(g)},postRender:function(){var g=this,f=g.settings;g._rendered=!0,g._super(),g.parent()||!f.width&&!f.height||(g.initLayoutRect(),g.repaint()),f.autofocus&&g.focus()},remove:function(){this._super(),d&&(d.remove(),d=null)}});return b}),aE(bS,[a2],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var b=this,d;b.on("click mousedown",function(f){f.preventDefault()}),b._super(c),d=c.size,c.subtype&&b.addClass(c.subtype),d&&b.addClass("btn-"+d)},icon:function(f){var c=this,g=c.classPrefix;if("undefined"==typeof f){return c.settings.icon}if(c.settings.icon=f,f=f?g+"ico "+g+"i-"+c.settings.icon:"",c._rendered){var d=c.getEl().firstChild,b=d.getElementsByTagName("i")[0];f?(b&&b==d.firstChild||(b=document.createElement("i"),d.insertBefore(b,d.firstChild)),b.className=f):b&&d.removeChild(b),c.text(c._text)}return c},repaint:function(){var b=this.getEl().firstChild.style;b.width=b.height="100%",this._super()},text:function(c){var b=this;if(b._rendered){var d=b.getEl().lastChild.lastChild;d&&(d.data=b.translate(c))}return b._super(c)},renderHtml:function(){var f=this,c=f._id,g=f.classPrefix,d=f.settings.icon,b;return b=f.settings.image,b?(d="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="",d=f.settings.icon?g+"ico "+g+"i-"+d:"",'<div id="'+c+'" class="'+f.classes()+'" tabindex="-1" aria-labelledby="'+c+'"><button role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+(f._text?(d?"\xa0":"")+f.encode(f._text):"")+"</button></div>"}})}),aE(ae,[bp],function(a){return a.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var c=this,b=c._layout;return c.addClass("btn-group"),c.preRender(),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aE(bV,[a2],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var b=this;b._super(c),b.on("click mousedown",function(d){d.preventDefault()}),b.on("click",function(d){d.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(c){var b=this;return"undefined"!=typeof c?(c?b.addClass("checked"):b.removeClass("checked"),b._checked=c,b.aria("checked",c),b):b._checked},value:function(b){return this.checked(b)},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix;return'<div id="'+b+'" class="'+c.classes()+'" unselectable="on" aria-labelledby="'+b+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+b+'-al" class="'+d+'label">'+c.encode(c._text)+"</span></div>"}})}),aE(bH,[bS,a3],function(b,a){return b.extend({showPanel:function(){var d=this,f=d.settings;if(d.active(!0),d.panel){d.panel.show()}else{var c=f.panel;c.type&&(c={layout:"grid",items:c}),c.role=c.role||"dialog",c.popover=!0,c.autohide=!0,c.ariaRoot=!0,d.panel=new a(c).on("hide",function(){d.active(!1)}).on("cancel",function(e){e.stopPropagation(),d.focus(),d.hidePanel()}).parent(d).renderTo(d.getContainerElm()),d.panel.fire("show"),d.panel.reflow()}d.panel.moveRel(d.getEl(),f.popoverAlign||(d.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.aria("haspopup",!0),c.on("click",function(d){d.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():(c.showPanel(),c.panel.focus(!!d.aria)))}),c._super()}})}),aE(aj,[bH,av],function(b,a){var c=a.DOM;return b.extend({init:function(d){this._super(d),this.addClass("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},renderHtml:function(){var h=this,f=h._id,j=h.classPrefix,g=h.settings.icon?j+"ico "+j+"i-"+h.settings.icon:"",d=h.settings.image?" style=\"background-image: url('"+h.settings.image+"')\"":"";return'<div id="'+f+'" class="'+h.classes()+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(g?'<i class="'+g+'"'+d+"></i>":"")+'<span id="'+f+'-preview" class="'+j+'preview"></span>'+(h._text?(g?" ":"")+h._text:"")+'</button><button type="button" class="'+j+'open" hidefocus="1" tabindex="-1"> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=f||c.getParent(e.target,"."+f.classPrefix+"open")||(e.stopImmediatePropagation(),d.call(f,e))}),delete f.settings.onclick,f._super()}})}),aE(bT,[a2,bL,bb],function(b,a,c){return b.extend({init:function(f){var d=this;d._super(f),d.addClass("combobox"),d.subinput=!0,d.ariaTarget="inp",f=d.settings,f.menu=f.menu||f.values,f.menu&&(f.icon="caret"),d.on("click",function(h){for(var g=h.target,e=d.getEl();g&&g!=e;){g.id&&-1!=g.id.indexOf("-open")&&(d.fire("action"),f.menu&&(d.showMenu(),h.aria&&d.menu.items()[0].focus())),g=g.parentNode}}),d.on("keydown",function(g){"INPUT"==g.target.nodeName&&13==g.keyCode&&d.parents().reverse().each(function(e){return g.preventDefault(),d.fire("change"),e.hasEventListeners("submit")&&e.toJSON?(e.fire("submit",{data:e.toJSON()}),!1):void 0})}),f.placeholder&&(d.addClass("placeholder"),d.on("focusin",function(){d._hasOnChange||(c.on(d.getEl("inp"),"change",function(){d.fire("change")}),d._hasOnChange=!0),d.hasClass("placeholder")&&(d.getEl("inp").value="",d.removeClass("placeholder"))}),d.on("focusout",function(){0===d.value().length&&(d.getEl("inp").value=f.placeholder,d.addClass("placeholder"))}))},showMenu:function(){var f=this,g=f.settings,d;f.menu||(d=g.menu||[],d.length?d={type:"menu",items:d}:d.type=d.type||"menu",f.menu=a.create(d).parent(f).renderTo(f.getContainerElm()),f.fire("createmenu"),f.menu.reflow(),f.menu.on("cancel",function(e){e.control===f.menu&&f.focus()}),f.menu.on("show hide",function(e){e.control.items().each(function(h){h.active(h.value()==f.value())})}).fire("show"),f.menu.on("select",function(e){f.value(e.control.value())}),f.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&f.menu.hide()}),f.aria("expanded",!0)),f.menu.show(),f.menu.layoutRect({w:f.layoutRect().w}),f.menu.moveRel(f.getEl(),f.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(f){var d=this;return"undefined"!=typeof f?(d._value=f,d.removeClass("placeholder"),d._rendered&&(d.getEl("inp").value=f),d):d._rendered?(f=d.getEl("inp").value,f!=d.settings.placeholder?f:""):d._value},disabled:function(f){var d=this;return d._rendered&&"undefined"!=typeof f&&(d.getEl("inp").disabled=f),d._super(f)},focus:function(){this.getEl("inp").focus()},repaint:function(){var k=this,g=k.getEl(),j=k.getEl("open"),f=k.layoutRect(),l,d;l=j?f.w-c.getSize(j).width-10:f.w-10;var h=document;return h.all&&(!h.documentMode||h.documentMode<=8)&&(d=k.layoutRect().h-2+"px"),c.css(g.firstChild,{width:l,lineHeight:d}),k._super(),k},postRender:function(){var d=this;return c.on(this.getEl("inp"),"change",function(){d.fire("change")}),d._super()},remove:function(){c.off(this.getEl("inp")),this._super()},renderHtml:function(){var k=this,p=k._id,g=k.settings,d=k.classPrefix,j=g.value||g.placeholder||"",f,m,q="",h="";return"spellcheck" in g&&(h+=' spellcheck="'+g.spellcheck+'"'),g.maxLength&&(h+=' maxlength="'+g.maxLength+'"'),g.size&&(h+=' size="'+g.size+'"'),g.subtype&&(h+=' type="'+g.subtype+'"'),k.disabled()&&(h+=' disabled="disabled"'),f=g.icon,f&&"caret"!=f&&(f=d+"ico "+d+"i-"+g.icon),m=k._text,(f||m)&&(q='<div id="'+p+'-open" class="'+d+"btn "+d+'open" tabIndex="-1" role="button"><button id="'+p+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=f?'<i class="'+f+'"></i>':'<i class="'+d+'caret"></i>')+(m?(f?" ":"")+m:"")+"</button></div>",k.addClass("has-open")),'<div id="'+p+'" class="'+k.classes()+'"><input id="'+p+'-inp" class="'+d+"textbox "+d+'placeholder" value="'+j+'" hidefocus="1"'+h+" />"+q+"</div>"}})}),aE(aa,[a2],function(a){return a.extend({init:function(c){var b=this;c.delimiter||(c.delimiter="\xbb"),b._super(c),b.addClass("path"),b.canFocus=!0,b.on("click",function(f){var g,d=f.target;(g=d.getAttribute("data-index"))&&b.fire("select",{value:b.data()[g],index:g})})},focus:function(){var b=this;return b.getEl().firstChild.focus(),b},data:function(c){var b=this;return"undefined"!=typeof c?(b._data=c,b.update(),b):b._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var b=this;b._super(),b.data(b.settings.data)},renderHtml:function(){var b=this;return'<div id="'+b._id+'" class="'+b.classes()+'">'+b._getPathHtml()+"</div>"},_getPathHtml:function(){var f=this,c=f._data||[],h,d,b="",g=f.classPrefix;for(h=0,d=c.length;d>h;h++){b+=(h>0?'<div class="'+g+'divider" aria-hidden="true"> '+f.settings.delimiter+" </div>":"")+'<div role="button" class="'+g+"path-item"+(h==d-1?" "+g+"last":"")+'" data-index="'+h+'" tabindex="-1" id="'+f._id+"-"+h+'" aria-level="'+h+'">'+c[h].name+"</div>"}return b||(b='<div class="'+g+'path-item">\xa0</div>'),b}})}),aE(bJ,[aa,ap],function(b,a){return b.extend({postRender:function(){function d(g){if(1===g.nodeType){if("BR"==g.nodeName||g.getAttribute("data-mce-bogus")){return !0}if("bookmark"===g.getAttribute("data-mce-type")){return !0}}return !1}var f=this,c=a.activeEditor;return f.on("select",function(g){var j=[],e,h=c.getBody();for(c.focus(),e=c.selection.getStart();e&&e!=h;){d(e)||j.push(e),e=e.parentNode}c.selection.select(j[j.length-1-g.index]),c.nodeChanged()}),c.on("nodeChange",function(h){for(var g=[],k=h.parents,e=k.length;e--;){if(1==k[e].nodeType&&!d(k[e])){var j=c.fire("ResolveName",{name:k[e].nodeName.toLowerCase(),target:k[e]});g.push({name:j.name})}}f.data(g)}),f._super()}})}),aE(af,[bp],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.addClass("formitem"),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+d+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aE(bN,[bp,af],function(b,a){return b.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var c=this,d=c.items();d.each(function(g){var f,e=g.settings.label;e&&(f=new a({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",id:g._id+"-l",text:e,flex:0,forId:g._id,disabled:g.disabled()}]}),f.type="formitem",g.aria("labelledby",g._id+"-l"),"undefined"==typeof g.settings.flex&&(g.settings.flex=1),c.replace(g,f),f.add(g))})},recalcLabels:function(){var g=this,d=0,h=[],f,c;if(g.settings.labelGapCalc!==!1){for(g.items().filter("formitem").each(function(l){var k=l.items()[0],j=k.getEl().clientWidth;d=j>d?j:d,h.push(k)}),c=g.settings.labelGap||0,f=h.length;f--;){h[f].settings.minWidth=d+c}}},visible:function(d){var c=this._super(d);return d===!0&&this._rendered&&this.recalcLabels(),c},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var c=this;c._super(),c.recalcLabels(),c.fromJSON(c.settings.data)}})}),aE(bD,[bN],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.preRender(),b.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes()+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+d+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></fieldset>"}})}),aE(ad,[bT],function(a){return a.extend({init:function(d){var b=this,f=tinymce.activeEditor,c;d.spellcheck=!1,c=f.settings.file_browser_callback,c&&(d.icon="browse",d.onaction=function(){c(b.getEl("inp").id,b.getEl("inp").value,d.filetype,window)}),b._super(d)}})}),aE(ar,[bI],function(a){return a.extend({recalc:function(c){var b=c.layoutRect(),d=c.paddingBox();c.items().filter(":visible").each(function(f){f.layoutRect({x:d.left,y:d.top,w:b.innerW-d.right-d.left,h:b.innerH-d.top-d.bottom}),f.recalc&&f.recalc()})}})}),aE(bR,[bI],function(a){return a.extend({recalc:function(cm){var b9,ce,cb,ci,cd,cq,ca,cg,co,b8,cn,cl,cc,cf,cj,ck,b7=[],b4,cp,b0,b5,b6,cr,X,bY,J,ch,G,K,b2,b1,Z,bZ,Y,bt,Q,U,at,bX,b3=Math.max,j=Math.min;for(cb=cm.items().filter(":visible"),ci=cm.layoutRect(),cd=cm._paddingBox,cq=cm.settings,cl=cm.isRtl()?cq.direction||"row-reversed":cq.direction,ca=cq.align,cg=cm.isRtl()?cq.pack||"end":cq.pack,co=cq.spacing||0,("row-reversed"==cl||"column-reverse"==cl)&&(cb=cb.set(cb.toArray().reverse()),cl=cl.split("-")[0]),"column"==cl?(J="y",X="h",bY="minH",ch="maxH",K="innerH",G="top",b2="deltaH",b1="contentH",Q="left",Y="w",Z="x",bZ="innerW",bt="minW",U="right",at="deltaW",bX="contentW"):(J="x",X="w",bY="minW",ch="maxW",K="innerW",G="left",b2="deltaW",b1="contentW",Q="top",Y="h",Z="y",bZ="innerH",bt="minH",U="bottom",at="deltaH",bX="contentH"),cn=ci[K]-cd[G]-cd[G],cr=b8=0,b9=0,ce=cb.length;ce>b9;b9++){cc=cb[b9],cf=cc.layoutRect(),cj=cc.settings,ck=cj.flex,cn-=ce-1>b9?co:0,ck>0&&(b8+=ck,cf[ch]&&b7.push(cc),cf.flex=ck),cn-=cf[bY],b4=cd[Q]+cf[bt]+cd[U],b4>cr&&(cr=b4)}if(b5={},b5[bY]=0>cn?ci[bY]-cn+ci[b2]:ci[K]-cn+ci[b2],b5[bt]=cr+ci[at],b5[b1]=ci[K]-cn,b5[bX]=cr,b5.minW=j(b5.minW,ci.maxW),b5.minH=j(b5.minH,ci.maxH),b5.minW=b3(b5.minW,ci.startMinWidth),b5.minH=b3(b5.minH,ci.startMinHeight),!ci.autoResize||b5.minW==ci.minW&&b5.minH==ci.minH){for(b0=cn/b8,b9=0,ce=b7.length;ce>b9;b9++){cc=b7[b9],cf=cc.layoutRect(),cp=cf[ch],b4=cf[bY]+cf.flex*b0,b4>cp?(cn-=cf[ch]-cf[bY],b8-=cf.flex,cf.flex=0,cf.maxFlexSize=cp):cf.maxFlexSize=0}for(b0=cn/b8,b6=cd[G],b5={},0===b8&&("end"==cg?b6=cn+cd[G]:"center"==cg?(b6=Math.round(ci[K]/2-(ci[K]-cn)/2)+cd[G],0>b6&&(b6=cd[G])):"justify"==cg&&(b6=cd[G],co=Math.floor(cn/(cb.length-1)))),b5[Z]=cd[Q],b9=0,ce=cb.length;ce>b9;b9++){cc=cb[b9],cf=cc.layoutRect(),b4=cf.maxFlexSize||cf[bY],"center"===ca?b5[Z]=Math.round(ci[bZ]/2-cf[Y]/2):"stretch"===ca?(b5[Y]=b3(cf[bt]||0,ci[bZ]-cd[Q]-cd[U]),b5[Z]=cd[Q]):"end"===ca&&(b5[Z]=ci[bZ]-cf[Y]-cd.top),cf.flex>0&&(b4+=cf.flex*b0),b5[X]=b4,b5[J]=b6,cc.layoutRect(b5),cc.recalc&&cc.recalc(),b6+=b4+co}}else{if(b5.w=b5.minW,b5.h=b5.minH,cm.layoutRect(b5),this.recalc(cm),null===cm._lastRect){var q=cm.parent();q&&(q._lastRect=null,q.recalc())}}}})}),aE(bF,[am],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})}})}),aE(aG,[aH,a2,a3,aI,ap,aS],function(h,d,k,g,c,j){function b(v){function A(a,e){return function(){var i=this;v.on("nodeChange",function(r){var t=v.formatter,l=null;f(r.parents,function(o){return f(a,function(u){return e?t.matchNode(o,e,{value:u.value})&&(l=u.value):t.matchNode(o,u.value)&&(l=u.value),l?!1:void 0}),l?!1:void 0}),i.value(l)})}}function m(i){i=i.split(";");for(var a=i.length;a--;){i[a]=i[a].split("=")}return i}function q(){function e(i){var o=[];if(i){return f(i,function(t){var C={text:t.title,icon:t.icon};if(t.items){C.menu=e(t.items)}else{var r=t.format||"custom"+l++;t.format||(t.name=r,a.push(t)),C.format=r}o.push(C)}),o}}function B(){var i;return i=e(v.settings.style_formats_merge?v.settings.style_formats?u.concat(v.settings.style_formats):u:v.settings.style_formats||u)}var l=0,a=[],u=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return v.on("init",function(){f(a,function(i){v.formatter.register(i.name,i)})}),{type:"menu",items:B(),onPostRender:function(i){v.fire("renderFormatsMenu",{control:i.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?v.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var i=this,o=this.settings.format;o&&i.parent().on("show",function(){i.disabled(!v.formatter.canApply(o)),i.active(v.formatter.match(o))})},onclick:function(){this.settings.format&&w(this.settings.format)}}}}function n(){return v.undoManager?v.undoManager.hasUndo():!1}function y(){return v.undoManager?v.undoManager.hasRedo():!1}function p(){var a=this;a.disabled(!n()),v.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!n())})}function x(){var a=this;a.disabled(!y()),v.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!y())})}function z(){var a=this;v.on("VisualAid",function(i){a.active(i.hasVisual)}),a.active(v.hasVisual)}function w(a){a.control&&(a=a.control.value()),a&&v.execCommand("mceToggleFormat",!1,a)}var s;s=q(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,e){v.addButton(e,{tooltip:a,onPostRender:function(){var i=this;v.formatter?v.formatter.formatChanged(e,function(l){i.active(l)}):v.on("init",function(){v.formatter.formatChanged(e,function(l){i.active(l)})})},onclick:function(){w(e)}})}),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,e){v.addButton(e,{tooltip:a[0],cmd:a[1]})}),f({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(a,e){v.addButton(e,{tooltip:a[0],cmd:a[1],onPostRender:function(){var i=this;v.formatter?v.formatter.formatChanged(e,function(l){i.active(l)}):v.on("init",function(){v.formatter.formatChanged(e,function(l){i.active(l)})})}})}),v.addButton("undo",{tooltip:"Undo",onPostRender:p,cmd:"undo"}),v.addButton("redo",{tooltip:"Redo",onPostRender:x,cmd:"redo"}),v.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),v.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:p,cmd:"undo"}),v.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:x,cmd:"redo"}),v.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:z,cmd:"mceToggleVisualAid"}),f({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,e){v.addMenuItem(e,{text:a[0],icon:e,shortcut:a[2],cmd:a[1]})}),v.on("mousedown",function(){k.hideAll()}),v.addButton("styleselect",{type:"menubutton",text:"Formats",menu:s}),v.addButton("formatselect",function(){var e=[],a=m(v.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6");return f(a,function(i){e.push({text:i[0],value:i[1],textStyle:function(){return v.formatter.getCssText(i[1])}})}),{type:"listbox",text:a[0][0],values:e,fixedWidth:!0,onselect:w,onPostRender:A(e)}}),v.addButton("fontselect",function(){var l="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",a=[],e=m(v.settings.font_formats||l);return f(e,function(i){a.push({text:{raw:i[0]},value:i[1],textStyle:-1==i[1].indexOf("dings")?"font-family:"+i[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:a,fixedWidth:!0,onPostRender:A(a,"fontname"),onselect:function(i){i.control.settings.value&&v.execCommand("FontName",!1,i.control.settings.value)}}}),v.addButton("fontsizeselect",function(){var l=[],e="8pt 10pt 12pt 14pt 18pt 24pt 36pt",a=v.settings.fontsize_formats||e;return f(a.split(" "),function(i){l.push({text:i,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:l,fixedWidth:!0,onPostRender:A(l,"fontsize"),onclick:function(i){i.control.settings.value&&v.execCommand("FontSize",!1,i.control.settings.value)}}}),v.addMenuItem("formats",{text:"Formats",menu:s})}var f=g.each;c.on("AddEditor",function(a){a.editor.rtl&&(h.rtl=!0),b(a.editor)}),h.translate=function(a){return c.translate(a)},d.tooltips=!j.iOS}),aE(bf,[bI],function(a){return a.extend({recalc:function(b6){var U=b6.settings,bY,Y,b2,bX,ca,W,b0,b8,P,b7,b5,bt,bZ,b3,b4,O,I,b9,X,J,K,cb,F=[],Q=[],q,b1,j,z;for(U=b6.settings,b2=b6.items().filter(":visible"),bX=b6.layoutRect(),Y=U.columns||Math.ceil(Math.sqrt(b2.length)),bY=Math.ceil(b2.length/Y),I=U.spacingH||U.spacing||0,b9=U.spacingV||U.spacing||0,X=U.alignH||U.align,J=U.alignV||U.align,b4=b6._paddingBox,X&&"string"==typeof X&&(X=[X]),J&&"string"==typeof J&&(J=[J]),b7=0;Y>b7;b7++){F.push(0)}for(b5=0;bY>b5;b5++){Q.push(0)}for(b5=0;bY>b5;b5++){for(b7=0;Y>b7&&(P=b2[b5*Y+b7],P);b7++){b8=P.layoutRect(),q=b8.minW,b1=b8.minH,F[b7]=q>F[b7]?q:F[b7],Q[b5]=b1>Q[b5]?b1:Q[b5]}}for(j=bX.innerW-b4.left-b4.right,K=0,b7=0;Y>b7;b7++){K+=F[b7]+(b7>0?I:0),j-=(b7>0?I:0)+F[b7]}for(z=bX.innerH-b4.top-b4.bottom,cb=0,b5=0;bY>b5;b5++){cb+=Q[b5]+(b5>0?b9:0),z-=(b5>0?b9:0)+Q[b5]}if(K+=b4.left+b4.right,cb+=b4.top+b4.bottom,b0={},b0.minW=K+(bX.w-bX.innerW),b0.minH=cb+(bX.h-bX.innerH),b0.contentW=b0.minW-bX.deltaW,b0.contentH=b0.minH-bX.deltaH,b0.minW=Math.min(b0.minW,bX.maxW),b0.minH=Math.min(b0.minH,bX.maxH),b0.minW=Math.max(b0.minW,bX.startMinWidth),b0.minH=Math.max(b0.minH,bX.startMinHeight),!bX.autoResize||b0.minW==bX.minW&&b0.minH==bX.minH){bX.autoResize&&(b0=b6.layoutRect(b0),b0.contentW=b0.minW-bX.deltaW,b0.contentH=b0.minH-bX.deltaH);var at;at="start"==U.packV?0:z>0?Math.floor(z/bY):0;var Z=0,H=U.flexWidths;if(H){for(b7=0;b7<H.length;b7++){Z+=H[b7]}}else{Z=Y}var V=j/Z;for(b7=0;Y>b7;b7++){F[b7]+=H?H[b7]*V:V}for(bZ=b4.top,b5=0;bY>b5;b5++){for(bt=b4.left,W=Q[b5]+at,b7=0;Y>b7&&(P=b2[b5*Y+b7],P);b7++){b3=P.settings,b8=P.layoutRect(),ca=Math.max(F[b7],b8.startMinWidth),b8.x=bt,b8.y=bZ,O=b3.alignH||(X?X[b7]||X[0]:null),"center"==O?b8.x=bt+ca/2-b8.w/2:"right"==O?b8.x=bt+ca-b8.w:"stretch"==O&&(b8.w=ca),O=b3.alignV||(J?J[b7]||J[0]:null),"center"==O?b8.y=bZ+W/2-b8.h/2:"bottom"==O?b8.y=bZ+W-b8.h:"stretch"==O&&(b8.h=W),P.layoutRect(b8),bt+=ca+I,P.recalc&&P.recalc()}bZ+=W+b9}}else{if(b0.w=b0.minW,b0.h=b0.minH,b6.layoutRect(b0),this.recalc(b6),null===b6._lastRect){var G=b6.parent();G&&(G._lastRect=null,G.recalc())}}}})}),aE(a7,[a2],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("iframe"),b.canFocus=!1,'<iframe id="'+b._id+'" class="'+b.classes()+'" tabindex="-1" src="'+(b.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(b){this.getEl().src=b},html:function(d,b){var f=this,c=this.getEl().contentWindow.document.body;return c?(c.innerHTML=d,b&&b()):setTimeout(function(){f.html(d)},0),this}})}),aE(ab,[a2,bb],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c.addClass("widget"),c.addClass("label"),c.canFocus=!1,d.multiline&&c.addClass("autoscroll"),d.strong&&c.addClass("strong")},initLayoutRect:function(){var d=this,f=d._super();if(d.settings.multiline){var c=a.getSize(d.getEl());c.width>f.maxW&&(f.minW=f.maxW,d.addClass("multiline")),d.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,a.getSize(d.getEl()).height)}return f},repaint:function(){var c=this;return c.settings.multiline||(c.getEl().style.lineHeight=c.layoutRect().h+"px"),c._super()},text:function(d){var c=this;return c._rendered&&d&&this.innerHtml(c.encode(d)),c._super(d)},renderHtml:function(){var d=this,c=d.settings.forId;return'<label id="'+d._id+'" class="'+d.classes()+'"'+(c?' for="'+c+'"':"")+">"+d.encode(d._text)+"</label>"}})}),aE(bk,[bp],function(a){return a.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(c){var b=this;b._super(c),b.addClass("toolbar")},postRender:function(){var b=this;return b.items().addClass("toolbar-item"),b._super()}})}),aE(ao,[bk],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),aE(aM,[bS,bL,ao],function(d,b,f){function c(h,g){for(;h;){if(g===h){return !0}h=h.parentNode}return !1}var a=d.extend({init:function(h){var g=this;g._renderOpen=!0,g._super(h),g.addClass("menubtn"),h.fixedWidth&&g.addClass("fixed-width"),g.aria("haspopup",!0),g.hasPopup=!0},showMenu:function(){var h=this,i=h.settings,g;return h.menu&&h.menu.visible()?h.hideMenu():(h.menu||(g=i.menu||[],g.length?g={type:"menu",items:g}:g.type=g.type||"menu",h.menu=b.create(g).parent(h).renderTo(),h.fire("createmenu"),h.menu.reflow(),h.menu.on("cancel",function(e){e.control.parent()===h.menu&&(e.stopPropagation(),h.focus(),h.hideMenu())}),h.menu.on("select",function(){h.focus()}),h.menu.on("show hide",function(e){e.control==h.menu&&h.activeMenu("show"==e.type),h.aria("expanded","show"==e.type)}).fire("show")),h.menu.show(),h.menu.layoutRect({w:h.layoutRect().w}),void h.menu.moveRel(h.getEl(),h.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide())},activeMenu:function(g){this.toggleClass("active",g)},renderHtml:function(){var k=this,h=k._id,j=k.classPrefix,g=k.settings.icon?j+"ico "+j+"i-"+k.settings.icon:"";return k.aria("role",k.parent() instanceof f?"menuitem":"button"),'<div id="'+h+'" class="'+k.classes()+'" tabindex="-1" aria-labelledby="'+h+'"><button id="'+h+'-open" role="presentation" type="button" tabindex="-1">'+(g?'<i class="'+g+'"></i>':"")+"<span>"+(k._text?(g?"\xa0":"")+k.encode(k._text):"")+'</span> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&c(e.target,g.getEl())&&(g.showMenu(),e.aria&&g.menu.items()[0].focus())}),g.on("mouseenter",function(e){var j=e.control,h=g.parent(),i;j&&h&&j instanceof a&&j.parent()==h&&(h.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=j&&(k.menu&&k.menu.visible()&&(i=!0),k.hideMenu())}),i&&(j.focus(),j.showMenu()))}),g._super()},text:function(i){var g=this,j,h;if(g._rendered){for(h=g.getEl("open").getElementsByTagName("span"),j=0;j<h.length;j++){h[j].innerHTML=(g.settings.icon&&i?"\xa0":"")+g.encode(i)}}return this._super(i)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return a}),aE(bm,[aM],function(a){return a.extend({init:function(g){var d=this,j,f,c,h,b;if(d._values=j=g.values,j){for(f=0;f<j.length;f++){if(c=j[f].selected||g.value===j[f].value){h=h||j[f].text,d._value=j[f].value;break}}!c&&j.length>0&&(h=j[0].text,d._value=j[0].value),g.menu=j}g.text=g.text||h||j[0].text,d._super(g),d.addClass("listbox"),d.on("select",function(i){var e=i.control;b&&(i.lastControl=b),g.multiple?e.active(!e.active()):d.value(i.control.settings.value),b=e})},value:function(g){function d(i,k){i.items().each(function(l){f=l.value()===k,f&&(c=c||l.text()),l.active(f),l.menu&&d(l.menu,k)})}var j=this,f,c,h,b;if("undefined"!=typeof g){if(j.menu){d(j.menu,g)}else{for(h=j.settings.menu,b=0;b<h.length;b++){f=h[b].value==g,f&&(c=c||h[b].text),h[b].active=f}}j.text(c||this.settings.text)}return j._super(g)}})}),aE(ac,[a2,bL,aS],function(b,a,c){return b.extend({Defaults:{border:0,role:"menuitem"},init:function(f){var d=this;d.hasPopup=!0,d._super(f),f=d.settings,d.addClass("menu-item"),f.menu&&d.addClass("menu-item-expand"),f.preview&&d.addClass("menu-item-preview"),("-"===d._text||"|"===d._text)&&(d.addClass("menu-item-sep"),d.aria("role","separator"),d._text="-"),f.selectable&&(d.aria("role","menuitemcheckbox"),d.addClass("menu-item-checkbox"),f.icon="selected"),f.preview||f.selectable||d.addClass("menu-item-normal"),d.on("mousedown",function(g){g.preventDefault()}),f.menu&&!f.ariaHideMenu&&d.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var g=this,j=g.settings,f,d=g.parent();if(d.items().each(function(e){e!==g&&e.hideMenu()}),j.menu){f=g.menu,f?f.show():(f=j.menu,f.length?f={type:"menu",items:f}:f.type=f.type||"menu",d.settings.itemDefaults&&(f.itemDefaults=d.settings.itemDefaults),f=g.menu=a.create(f).parent(g).renderTo(),f.reflow(),f.fire("show"),f.on("cancel",function(e){e.stopPropagation(),g.focus(),f.hide()}),f.on("hide",function(e){e.control===f&&g.removeClass("selected")}),f.submenu=!0),f._parentMenu=d,f.addClass("menu-sub");var h=f.testMoveRel(g.getEl(),g.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);f.moveRel(g.getEl(),h),f.rel=h,h="menu-sub-"+h,f.removeClass(f._lastRel),f.addClass(h),f._lastRel=h,g.addClass("selected"),g.aria("expanded",!0)}},hideMenu:function(){var d=this;return d.menu&&(d.menu.items().each(function(f){f.hideMenu&&f.hideMenu()}),d.menu.hide(),d.aria("expanded",!1)),d},renderHtml:function(){var m=this,h=m._id,k=m.settings,g=m.classPrefix,n=m.encode(m._text),f=m.settings.icon,j="",d=k.shortcut;return f&&m.parent().addClass("menu-has-icons"),k.image&&(f="none",j=" style=\"background-image: url('"+k.image+"')\""),d&&c.mac&&(d=d.replace(/ctrl\+alt\+/i,"&#x2325;&#x2318;"),d=d.replace(/ctrl\+/i,"&#x2318;"),d=d.replace(/alt\+/i,"&#x2325;"),d=d.replace(/shift\+/i,"&#x21E7;")),f=g+"ico "+g+"i-"+(m.settings.icon||"none"),'<div id="'+h+'" class="'+m.classes()+'" tabindex="-1">'+("-"!==n?'<i class="'+f+'"'+j+"></i>\xa0":"")+("-"!==n?'<span id="'+h+'-text" class="'+g+'text">'+n+"</span>":"")+(d?'<div id="'+h+'-shortcut" class="'+g+'menu-shortcut">'+d+"</div>":"")+(k.menu?'<div class="'+g+'caret"></div>':"")+"</div>"},postRender:function(){var g=this,d=g.settings,h=d.textStyle;if("function"==typeof h&&(h=h.call(this)),h){var f=g.getEl("text");f&&f.setAttribute("style",h)}return g.on("mouseenter click",function(e){e.control===g&&(d.menu||"click"!==e.type?(g.showMenu(),e.aria&&g.menu.focus(!0)):(g.fire("select"),g.parent().hideAll()))}),g._super(),g},active:function(d){return"undefined"!=typeof d&&this.aria("checked",d),this._super(d)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),aE(a9,[a3,ac,aI],function(c,a,d){var b=c.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(j){var g=this;if(j.autohide=!0,j.constrainToViewport=!0,j.itemDefaults){for(var h=j.items,f=h.length;f--;){h[f]=d.extend({},j.itemDefaults,h[f])}}g._super(j),g.addClass("menu")},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var f=this;f.hideAll(),f.fire("select")},hideAll:function(){var f=this;return this.find("menuitem").exec("hideMenu"),f._super()},preRender:function(){var f=this;return f.items().each(function(e){var g=e.settings;return g.icon||g.selectable?(f._hasIcons=!0,!1):void 0}),f._super()}});return b}),aE(ai,[bV],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),aE(al,[a2,a4],function(b,a){return b.extend({renderHtml:function(){var d=this,c=d.classPrefix;return d.addClass("resizehandle"),"both"==d.settings.direction&&d.addClass("resizehandle-both"),d.canFocus=!1,'<div id="'+d._id+'" class="'+d.classes()+'"><i class="'+c+"ico "+c+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new a(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},stop:function(){c.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),aE(bU,[a2],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes()+'"></div>'}})}),aE(bP,[aM,bb],function(b,a){return b.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var f=this,h=f.getEl(),d=f.layoutRect(),c,g;return f._super(),c=h.firstChild,g=h.lastChild,a.css(c,{width:d.w-a.getSize(g).width,height:d.h-2}),a.css(g,{height:d.h-2}),f},activeMenu:function(c){var d=this;a.toggleClass(d.getEl().lastChild,d.classPrefix+"active",c)},renderHtml:function(){var f=this,c=f._id,g=f.classPrefix,d=f.settings.icon?g+"ico "+g+"i-"+f.settings.icon:"";return'<div id="'+c+'" class="'+f.classes()+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(d?'<i class="'+d+'"></i>':"")+(f._text?(d?" ":"")+f._text:"")+'</button><button type="button" class="'+g+'open" hidefocus="1" tabindex="-1">'+(f._menuBtnText?(d?"\xa0":"")+f._menuBtnText:"")+' <i class="'+g+'caret"></i></button></div>'},postRender:function(){var d=this,c=d.settings.onclick;return d.on("click",function(f){var g=f.target;if(f.control==this){for(;g;){if(f.aria&&"down"!=f.aria.key||"BUTTON"==g.nodeName&&-1==g.className.indexOf("open")){return f.stopImmediatePropagation(),void c.call(this,f)}g=g.parentNode}}}),delete d.settings.onclick,d._super()}})}),aE(ag,[bF],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),aE(az,[a6,bb],function(b,a){return b.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(c){var d;this.activeTabId&&(d=this.getEl(this.activeTabId),a.removeClass(d,this.classPrefix+"active"),d.setAttribute("aria-selected","false")),this.activeTabId="t"+c,d=this.getEl("t"+c),d.setAttribute("aria-selected","true"),a.addClass(d,this.classPrefix+"active"),c!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=c),this.items()[c].show().fire("showtab"),this.reflow()},renderHtml:function(){var f=this,c=f._layout,g="",d=f.classPrefix;return f.preRender(),c.preRender(f),f.items().each(function(h,e){var j=f._id+"-t"+e;h.aria("role","tabpanel"),h.aria("labelledby",j),g+='<div id="'+j+'" class="'+d+'tab" unselectable="on" role="tab" aria-controls="'+h._id+'" aria-selected="false" tabIndex="-1">'+f.encode(h.settings.title)+"</div>"}),'<div id="'+f._id+'" class="'+f.classes()+'" hidefocus="1" tabindex="-1"><div id="'+f._id+'-head" class="'+d+'tabs" role="tablist">'+g+'</div><div id="'+f._id+'-body" class="'+f.classes("body")+'">'+c.renderHtml(f)+"</div></div>"},postRender:function(){var c=this;c._super(),c.settings.activeTab=c.settings.activeTab||0,c.activateTab(c.settings.activeTab),this.on("click",function(d){var f=d.target.parentNode;if(d.target.parentNode.id==c._id+"-head"){for(var e=f.childNodes.length;e--;){f.childNodes[e]==d.target&&c.activateTab(e)}}})},initLayoutRect:function(){var f=this,h,d,c;d=a.getSize(f.getEl("head")).width,d=0>d?0:d,c=0,f.items().each(function(e,i){d=Math.max(d,e.layoutRect().minW),c=Math.max(c,e.layoutRect().minH),f.settings.activeTab!=i&&e.hide()}),f.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=d,i.settings.h=c,i.layoutRect({x:0,y:0,w:d,h:c})});var g=a.getSize(f.getEl("head")).height;return f.settings.minWidth=d,f.settings.minHeight=c+g,h=f._super(),h.deltaH+=g,h.innerH=h.h-h.deltaH,h}})}),aE(an,[a2,bb],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c._value=d.value||"",c.addClass("textbox"),d.multiline?c.addClass("multiline"):c.on("keydown",function(f){13==f.keyCode&&c.parents().reverse().each(function(e){return f.preventDefault(),e.hasEventListeners("submit")&&e.toJSON?(e.fire("submit",{data:e.toJSON()}),!1):void 0})})},disabled:function(d){var c=this;return c._rendered&&"undefined"!=typeof d&&(c.getEl().disabled=d),c._super(d)},value:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().value=d),c):c._rendered?c.getEl().value:c._value},repaint:function(){var j=this,f,l,h,d=0,k=0,c;f=j.getEl().style,l=j._layoutRect,c=j._lastRepaintRect||{};var g=document;return !j.settings.multiline&&g.all&&(!g.documentMode||g.documentMode<=8)&&(f.lineHeight=l.h-k+"px"),h=j._borderBox,d=h.left+h.right+8,k=h.top+h.bottom+(j.settings.multiline?8:0),l.x!==c.x&&(f.left=l.x+"px",c.x=l.x),l.y!==c.y&&(f.top=l.y+"px",c.y=l.y),l.w!==c.w&&(f.width=l.w-d+"px",c.w=l.w),l.h!==c.h&&(f.height=l.h-k+"px",c.h=l.h),j._lastRepaintRect=c,j.fire("repaint",{},!1),j},renderHtml:function(){var g=this,d=g._id,h=g.settings,f=g.encode(g._value,!1),c="";return"spellcheck" in h&&(c+=' spellcheck="'+h.spellcheck+'"'),h.maxLength&&(c+=' maxlength="'+h.maxLength+'"'),h.size&&(c+=' size="'+h.size+'"'),h.subtype&&(c+=' type="'+h.subtype+'"'),g.disabled()&&(c+=' disabled="disabled"'),h.multiline?'<textarea id="'+d+'" class="'+g.classes()+'" '+(h.rows?' rows="'+h.rows+'"':"")+' hidefocus="1"'+c+">"+f+"</textarea>":'<input id="'+d+'" class="'+g.classes()+'" value="'+f+'" hidefocus="1"'+c+" />"},postRender:function(){var c=this;return a.on(c.getEl(),"change",function(d){c.fire("change",d)}),c._super()},remove:function(){a.off(this.getEl()),this._super()}})}),aE(bK,[bb,aH],function(b,a){return function(g,e){var d=this,f,c=a.classPrefix;d.show=function(h){return d.hide(),f=!0,window.setTimeout(function(){f&&g.appendChild(b.createFragment('<div class="'+c+"throbber"+(e?" "+c+"throbber-inline":"")+'"></div>'))},h||0),d},d.hide=function(){var h=g.lastChild;return h&&-1!=h.className.indexOf("throbber")&&h.parentNode.removeChild(h),f=!1,d}}}),aZ([aN,aW,aB,aV,aT,aI,aL,aR,aS,aA,av,aY,by,aw,ax,a0,bl,bw,be,aO,bc,bg,bB,bA,bo,bx,bn,bs,bi,bj,br,bv,au,a8,ba,bb,aH,bL,aP,bp,a4,bu,a6,bq,bh,a3,bW,bd,a5,bQ,aq,ay,bz,bG,bO,ap,aF,ah,bM,ak,bE,a1,bC,am,bI,aX,a2,bS,ae,bV,bH,aj,bT,aa,bJ,af,bN,bD,ad,ar,bR,bF,aG,bf,a7,ab,bk,ao,aM,bm,ac,a9,ai,al,bU,bP,ag,az,an,bK])}(this);