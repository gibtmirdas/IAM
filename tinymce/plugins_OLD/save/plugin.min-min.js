tinymce.PluginManager.add("save",function(d){function b(){var e;return e=tinymce.DOM.getParent(d.id,"form"),!d.getParam("save_enablewhendirty",!0)||d.isDirty()?(tinymce.triggerSave(),d.getParam("save_onsavecallback")?void (d.execCallback("save_onsavecallback",d)&&(d.startContent=tinymce.trim(d.getContent({format:"raw"})),d.nodeChanged())):void (e?(d.isNotDirty=!0,(!e.onsubmit||e.onsubmit())&&("function"==typeof e.submit?e.submit():d.windowManager.alert("Error: Form submit field collision.")),d.nodeChanged()):d.windowManager.alert("Error: No form element found."))):void 0}function f(){var e=tinymce.trim(d.startContent);return d.getParam("save_oncancelcallback")?void d.execCallback("save_oncancelcallback",d):(d.setContent(e),d.undoManager.clear(),void d.nodeChanged())}function c(){var e=this;d.on("nodeChange",function(){e.disabled(d.getParam("save_enablewhendirty",!0)&&!d.isDirty())})}d.addCommand("mceSave",b),d.addCommand("mceCancel",f),d.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:c}),d.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:c}),d.addShortcut("ctrl+s","","mceSave")});