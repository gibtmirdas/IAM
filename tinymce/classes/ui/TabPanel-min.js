define("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(b,a){return b.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(c){var d;if(this.activeTabId){d=this.getEl(this.activeTabId);a.removeClass(d,this.classPrefix+"active");d.setAttribute("aria-selected","false")}this.activeTabId="t"+c;d=this.getEl("t"+c);d.setAttribute("aria-selected","true");a.addClass(d,this.classPrefix+"active");if(c!=this.lastIdx){this.items()[this.lastIdx].hide();this.lastIdx=c}this.items()[c].show().fire("showtab");this.reflow()},renderHtml:function(){var d=this,e=d._layout,c="",f=d.classPrefix;d.preRender();e.preRender(d);d.items().each(function(h,g){var j=d._id+"-t"+g;h.aria("role","tabpanel");h.aria("labelledby",j);c+=('<div id="'+j+'" class="'+f+'tab" unselectable="on" role="tab" aria-controls="'+h._id+'" aria-selected="false" tabIndex="-1">'+d.encode(h.settings.title)+"</div>")});return('<div id="'+d._id+'" class="'+d.classes()+'" hidefocus="1" tabindex="-1"><div id="'+d._id+'-head" class="'+f+'tabs" role="tablist">'+c+'</div><div id="'+d._id+'-body" class="'+d.classes("body")+'">'+e.renderHtml(d)+"</div></div>")},postRender:function(){var c=this;c._super();c.settings.activeTab=c.settings.activeTab||0;c.activateTab(c.settings.activeTab);this.on("click",function(g){var f=g.target.parentNode;if(g.target.parentNode.id==c._id+"-head"){var d=f.childNodes.length;while(d--){if(f.childNodes[d]==g.target){c.activateTab(d)}}}})},initLayoutRect:function(){var d=this,g,c,f;c=a.getSize(d.getEl("head")).width;c=c<0?0:c;f=0;d.items().each(function(j,h){c=Math.max(c,j.layoutRect().minW);f=Math.max(f,j.layoutRect().minH);if(d.settings.activeTab!=h){j.hide()}});d.items().each(function(h){h.settings.x=0;h.settings.y=0;h.settings.w=c;h.settings.h=f;h.layoutRect({x:0,y:0,w:c,h:f})});var e=a.getSize(d.getEl("head")).height;d.settings.minWidth=c;d.settings.minHeight=f+e;g=d._super();g.deltaH+=e;g.innerH=g.h-g.deltaH;return g}})});