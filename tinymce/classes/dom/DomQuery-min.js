define("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle"],function(g,d){var x=document,h=Array.prototype.push,p=Array.prototype.slice;var l=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var w=g.Event;function b(y){return typeof y!=="undefined"}function j(y){return typeof y==="string"}function o(z){var B,A,y;y=x.createElement("div");B=x.createDocumentFragment();y.innerHTML=z;while((A=y.firstChild)){B.appendChild(A)}return B}function k(y,A,B){var z;if(typeof A==="string"){A=o(A)}else{if(A.length){for(z=0;z<A.length;z++){k(y,A[z],B)}return y}}z=y.length;while(z--){B.call(y[z],A.parentNode?A:A)}return y}function c(z,y){return z&&y&&(" "+z.className+" ").indexOf(" "+y+" ")!==-1}function m(y,A){var z;y=y||[];if(typeof(y)=="string"){y=y.split(" ")}A=A||{};z=y.length;while(z--){A[y[z]]={}}return A}var a=m("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom");function e(y,z){return new e.fn.init(y,z)}function u(C){var z=arguments,y,B,A;for(B=1;B<z.length;B++){y=z[B];for(A in y){C[A]=y[A]}}return C}function q(A){var B=[],z,y;for(z=0,y=A.length;z<y;z++){B[z]=A[z]}return B}function s(z,A){var y;if(A.indexOf){return A.indexOf(z)}y=A.length;while(y--){if(A[y]===z){return y}}return -1}var i=Array.isArray||function(y){return Object.prototype.toString.call(y)==="[object Array]"};var v=/^\s*|\s*$/g;function r(y){return(y===null||y===undefined)?"":(""+y).replace(v,"")}function f(D,E){var B,z,y,A,C;if(D){B=D.length;if(B===A){for(z in D){if(D.hasOwnProperty(z)){C=D[z];if(E.call(C,C,z)===false){break}}}}else{for(y=0;y<B;y++){C=D[y];if(E.call(C,C,z)===false){break}}}}return D}e.fn=e.prototype={constructor:e,selector:"",length:0,init:function(y,B){var z=this,A,C;if(!y){return z}if(y.nodeType){z.context=z[0]=y;z.length=1;return z}if(j(y)){if(y.charAt(0)==="<"&&y.charAt(y.length-1)===">"&&y.length>=3){A=[null,y,null]}else{A=l.exec(y)}if(A){if(A[1]){C=o(y).firstChild;while(C){this.add(C);C=C.nextSibling}}else{C=x.getElementById(A[2]);if(C.id!==A[2]){return z.find(y)}z.length=1;z[0]=C}}else{return e(B||document).find(y)}}else{this.add(y)}return z},toArray:function(){return q(this)},add:function(z){var y=this;if(!i(z)){if(z instanceof e){y.add(z.toArray())}else{h.call(y,z)}}else{h.apply(y,z)}return y},attr:function(z,A){var y=this;if(typeof z==="object"){f(z,function(C,B){y.attr(B,C)})}else{if(b(A)){this.each(function(){if(this.nodeType===1){this.setAttribute(z,A)}})}else{return y[0]&&y[0].nodeType===1?y[0].getAttribute(z):undefined}}return y},css:function(z,A){var y=this;if(typeof z==="object"){f(z,function(C,B){y.css(B,C)})}else{z=z.replace(/-(\D)/g,function(C,B){return B.toUpperCase()});if(b(A)){if(typeof(A)==="number"&&!a[z]){A+="px"}y.each(function(){var C=this.style;if(z==="opacity"&&this.runtimeStyle&&typeof(this.runtimeStyle.opacity)==="undefined"){C.filter=A===""?"":"alpha(opacity="+(A*100)+")"}try{C[z]=A}catch(B){}})}else{return y[0]?y[0].style[z]:undefined}}return y},remove:function(){var y=this,A,z=this.length;while(z--){A=y[z];w.clean(A);if(A.parentNode){A.parentNode.removeChild(A)}}return this},empty:function(){var y=this,A,z=this.length;while(z--){A=y[z];while(A.firstChild){A.removeChild(A.firstChild)}}return this},html:function(A){var y=this,z;if(b(A)){z=y.length;while(z--){y[z].innerHTML=A}return y}return y[0]?y[0].innerHTML:""},text:function(A){var y=this,z;if(b(A)){z=y.length;while(z--){y[z].innerText=y[0].textContent=A}return y}return y[0]?y[0].innerText||y[0].textContent:""},append:function(){return k(this,arguments,function(y){if(this.nodeType===1){this.appendChild(y)}})},prepend:function(){return k(this,arguments,function(y){if(this.nodeType===1){this.insertBefore(y,this.firstChild)}})},before:function(){var y=this;if(y[0]&&y[0].parentNode){return k(y,arguments,function(z){this.parentNode.insertBefore(z,this.nextSibling)})}return y},after:function(){var y=this;if(y[0]&&y[0].parentNode){return k(y,arguments,function(z){this.parentNode.insertBefore(z,this)})}return y},appendTo:function(y){e(y).append(this);return this},addClass:function(y){return this.toggleClass(y,true)},removeClass:function(y){return this.toggleClass(y,false)},toggleClass:function(z,A){var y=this;if(z.indexOf(" ")!==-1){f(z.split(" "),function(){y.toggleClass(this,A)})}else{y.each(function(C){var B;if(c(C,z)!==A){B=C.className;if(A){C.className+=B?" "+z:z}else{C.className=r((" "+B+" ").replace(" "+z+" "," "))}}})}return y},hasClass:function(y){return c(this[0],y)},each:function(y){return f(this,y)},on:function(y,z){return this.each(function(){w.bind(this,y,z)})},off:function(y,z){return this.each(function(){w.unbind(this,y,z)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new e(p.apply(this,arguments))},eq:function(y){return y===-1?this.slice(y):this.slice(y,+y+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(z){var y=this;if(y[0]){y[0].parentNode.replaceChild(e(z)[0],y[0])}return y},wrap:function(y){y=e(y)[0];return this.each(function(){var z=this,A=y.cloneNode(false);z.parentNode.insertBefore(A,z);A.appendChild(z)})},unwrap:function(){return this.each(function(){var y=this,A=y.firstChild,z;while(A){z=A;A=A.nextSibling;y.parentNode.insertBefore(z,y)}})},clone:function(){var y=[];this.each(function(){y.push(this.cloneNode(true))});return e(y)},find:function(y){var B,z,A=[];for(B=0,z=this.length;B<z;B++){e.find(y,this[B],A)}return e(A)},push:h,sort:[].sort,splice:[].splice};u(e,{extend:u,toArray:q,inArray:s,isArray:i,each:f,trim:r,makeMap:m,find:d,expr:d.selectors,unique:d.uniqueSort,text:d.getText,isXMLDoc:d.isXML,contains:d.contains,filter:function(A,y,z){if(z){A=":not("+A+")"}if(y.length===1){y=e.find.matchesSelector(y[0],A)?[y[0]]:[]}else{y=e.find.matches(A,y)}return y}});function n(z,C,B){var y=[],A=z[C];while(A&&A.nodeType!==9&&(B===undefined||A.nodeType!==1||!e(A).is(B))){if(A.nodeType===1){y.push(A)}A=A[C]}return y}function t(C,A,z,y){var B=[];for(;C;C=C[z]){if((!y||C.nodeType===y)&&C!==A){B.push(C)}}return B}f({parent:function(z){var y=z.parentNode;return y&&y.nodeType!==11?y:null},parents:function(y){return n(y,"parentNode")},parentsUntil:function(y,z){return n(y,"parentNode",z)},next:function(y){return t(y,"nextSibling",1)},prev:function(y){return t(y,"previousSibling",1)},nextNodes:function(y){return t(y,"nextSibling")},prevNodes:function(y){return t(y,"previousSibling")},children:function(y){return t(y.firstChild,"nextSibling",1)},contents:function(y){return q((y.nodeName==="iframe"?y.contentDocument||y.contentWindow.document:y).childNodes)}},function(y,z){e.fn[y]=function(B){var C=this,A;if(C.length>1){throw new Error("DomQuery only supports traverse functions on a single node.")}if(C[0]){A=z(C[0],B)}A=e(A);if(B&&y!=="parentsUntil"){return A.filter(B)}return A}});e.fn.filter=function(y){return e.filter(y)};e.fn.is=function(y){return !!y&&this.filter(y).length>0};e.fn.init.prototype=e.fn;return e});