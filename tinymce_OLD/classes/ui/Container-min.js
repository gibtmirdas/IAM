define("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/ui/DomUtils"],function(h,g,c,a,f,e,b){var d={};return h.extend({layout:"",innerClass:"container-inner",init:function(j){var i=this;i._super(j);j=i.settings;i._fixed=j.fixed;i._items=new g();if(i.isRtl()){i.addClass("rtl")}i.addClass("container");i.addClass("container-body","body");if(j.containerCls){i.addClass(j.containerCls)}i._layout=a.create((j.layout||i.layout)+"layout");if(i.settings.items){i.add(i.settings.items)}i._hasBody=true},items:function(){return this._items},find:function(i){i=d[i]=d[i]||new c(i);return i.find(this)},add:function(j){var i=this;i.items().add(i.create(j)).parent(i);return i},focus:function(i){var k=this,m,l,j;if(i){l=k.keyboardNav||k.parents().eq(-1)[0].keyboardNav;if(l){l.focusFirst(k);return}}j=k.find("*");if(k.statusbar){j.add(k.statusbar.items())}j.each(function(n){if(n.settings.autofocus){m=null;return false}if(n.canFocus){m=m||n}});if(m){m.focus()}return k},replace:function(n,m){var l,j=this.items(),k=j.length;while(k--){if(j[k]===n){j[k]=m;break}}if(k>=0){l=m.getEl();if(l){l.parentNode.removeChild(l)}l=n.getEl();if(l){l.parentNode.removeChild(l)}}m.parent(this)},create:function(j){var i=this,l,k=[];if(!e.isArray(j)){j=[j]}e.each(j,function(m){if(m){if(!(m instanceof h)){if(typeof(m)=="string"){m={type:m}}l=e.extend({},i.settings.defaults,m);m.type=l.type=l.type||m.type||i.settings.defaultType||(l.defaults?l.defaults.type:null);m=a.create(l)}k.push(m)}});return k},renderNew:function(){var i=this;i.items().each(function(l,k){var m,j;l.parent(i);if(!l._rendered){m=i.getEl("body");j=b.createFragment(l.renderHtml());if(m.hasChildNodes()&&k<=m.childNodes.length-1){m.insertBefore(j,m.childNodes[k])}else{m.appendChild(j)}l.postRender()}});i._layout.applyClasses(i);i._lastRect=null;return i},append:function(i){return this.add(i).renderNew()},prepend:function(j){var i=this;i.items().set(i.create(j).concat(i.items().toArray()));return i.renderNew()},insert:function(k,m,o){var j=this,l,i,n;k=j.create(k);l=j.items();if(!o&&m<l.length-1){m+=1}if(m>=0&&m<l.length){i=l.slice(0,m).toArray();n=l.slice(m).toArray();l.set(i.concat(k,n))}return j.renderNew()},fromJSON:function(k){var i=this;for(var j in k){i.find("#"+j).value(k[j])}return i},toJSON:function(){var i=this,j={};i.find("*").each(function(m){var k=m.name(),l=m.value();if(k&&typeof(l)!="undefined"){j[k]=l}});return j},preRender:function(){},renderHtml:function(){var i=this,j=i._layout,k=this.settings.role;i.preRender();j.preRender(i);return('<div id="'+i._id+'" class="'+i.classes()+'"'+(k?' role="'+this.settings.role+'"':"")+'><div id="'+i._id+'-body" class="'+i.classes("body")+'">'+(i.settings.html||"")+j.renderHtml(i)+"</div></div>")},postRender:function(){var i=this,j;i.items().exec("postRender");i._super();i._layout.postRender(i);i._rendered=true;if(i.settings.style){b.css(i.getEl(),i.settings.style)}if(i.settings.border){j=i.borderBox();b.css(i.getEl(),{"border-top-width":j.top,"border-right-width":j.right,"border-bottom-width":j.bottom,"border-left-width":j.left})}if(!i.parent()){i.keyboardNav=new f({root:i})}return i},initLayoutRect:function(){var i=this,j=i._super();i._layout.recalc(i);return j},recalc:function(){var i=this,k=i._layoutRect,j=i._lastRect;if(!j||j.w!=k.w||j.h!=k.h){i._layout.recalc(i);k=i.layoutRect();i._lastRect={x:k.x,y:k.y,w:k.w,h:k.h};return true}},reflow:function(){var j;if(this.visible()){h.repaintControls=[];h.repaintControls.map={};this.recalc();j=h.repaintControls.length;while(j--){h.repaintControls[j].repaint()}if(this.settings.layout!=="flow"&&this.settings.layout!=="stack"){this.repaint()}h.repaintControls=[]}return this}})});