tinymce.PluginManager.add("textcolor",function(d){function e(){var h,f=[],g;g=d.settings.textcolor_map||["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Brown","C0C0C0","Silver","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum","FFFFFF","White"];for(h=0;h<g.length;h+=2){f.push({text:g[h+1],color:g[h]})}return f}function a(){var f=this,g,h,k,o,p,m,n,l,j;g=e();k='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>';o=g.length-1;p=d.settings.textcolor_rows||5;m=d.settings.textcolor_cols||8;for(l=0;l<p;l++){k+="<tr>";for(n=0;n<m;n++){j=l*m+n;if(j>o){k+="<td></td>"}else{h=g[j];k+=('<td><div id="'+f._id+"-"+j+'" data-mce-color="'+h.color+'" role="option" tabIndex="-1" style="'+(h?"background-color: #"+h.color:"")+'" title="'+h.text+'"></div></td>')}}k+="</tr>"}k+="</tbody></table>";return k}function c(h){var f=this.parent(),g;if((g=h.target.getAttribute("data-mce-color"))){if(this.lastId){document.getElementById(this.lastId).setAttribute("aria-selected",false)}h.target.setAttribute("aria-selected",true);this.lastId=h.target.id;f.hidePanel();g="#"+g;f.color(g);d.execCommand(f.settings.selectcmd,false,g)}}function b(){var f=this;if(f._color){d.execCommand(f.settings.selectcmd,false,f._color)}}d.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",selectcmd:"ForeColor",panel:{role:"application",ariaRemember:true,html:a,onclick:c},onclick:b});d.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",selectcmd:"HiliteColor",panel:{role:"application",ariaRemember:true,html:a,onclick:c},onclick:b})});