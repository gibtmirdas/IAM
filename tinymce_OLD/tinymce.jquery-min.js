(function(b,g){var d={};function c(m,n){var l,j=[];for(var k=0;k<m.length;++k){l=d[m[k]]||e(m[k]);if(!l){throw"module definition dependecy not found: "+m[k]}j.push(l)}n.apply(null,j)}function h(k,j,i){if(typeof k!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(j===g){throw"invalid module definition, dependencies must be specified"}if(i===g){throw"invalid module definition, definition function must be specified"}c(j,function(){d[k]=i.apply(null,arguments)})}function f(i){return !!d[i]}function e(l){var j=b;var i=l.split(/[.\/]/);for(var k=0;k<i.length;++k){if(!j[i[k]]){return}j=j[i[k]]}return j}function a(l){for(var k=0;k<l.length;k++){var m=b;var o=l[k];var j=o.split(/[.\/]/);for(var n=0;n<j.length-1;++n){if(m[j[n]]===g){m[j[n]]={}}m=m[j[n]]}m[j[j.length-1]]=d[o]}}h("tinymce/dom/Sizzle",[],function(){if(!window.jQuery){throw new Error("Load jQuery first")}return jQuery.find});h("tinymce/html/Styles",[],function(){return function(m,o){var s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,p=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,k=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,n,q,j={},r,t="\uFEFF";m=m||{};r=("\\\" \\' \\; \\: ; : "+t).split(" ");for(q=0;q<r.length;q++){j[r[q]]=t+q;j[t+q]=r[q]}function l(v,y,x,i){function w(z){z=parseInt(z,10).toString(16);return z.length>1?z:"0"+z}return"#"+w(y)+w(x)+w(i)}return{toHex:function(i){return i.replace(s,l)},parse:function(A){var G={},y,v,E,z,D=m.url_converter;var F=m.url_converter_scope||this;function x(M,P,J){var O,K,I,N;O=G[M+"-top"+P];if(!O){return}K=G[M+"-right"+P];if(!K){return}I=G[M+"-bottom"+P];if(!I){return}N=G[M+"-left"+P];if(!N){return}var L=[O,K,I,N];q=L.length-1;while(q--){if(L[q]!==L[q+1]){break}}if(q>-1&&J){return}G[M+P]=q==-1?L[0]:L.join(" ");delete G[M+"-top"+P];delete G[M+"-right"+P];delete G[M+"-bottom"+P];delete G[M+"-left"+P]}function C(J){var K=G[J],I;if(!K){return}K=K.split(" ");I=K.length;while(I--){if(K[I]!==K[0]){return false}}G[J]=K[0];return true}function H(K,J,I,L){if(!C(J)){return}if(!C(I)){return}if(!C(L)){return}G[K]=G[J]+" "+G[I]+" "+G[L];delete G[J];delete G[I];delete G[L]}function B(I){z=true;return j[I]}function i(J,I){if(z){J=J.replace(/\uFEFF[0-9]/g,function(K){return j[K]})}if(!I){J=J.replace(/\\([\'\";:])/g,"$1")}return J}function w(J,I,M,L,N,K){N=N||K;if(N){N=i(N);return"'"+N.replace(/\'/g,"\\'")+"'"}I=i(I||M||L);if(!m.allow_script_urls&&/(java|vb)script:/i.test(I.replace(/[\s\r\n]+/,""))){return""}if(D){I=D.call(F,I,"style")}return"url('"+I.replace(/\'/g,"\\'")+"')"}if(A){A=A.replace(/[\u0000-\u001F]/g,"");A=A.replace(/\\[\"\';:\uFEFF]/g,B).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(I){return I.replace(/[;:]/g,B)});while((y=k.exec(A))){v=y[1].replace(u,"").toLowerCase();E=y[2].replace(u,"");if(v&&E.length>0){if(!m.allow_script_urls&&(v=="behavior"||/expression\s*\(/.test(E))){continue}if(v==="font-weight"&&E==="700"){E="bold"}else{if(v==="color"||v==="background-color"){E=E.toLowerCase()}}E=E.replace(s,l);E=E.replace(p,w);G[v]=z?i(E,true):E}k.lastIndex=y.index+y[0].length}x("border","",true);x("border","-width");x("border","-color");x("border","-style");x("padding","");x("margin","");H("border","border-width","border-style","border-color");if(G.border==="medium none"){delete G.border}if(G["border-image"]==="none"){delete G["border-image"]}}return G},serialize:function(x,z){var w="",v,y;function i(B){var E,C,A,D;E=o.styles[B];if(E){for(C=0,A=E.length;C<A;C++){B=E[C];D=x[B];if(D!==n&&D.length>0){w+=(w.length>0?" ":"")+B+": "+D+";"}}}}if(z&&o&&o.styles){i("*");i(z)}else{for(v in x){y=x[v];if(y!==n&&y.length>0){w+=(w.length>0?" ":"")+v+": "+y+";"}}}return w}}}});h("tinymce/dom/EventUtils",[],function(){var o="mce-data-";var k=/^(?:mouse|contextmenu)|click/;var j={keyLocation:1,layerX:1,layerY:1,returnValue:1};function l(s,r,t,q){if(s.addEventListener){s.addEventListener(r,t,q||false)}else{if(s.attachEvent){s.attachEvent("on"+r,t)}}}function n(s,r,t,q){if(s.removeEventListener){s.removeEventListener(r,t,q||false)}else{if(s.detachEvent){s.detachEvent("on"+r,t)}}}function i(s,w){var r,q=w||{},u;function t(){return false}function v(){return true}for(r in s){if(!j[r]){q[r]=s[r]}}if(!q.target){q.target=q.srcElement||document}if(s&&k.test(s.type)&&s.pageX===u&&s.clientX!==u){var z=q.target.ownerDocument||document;var y=z.documentElement;var x=z.body;q.pageX=s.clientX+(y&&y.scrollLeft||x&&x.scrollLeft||0)-(y&&y.clientLeft||x&&x.clientLeft||0);q.pageY=s.clientY+(y&&y.scrollTop||x&&x.scrollTop||0)-(y&&y.clientTop||x&&x.clientTop||0)}q.preventDefault=function(){q.isDefaultPrevented=v;if(s){if(s.preventDefault){s.preventDefault()}else{s.returnValue=false}}};q.stopPropagation=function(){q.isPropagationStopped=v;if(s){if(s.stopPropagation){s.stopPropagation()}else{s.cancelBubble=true}}};q.stopImmediatePropagation=function(){q.isImmediatePropagationStopped=v;q.stopPropagation()};if(!q.isDefaultPrevented){q.isDefaultPrevented=t;q.isPropagationStopped=t;q.isImmediatePropagationStopped=t}return q}function m(v,x,s){var u=v.document,t={type:"ready"};if(s.domLoaded){x(t);return}function r(){if(!s.domLoaded){s.domLoaded=true;x(t)}}function q(){if(u.readyState==="complete"||(u.readyState==="interactive"&&u.body)){n(u,"readystatechange",q);r()}}function w(){try{u.documentElement.doScroll("left")}catch(y){setTimeout(w,0);return}r()}if(u.addEventListener){if(u.readyState==="complete"){r()}else{l(v,"DOMContentLoaded",r)}}else{l(u,"readystatechange",q);if(u.documentElement.doScroll&&v.self===v.top){w()}}l(v,"load",r)}function p(){var q=this,s={},u,x,r,t,w;x=o+(+new Date()).toString(32);t="onmouseenter" in document.documentElement;r="onfocusin" in document.documentElement;w={mouseenter:"mouseover",mouseleave:"mouseout"};u=1;q.domLoaded=false;q.events=s;function v(B,E){var A,C,z,D,y=s[E];A=y&&y[B.type];if(A){for(C=0,z=A.length;C<z;C++){D=A[C];if(D&&D.func.call(D.scope,B)===false){B.preventDefault()}if(B.isImmediatePropagationStopped()){return}}}}q.bind=function(D,G,J,K){var z,A,B,y,H,F,I,C=window;function E(L){v(i(L||C.event),z)}if(!D||D.nodeType===3||D.nodeType===8){return}if(!D[x]){z=u++;D[x]=z;s[z]={}}else{z=D[x]}K=K||D;G=G.split(" ");B=G.length;while(B--){y=G[B];F=E;H=I=false;if(y==="DOMContentLoaded"){y="ready"}if(q.domLoaded&&y==="ready"&&D.readyState=="complete"){J.call(K,i({type:y}));continue}if(!t){H=w[y];if(H){F=function(L){var N,M;N=L.currentTarget;M=L.relatedTarget;if(M&&N.contains){M=N.contains(M)}else{while(M&&M!==N){M=M.parentNode}}if(!M){L=i(L||C.event);L.type=L.type==="mouseout"?"mouseleave":"mouseenter";L.target=N;v(L,z)}}}}if(!r&&(y==="focusin"||y==="focusout")){I=true;H=y==="focusin"?"focus":"blur";F=function(L){L=i(L||C.event);L.type=L.type==="focus"?"focusin":"focusout";v(L,z)}}A=s[z][y];if(!A){s[z][y]=A=[{func:J,scope:K}];A.fakeName=H;A.capture=I;A.nativeHandler=F;if(y==="ready"){m(D,F,q)}else{l(D,H||y,F,I)}}else{if(y==="ready"&&q.domLoaded){J({type:y})}else{A.push({func:J,scope:K})}}}D=A=0;return J};q.unbind=function(D,G,J){var z,B,C,K,y,A;if(!D||D.nodeType===3||D.nodeType===8){return q}z=D[x];if(z){A=s[z];if(G){G=G.split(" ");C=G.length;while(C--){y=G[C];B=A[y];if(B){if(J){K=B.length;while(K--){if(B[K].func===J){var F=B.nativeHandler;var H=B.fakeName,I=B.capture;B=B.slice(0,K).concat(B.slice(K+1));B.nativeHandler=F;B.fakeName=H;B.capture=I;A[y]=B}}}if(!J||B.length===0){delete A[y];n(D,B.fakeName||y,B.nativeHandler,B.capture)}}}}else{for(y in A){B=A[y];n(D,B.fakeName||y,B.nativeHandler,B.capture)}A={}}for(y in A){return q}delete s[z];try{delete D[x]}catch(E){D[x]=null}}return q};q.fire=function(A,z,y){var B;if(!A||A.nodeType===3||A.nodeType===8){return q}y=i(null,y);y.type=z;y.target=A;do{B=A[x];if(B){v(y,B)}A=A.parentNode||A.ownerDocument||A.defaultView||A.parentWindow}while(A&&!y.isPropagationStopped());return q};q.clean=function(B){var z,y,A=q.unbind;if(!B||B.nodeType===3||B.nodeType===8){return q}if(B[x]){A(B)}if(!B.getElementsByTagName){B=B.document}if(B&&B.getElementsByTagName){A(B);y=B.getElementsByTagName("*");z=y.length;while(z--){B=y[z];if(B[x]){A(B)}}}return q};q.destroy=function(){s={}};q.cancel=function(y){if(y){y.preventDefault();y.stopImmediatePropagation()}return false}}p.Event=new p();p.Event.bind(window,"ready",function(){});return p});h("tinymce/dom/TreeWalker",[],function(){return function(i,k){var j=i;function l(q,n,m,r){var p,o;if(q){if(!r&&q[n]){return q[n]}if(q!=k){p=q[m];if(p){return p}for(o=q.parentNode;o&&o!=k;o=o.parentNode){p=o[m];if(p){return p}}}}}this.current=function(){return j};this.next=function(m){j=l(j,"firstChild","nextSibling",m);return j};this.prev=function(m){j=l(j,"lastChild","previousSibling",m);return j}}});h("tinymce/util/Tools",[],function(){var x=/^\s*|\s*$/g;function j(y){return(y===null||y===g)?"":(""+y).replace(x,"")}var p=Array.isArray||function(y){return Object.prototype.toString.call(y)==="[object Array]"};function o(z,y){if(!y){return z!==g}if(y=="array"&&p(z)){return true}return typeof(z)==y}function l(A){var B=[],z,y;for(z=0,y=A.length;z<y;z++){B[z]=A[z]}return B}function k(y,B,A){var z;y=y||[];B=B||",";if(typeof(y)=="string"){y=y.split(B)}A=A||{};z=y.length;while(z--){A[y[z]]={}}return A}function s(B,y,A){var C,z;if(!B){return 0}A=A||B;if(B.length!==g){for(C=0,z=B.length;C<z;C++){if(y.call(A,B[C],C,B)===false){return 0}}}else{for(C in B){if(B.hasOwnProperty(C)){if(y.call(A,B[C],C,B)===false){return 0}}}}return 1}function i(y,z){var A=[];s(y,function(B){A.push(z(B))});return A}function v(y,z){var A=[];s(y,function(B){if(!z||z(B)){A.push(B)}});return A}function n(H,y,C){var G=this,z,B,D,E,A,F=0;H=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(H);D=H[3].match(/(^|\.)(\w+)$/i)[2];B=G.createNS(H[3].replace(/\.\w+$/,""),C);if(B[D]){return}if(H[2]=="static"){B[D]=y;if(this.onCreate){this.onCreate(H[2],H[3],B[D])}return}if(!y[D]){y[D]=function(){};F=1}B[D]=y[D];G.extend(B[D].prototype,y);if(H[5]){z=G.resolve(H[5]).prototype;E=H[5].match(/\.(\w+)$/i)[1];A=B[D];if(F){B[D]=function(){return z[E].apply(this,arguments)}}else{B[D]=function(){this.parent=z[E];return A.apply(this,arguments)}}B[D].prototype[D]=B[D];G.each(z,function(I,J){B[D].prototype[J]=z[J]});G.each(y,function(I,J){if(z[J]){B[D].prototype[J]=function(){this.parent=z[J];return I.apply(this,arguments)}}else{if(J!=D){B[D].prototype[J]=I}}})}G.each(y["static"],function(I,J){B[D][J]=I})}function w(z,A){var B,y;if(z){for(B=0,y=z.length;B<y;B++){if(z[B]===A){return B}}}return -1}function q(E,C){var B,y,A,z=arguments,D;for(B=1,y=z.length;B<y;B++){C=z[B];for(A in C){if(C.hasOwnProperty(A)){D=C[A];if(D!==g){E[A]=D}}}}return E}function t(A,z,B,y){y=y||this;if(A){if(B){A=A[B]}s(A,function(D,C){if(z.call(y,D,C,B)===false){return false}t(D,z,B,y)})}}function m(B,A){var z,y;A=A||window;B=B.split(".");for(z=0;z<B.length;z++){y=B[z];if(!A[y]){A[y]={}}A=A[y]}return A}function u(B,A){var z,y;A=A||window;B=B.split(".");for(z=0,y=B.length;z<y;z++){A=A[B[z]];if(!A){break}}return A}function r(y,z){if(!y||o(y,"array")){return y}return i(y.split(z||","),j)}return{trim:j,isArray:p,is:o,toArray:l,makeMap:k,each:s,map:i,grep:v,inArray:w,extend:q,create:n,walk:t,createNS:m,resolve:u,explode:r}});h("tinymce/dom/Range",["tinymce/util/Tools"],function(i){function j(k){var o=this,m=k.doc,aa=0,M=1,s=2,L=true,Y=false,ac="startOffset",q="startContainer",W="endContainer",H="endOffset",t=i.extend,w=k.nodeIndex;function E(){return m.createDocumentFragment()}function z(ae,ad){J(L,ae,ad)}function B(ae,ad){J(Y,ae,ad)}function p(ad){z(ad.parentNode,w(ad))}function Q(ad){z(ad.parentNode,w(ad)+1)}function R(ad){B(ad.parentNode,w(ad))}function C(ad){B(ad.parentNode,w(ad)+1)}function I(ad){if(ad){o[W]=o[q];o[H]=o[ac]}else{o[q]=o[W];o[ac]=o[H]}o.collapsed=L}function F(ad){p(ad);C(ad)}function N(ad){z(ad,0);B(ad,ad.nodeType===1?ad.childNodes.length:ad.nodeValue.length)}function D(ah,ad){var ak=o[q],af=o[ac],aj=o[W],ae=o[H],ai=ad.startContainer,am=ad.startOffset,ag=ad.endContainer,al=ad.endOffset;if(ah===0){return O(ak,af,ai,am)}if(ah===1){return O(aj,ae,ai,am)}if(ah===2){return O(aj,ae,ag,al)}if(ah===3){return O(ak,af,ag,al)}}function y(){u(s)}function P(){return u(aa)}function l(){return u(M)}function K(ah){var ae=this[q],ad=this[ac],ag,af;if((ae.nodeType===3||ae.nodeType===4)&&ae.nodeValue){if(!ad){ae.parentNode.insertBefore(ah,ae)}else{if(ad>=ae.nodeValue.length){k.insertAfter(ah,ae)}else{ag=ae.splitText(ad);ae.parentNode.insertBefore(ah,ag)}}}else{if(ae.childNodes.length>0){af=ae.childNodes[ad]}if(af){ae.insertBefore(ah,af)}else{if(ae.nodeType==3){k.insertAfter(ah,ae)}else{ae.appendChild(ah)}}}}function U(ae){var ad=o.extractContents();o.insertNode(ae);ae.appendChild(ad);o.selectNode(ae)}function S(){return t(new j(k),{startContainer:o[q],startOffset:o[ac],endContainer:o[W],endOffset:o[H],collapsed:o.collapsed,commonAncestorContainer:o.commonAncestorContainer})}function V(ad,ae){var af;if(ad.nodeType==3){return ad}if(ae<0){return ad}af=ad.firstChild;while(af&&ae>0){--ae;af=af.nextSibling}if(af){return af}return ad}function v(){return(o[q]==o[W]&&o[ac]==o[H])}function O(ag,ai,ae,ah){var aj,af,ad,ak,am,al;if(ag==ae){if(ai==ah){return 0}if(ai<ah){return -1}return 1}aj=ae;while(aj&&aj.parentNode!=ag){aj=aj.parentNode}if(aj){af=0;ad=ag.firstChild;while(ad!=aj&&af<ai){af++;ad=ad.nextSibling}if(ai<=af){return -1}return 1}aj=ag;while(aj&&aj.parentNode!=ae){aj=aj.parentNode}if(aj){af=0;ad=ae.firstChild;while(ad!=aj&&af<ah){af++;ad=ad.nextSibling}if(af<ah){return -1}return 1}ak=k.findCommonAncestor(ag,ae);am=ag;while(am&&am.parentNode!=ak){am=am.parentNode}if(!am){am=ak}al=ae;while(al&&al.parentNode!=ak){al=al.parentNode}if(!al){al=ak}if(am==al){return 0}ad=ak.firstChild;while(ad){if(ad==am){return -1}if(ad==al){return 1}ad=ad.nextSibling}}function J(ae,ah,ag){var ad,af;if(ae){o[q]=ah;o[ac]=ag}else{o[W]=ah;o[H]=ag}ad=o[W];while(ad.parentNode){ad=ad.parentNode}af=o[q];while(af.parentNode){af=af.parentNode}if(af==ad){if(O(o[q],o[ac],o[W],o[H])>0){o.collapse(ae)}}else{o.collapse(ae)}o.collapsed=v();o.commonAncestorContainer=k.findCommonAncestor(o[q],o[W])}function u(ak){var aj,ag=0,am=0,ae,ai,af,ah,ad,al;if(o[q]==o[W]){return n(ak)}for(aj=o[W],ae=aj.parentNode;ae;aj=ae,ae=ae.parentNode){if(ae==o[q]){return A(aj,ak)}++ag}for(aj=o[q],ae=aj.parentNode;ae;aj=ae,ae=ae.parentNode){if(ae==o[W]){return ab(aj,ak)}++am}ai=am-ag;af=o[q];while(ai>0){af=af.parentNode;ai--}ah=o[W];while(ai<0){ah=ah.parentNode;ai++}for(ad=af.parentNode,al=ah.parentNode;ad!=al;ad=ad.parentNode,al=al.parentNode){af=ad;ah=al}return x(af,ah,ak)}function n(aj){var al,am,ad,af,ag,ak,ah,ae,ai;if(aj!=s){al=E()}if(o[ac]==o[H]){return al}if(o[q].nodeType==3){am=o[q].nodeValue;ad=am.substring(o[ac],o[H]);if(aj!=M){af=o[q];ae=o[ac];ai=o[H]-o[ac];if(ae===0&&ai>=af.nodeValue.length-1){af.parentNode.removeChild(af)}else{af.deleteData(ae,ai)}o.collapse(L)}if(aj==s){return}if(ad.length>0){al.appendChild(m.createTextNode(ad))}return al}af=V(o[q],o[ac]);ag=o[H]-o[ac];while(af&&ag>0){ak=af.nextSibling;ah=G(af,aj);if(al){al.appendChild(ah)}--ag;af=ak}if(aj!=M){o.collapse(L)}return al}function A(ak,ah){var aj,ai,ae,ad,ag,af;if(ah!=s){aj=E()}ai=r(ak,ah);if(aj){aj.appendChild(ai)}ae=w(ak);ad=ae-o[ac];if(ad<=0){if(ah!=M){o.setEndBefore(ak);o.collapse(Y)}return aj}ai=ak.previousSibling;while(ad>0){ag=ai.previousSibling;af=G(ai,ah);if(aj){aj.insertBefore(af,aj.firstChild)}--ad;ai=ag}if(ah!=M){o.setEndBefore(ak);o.collapse(Y)}return aj}function ab(ai,ah){var ak,ae,aj,ad,ag,af;if(ah!=s){ak=E()}aj=X(ai,ah);if(ak){ak.appendChild(aj)}ae=w(ai);++ae;ad=o[H]-ae;aj=ai.nextSibling;while(aj&&ad>0){ag=aj.nextSibling;af=G(aj,ah);if(ak){ak.appendChild(af)}--ad;aj=ag}if(ah!=M){o.setStartAfter(ai);o.collapse(L)}return ak}function x(ah,ad,ak){var ae,am,ai,aj,af,al,ag;if(ak!=s){am=E()}ae=X(ah,ak);if(am){am.appendChild(ae)}ai=w(ah);aj=w(ad);++ai;af=aj-ai;al=ah.nextSibling;while(af>0){ag=al.nextSibling;ae=G(al,ak);if(am){am.appendChild(ae)}al=ag;--af}ae=r(ad,ak);if(am){am.appendChild(ae)}if(ak!=M){o.setStartAfter(ah);o.collapse(L)}return am}function r(aj,ak){var af=V(o[W],o[H]-1),al,ai;var ah,ad,ae,ag=af!=o[W];if(af==aj){return T(af,ag,Y,ak)}al=af.parentNode;ai=T(al,Y,Y,ak);while(al){while(af){ah=af.previousSibling;ad=T(af,ag,Y,ak);if(ak!=s){ai.insertBefore(ad,ai.firstChild)}ag=L;af=ah}if(al==aj){return ai}af=al.previousSibling;al=al.parentNode;ae=T(al,Y,Y,ak);if(ak!=s){ae.appendChild(ai)}ai=ae}}function X(aj,ak){var ag=V(o[q],o[ac]),ah=ag!=o[q];var al,ai,af,ad,ae;if(ag==aj){return T(ag,ah,L,ak)}al=ag.parentNode;ai=T(al,Y,L,ak);while(al){while(ag){af=ag.nextSibling;ad=T(ag,ah,L,ak);if(ak!=s){ai.appendChild(ad)}ah=L;ag=af}if(al==aj){return ai}ag=al.nextSibling;al=al.parentNode;ae=T(al,Y,L,ak);if(ak!=s){ae.appendChild(ai)}ai=ae}}function T(ad,ah,ak,al){var ag,af,ai,ae,aj;if(ah){return G(ad,al)}if(ad.nodeType==3){ag=ad.nodeValue;if(ak){ae=o[ac];af=ag.substring(ae);ai=ag.substring(0,ae)}else{ae=o[H];af=ag.substring(0,ae);ai=ag.substring(ae)}if(al!=M){ad.nodeValue=ai}if(al==s){return}aj=k.clone(ad,Y);aj.nodeValue=af;return aj}if(al==s){return}return k.clone(ad,Y)}function G(ae,ad){if(ad!=s){return ad==M?k.clone(ae,L):ae}ae.parentNode.removeChild(ae)}function Z(){return k.create("body",null,l()).outerText}t(o,{startContainer:m,startOffset:0,endContainer:m,endOffset:0,collapsed:L,commonAncestorContainer:m,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:z,setEnd:B,setStartBefore:p,setStartAfter:Q,setEndBefore:R,setEndAfter:C,collapse:I,selectNode:F,selectNodeContents:N,compareBoundaryPoints:D,deleteContents:y,extractContents:P,cloneContents:l,insertNode:K,surroundContents:U,cloneRange:S,toStringIE:Z});return o}j.prototype.toString=function(){return this.toStringIE()};return j});h("tinymce/html/Entities",["tinymce/util/Tools"],function(l){var m=l.makeMap;var i,r,o,u=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,q=/[<>&\"\']/g,n=/&(#x|#)?([\w]+);/g,t={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};function s(v){var w;w=document.createElement("div");w.innerHTML=v;return w.textContent||w.innerText||v}function p(w,z){var x,y,v,A={};if(w){w=w.split(",");z=z||10;for(x=0;x<w.length;x+=2){y=String.fromCharCode(parseInt(w[x],z));if(!r[y]){v="&"+w[x+1]+";";A[y]=v;A[v]=y}}return A}}i=p("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var k={encodeRaw:function(w,v){return w.replace(v?u:j,function(x){return r[x]||x})},encodeAllRaw:function(v){return(""+v).replace(q,function(w){return r[w]||w})},encodeNumeric:function(w,v){return w.replace(v?u:j,function(x){if(x.length>1){return"&#"+(((x.charCodeAt(0)-55296)*1024)+(x.charCodeAt(1)-56320)+65536)+";"}return r[x]||"&#"+x.charCodeAt(0)+";"})},encodeNamed:function(x,v,w){w=w||i;return x.replace(v?u:j,function(y){return r[y]||w[y]||y})},getEncodeFunc:function(v,y){y=p(y)||i;function w(A,z){return A.replace(z?u:j,function(B){return r[B]||y[B]||"&#"+B.charCodeAt(0)+";"||B})}function x(A,z){return k.encodeNamed(A,z,y)}v=m(v.replace(/\+/g,","));if(v.named&&v.numeric){return w}if(v.named){if(y){return x}return k.encodeNamed}if(v.numeric){return k.encodeNumeric}return k.encodeRaw},decode:function(v){return v.replace(n,function(x,w,y){if(w){y=parseInt(y,w.length===2?16:10);if(y>65535){y-=65536;return String.fromCharCode(55296+(y>>10),56320+(y&1023))}else{return t[y]||String.fromCharCode(y)}}return o[x]||i[x]||s(x)})}};return k});h("tinymce/Env",[],function(){var i=navigator,r=i.userAgent;var l,q,j,n,k,p,m;l=window.opera&&window.opera.buildNumber;q=/WebKit/.test(r);j=!q&&!l&&(/MSIE/gi).test(r)&&(/Explorer/gi).test(i.appName);j=j&&/MSIE (\w+)\./.exec(r)[1];n=r.indexOf("Trident/")!=-1&&(r.indexOf("rv:")!=-1||i.appName.indexOf("Netscape")!=-1)?11:false;j=j||n;k=!q&&!n&&/Gecko/.test(r);p=r.indexOf("Mac")!=-1;m=/(iPad|iPhone)/.test(r);var o=!m||r.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:l,webkit:q,ie:j,gecko:k,mac:p,iOS:m,contentEditable:o,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:j!=8,range:window.getSelection&&"Range" in window,documentMode:j?(document.documentMode||7):10}});h("tinymce/dom/StyleSheetLoader",[],function(){return function(i,m){var j=0,l={},o;m=m||{};o=m.maxLoadTime||5000;function k(p){i.getElementsByTagName("head")[0].appendChild(p)}function n(r,v,z){var A,q,s,p;function w(){var D=p.passed,C=D.length;while(C--){D[C]()}p.status=2;p.passed=[];p.failed=[]}function y(){var D=p.failed,C=D.length;while(C--){D[C]()}p.status=3;p.passed=[];p.failed=[]}function B(){var C=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(C&&C[1]<536)}function x(C,D){if(!C()){if((new Date().getTime())-s<o){window.setTimeout(D,0)}else{y()}}}function t(){x(function(){var E=i.styleSheets,F,D=E.length,C;while(D--){F=E[D];C=F.ownerNode?F.ownerNode:F.owningElement;if(C&&C.id===A.id){w();return true}}},t)}function u(){x(function(){try{var C=q.sheet.cssRules;w();return !!C}catch(D){}},u)}if(!l[r]){p={passed:[],failed:[]};l[r]=p}else{p=l[r]}if(v){p.passed.push(v)}if(z){p.failed.push(z)}if(p.status==1){return}if(p.status==2){w();return}if(p.status==3){y();return}p.status=1;A=i.createElement("link");A.rel="stylesheet";A.type="text/css";A.id="u"+(j++);A.async=false;A.defer=false;s=new Date().getTime();if("onload" in A&&!B()){A.onload=t;A.onerror=y}else{if(navigator.userAgent.indexOf("Firefox")>0){q=i.createElement("style");q.textContent='@import "'+r+'"';u();k(q);return}else{t()}}k(A);A.href=r}this.load=n}});h("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(l,r,o,p,z,m,k,j,u){var n=j.each,q=j.is,s=j.grep,w=j.trim,A=j.extend;var x=k.webkit,v=k.ie;var t=/^([a-z0-9],?)+$/i;var B=/^[ \t\r\n]*$/;var i=j.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");function y(F,D){var C=this,E;C.doc=F;C.win=window;C.files={};C.counter=0;C.stdMode=!v||F.documentMode>=8;C.boxModel=!v||F.compatMode=="CSS1Compat"||C.stdMode;C.hasOuterHTML="outerHTML" in F.createElement("a");C.styleSheetLoader=new u(F);this.boundEvents=[];C.settings=D=A({keep_values:false,hex_colors:1},D);C.schema=D.schema;C.styles=new r({url_converter:D.url_converter,url_converter_scope:D.url_converter_scope},D.schema);C.fixDoc(F);C.events=D.ownEvents?new o(D.proxy):o.Event;E=D.schema?D.schema.getBlockElements():{};C.isBlock=function(H){if(!H){return false}var G=H.nodeType;if(G){return !!(G===1&&E[H.nodeName])}return !!E[H]}}y.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(E){var D=this.settings,C;if(v&&D.schema){("abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video").replace(/\w+/g,function(F){E.createElement(F)});for(C in D.schema.getCustomElements()){E.createElement(C)}}},clone:function(E,C){var D=this,G,F;if(!v||E.nodeType!==1||C){return E.cloneNode(C)}F=D.doc;if(!C){G=F.createElement(E.nodeName);n(D.getAttribs(E),function(H){D.setAttrib(G,H.nodeName,D.getAttrib(E,H.nodeName))});return G}return G.firstChild},getRoot:function(){var C=this;return C.get(C.settings.root_element)||C.doc.body},getViewPort:function(D){var C,E;D=!D?this.win:D;C=D.document;E=this.boxModel?C.documentElement:C.body;return{x:D.pageXOffset||E.scrollLeft,y:D.pageYOffset||E.scrollTop,w:D.innerWidth||E.clientWidth,h:D.innerHeight||E.clientHeight}},getRect:function(F){var C=this,E,D;F=C.get(F);E=C.getPos(F);D=C.getSize(F);return{x:E.x,y:E.y,w:D.w,h:D.h}},getSize:function(F){var D=this,C,E;F=D.get(F);C=D.getStyle(F,"width");E=D.getStyle(F,"height");if(C.indexOf("px")===-1){C=0}if(E.indexOf("px")===-1){E=0}return{w:parseInt(C,10)||F.offsetWidth||F.clientWidth,h:parseInt(E,10)||F.offsetHeight||F.clientHeight}},getParent:function(E,C,D){return this.getParents(E,C,D,false)},getParents:function(H,D,E,I){var G=this,F,C=[];H=G.get(H);I=I===g;E=E||(G.getRoot().nodeName!="BODY"?G.getRoot().parentNode:null);if(q(D,"string")){F=D;if(D==="*"){D=function(J){return J.nodeType==1}}else{D=function(J){return G.is(J,F)}}}while(H){if(H==E||!H.nodeType||H.nodeType===9){break}if(!D||D(H)){if(I){C.push(H)}else{return H}}H=H.parentNode}return I?C:null},get:function(D){var C;if(D&&this.doc&&typeof(D)=="string"){C=D;D=this.doc.getElementById(D);if(D&&D.id!==C){return this.doc.getElementsByName(C)[1]}}return D},getNext:function(D,C){return this._findSib(D,C,"nextSibling")},getPrev:function(D,C){return this._findSib(D,C,"previousSibling")},select:function(C,E){var D=this;return l(C,D.get(E)||D.get(D.settings.root_element)||D.doc,[])},is:function(F,C){var D;if(F.length===g){if(C==="*"){return F.nodeType==1}if(t.test(C)){C=C.toLowerCase().split(/,/);F=F.nodeName.toLowerCase();for(D=C.length-1;D>=0;D--){if(C[D]==F){return true}}return false}}if(F.nodeType&&F.nodeType!=1){return false}var E=F.nodeType?[F]:F;return l(C,E[0].ownerDocument||E[0],null,E).length>0},add:function(H,E,D,G,F){var C=this;return this.run(H,function(J){var I;I=q(E,"string")?C.doc.createElement(E):E;C.setAttribs(I,D);if(G){if(G.nodeType){I.appendChild(G)}else{C.setHTML(I,G)}}return !F?J.appendChild(I):I})},create:function(D,C,E){return this.add(this.doc.createElement(D),D,C,E,1)},createHTML:function(D,C,F){var G="",E;G+="<"+D;for(E in C){if(C.hasOwnProperty(E)&&C[E]!==null){G+=" "+E+'="'+this.encode(C[E])+'"'}}if(typeof(F)!="undefined"){return G+">"+F+"</"+D+">"}return G+" />"},createFragment:function(D){var G,E,F=this.doc,C;C=F.createElement("div");G=F.createDocumentFragment();if(D){C.innerHTML=D}while((E=C.firstChild)){G.appendChild(E)}return G},remove:function(C,D){return this.run(C,function(F){var G,E=F.parentNode;if(!E){return null}if(D){while((G=F.firstChild)){if(!v||G.nodeType!==3||G.nodeValue){E.insertBefore(G,F)}else{F.removeChild(G)}}}return E.removeChild(F)})},setStyle:function(E,C,D){return this.run(E,function(J){var F=this,I,H;if(C){if(typeof(C)==="string"){I=J.style;C=C.replace(/-(\D)/g,function(L,K){return K.toUpperCase()});if(typeof(D)==="number"&&!i[C]){D+="px"}if(C==="opacity"&&J.runtimeStyle&&typeof(J.runtimeStyle.opacity)==="undefined"){I.filter=D===""?"":"alpha(opacity="+(D*100)+")"}if(C=="float"){C="cssFloat" in J.style?"cssFloat":"styleFloat"}try{I[C]=D}catch(G){}if(F.settings.update_styles){J.removeAttribute("data-mce-style")}}else{for(H in C){F.setStyle(J,H,C[H])}}}})},getStyle:function(F,C,E){F=this.get(F);if(!F){return}if(this.doc.defaultView&&E){C=C.replace(/[A-Z]/g,function(G){return"-"+G});try{return this.doc.defaultView.getComputedStyle(F,null).getPropertyValue(C)}catch(D){return null}}C=C.replace(/-(\D)/g,function(H,G){return G.toUpperCase()});if(C=="float"){C=v?"styleFloat":"cssFloat"}if(F.currentStyle&&E){return F.currentStyle[C]}return F.style?F.style[C]:g},setStyles:function(D,C){this.setStyle(D,C)},css:function(E,C,D){this.setStyle(E,C,D)},removeAllAttribs:function(C){return this.run(C,function(F){var E,D=F.attributes;for(E=D.length-1;E>=0;E--){F.removeAttributeNode(D.item(E))}})},setAttrib:function(E,F,D){var C=this;if(!E||!F){return}return this.run(E,function(I){var H=C.settings;var G=I.getAttribute(F);if(D!==null){switch(F){case"style":if(!q(D,"string")){n(D,function(J,K){C.setStyle(I,K,J)});return}if(H.keep_values){if(D){I.setAttribute("data-mce-style",D,2)}else{I.removeAttribute("data-mce-style",2)}}I.style.cssText=D;break;case"class":I.className=D||"";break;case"src":case"href":if(H.keep_values){if(H.url_converter){D=H.url_converter.call(H.url_converter_scope||C,D,F,I)}C.setAttrib(I,"data-mce-"+F,D,2)}break;case"shape":I.setAttribute("data-mce-style",D);break}}if(q(D)&&D!==null&&D.length!==0){I.setAttribute(F,""+D,2)}else{I.removeAttribute(F,2)}if(G!=D&&H.onSetAttrib){H.onSetAttrib({attrElm:I,attrName:F,attrValue:D})}})},setAttribs:function(E,D){var C=this;return this.run(E,function(F){n(D,function(H,G){C.setAttrib(F,G,H)})})},getAttrib:function(H,D,G){var F,C=this,E;H=C.get(H);if(!H||H.nodeType!==1){return G===E?false:G}if(!q(G)){G=""}if(/^(src|href|style|coords|shape)$/.test(D)){F=H.getAttribute("data-mce-"+D);if(F){return F}}if(v&&C.props[D]){F=H[C.props[D]];F=F&&F.nodeValue?F.nodeValue:F}if(!F){F=H.getAttribute(D,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(D)){if(H[C.props[D]]===true&&F===""){return D}return F?D:""}if(H.nodeName==="FORM"&&H.getAttributeNode(D)){return H.getAttributeNode(D).nodeValue}if(D==="style"){F=F||H.style.cssText;if(F){F=C.serializeStyle(C.parseStyle(F),H.nodeName);if(C.settings.keep_values){H.setAttribute("data-mce-style",F)}}}if(x&&D==="class"&&F){F=F.replace(/(apple|webkit)\-[a-z\-]+/gi,"")}if(v){switch(D){case"rowspan":case"colspan":if(F===1){F=""}break;case"size":if(F==="+0"||F===20||F===0){F=""}break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":if(F===0){F=""}break;case"hspace":if(F===-1){F=""}break;case"maxlength":case"tabindex":if(F===32768||F===2147483647||F==="32768"){F=""}break;case"multiple":case"compact":case"noshade":case"nowrap":if(F===65535){return D}return G;case"shape":F=F.toLowerCase();break;default:if(D.indexOf("on")===0&&F){F=(""+F).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1")}}}return(F!==E&&F!==null&&F!=="")?""+F:G},getPos:function(J,G){var D=this,C=0,I=0,E,F=D.doc,H;J=D.get(J);G=G||F.body;if(J){if(G===F.body&&J.getBoundingClientRect){H=J.getBoundingClientRect();G=D.boxModel?F.documentElement:F.body;C=H.left+(F.documentElement.scrollLeft||F.body.scrollLeft)-G.clientLeft;I=H.top+(F.documentElement.scrollTop||F.body.scrollTop)-G.clientTop;return{x:C,y:I}}E=J;while(E&&E!=G&&E.nodeType){C+=E.offsetLeft||0;I+=E.offsetTop||0;E=E.offsetParent}E=J.parentNode;while(E&&E!=G&&E.nodeType){C-=E.scrollLeft||0;I-=E.scrollTop||0;E=E.parentNode}}return{x:C,y:I}},parseStyle:function(C){return this.styles.parse(C)},serializeStyle:function(D,C){return this.styles.serialize(D,C)},addStyle:function(F){var D=this,G=D.doc,E,H;if(D!==y.DOM&&G===document){var C=y.DOM.addedStyles;C=C||[];if(C[F]){return}C[F]=true;y.DOM.addedStyles=C}H=G.getElementById("mceDefaultStyles");if(!H){H=G.createElement("style");H.id="mceDefaultStyles";H.type="text/css";E=G.getElementsByTagName("head")[0];if(E.firstChild){E.insertBefore(H,E.firstChild)}else{E.appendChild(H)}}if(H.styleSheet){H.styleSheet.cssText+=F}else{H.appendChild(G.createTextNode(F))}},loadCSS:function(D){var C=this,F=C.doc,E;if(C!==y.DOM&&F===document){y.DOM.loadCSS(D);return}if(!D){D=""}E=F.getElementsByTagName("head")[0];n(D.split(","),function(G){var H;if(C.files[G]){return}C.files[G]=true;H=C.create("link",{rel:"stylesheet",href:G});if(v&&F.documentMode&&F.recalc){H.onload=function(){if(F.recalc){F.recalc()}H.onload=null}}E.appendChild(H)})},addClass:function(D,C){return this.run(D,function(F){var E;if(!C){return 0}if(this.hasClass(F,C)){return F.className}E=this.removeClass(F,C);F.className=E=(E!==""?(E+" "):"")+C;return E})},removeClass:function(F,C){var D=this,E;return D.run(F,function(H){var G;if(D.hasClass(H,C)){if(!E){E=new RegExp("(^|\\s+)"+C+"(\\s+|$)","g")}G=H.className.replace(E," ");G=w(G!=" "?G:"");H.className=G;if(!G){H.removeAttribute("class");H.removeAttribute("className")}return G}return H.className})},hasClass:function(D,C){D=this.get(D);if(!D||!C){return false}return(" "+D.className+" ").indexOf(" "+C+" ")!==-1},toggleClass:function(E,C,D){D=D===g?!this.hasClass(E,C):D;if(this.hasClass(E,C)!==D){if(D){this.addClass(E,C)}else{this.removeClass(E,C)}}},show:function(C){return this.setStyle(C,"display","block")},hide:function(C){return this.setStyle(C,"display","none")},isHidden:function(C){C=this.get(C);return !C||C.style.display=="none"||this.getStyle(C,"display")=="none"},uniqueId:function(C){return(!C?"mce_":C)+(this.counter++)},setHTML:function(E,D){var C=this;return C.run(E,function(G){if(v){while(G.firstChild){G.removeChild(G.firstChild)}try{G.innerHTML="<br />"+D;G.removeChild(G.firstChild)}catch(F){var H=C.create("div");H.innerHTML="<br />"+D;n(s(H.childNodes),function(J,I){if(I&&G.canHaveHTML){G.appendChild(J)}})}}else{G.innerHTML=D}return D})},getOuterHTML:function(E){var D,C=this;E=C.get(E);if(!E){return null}if(E.nodeType===1&&C.hasOuterHTML){return E.outerHTML}D=(E.ownerDocument||C.doc).createElement("body");D.appendChild(E.cloneNode(true));return D.innerHTML},setOuterHTML:function(F,D,E){var C=this;return C.run(F,function(I){function H(){var K,J;J=E.createElement("body");J.innerHTML=D;K=J.lastChild;while(K){C.insertAfter(K.cloneNode(true),I);K=K.previousSibling}C.remove(I)}if(I.nodeType==1){E=E||I.ownerDocument||C.doc;if(v){try{if(I.nodeType==1&&C.hasOuterHTML){I.outerHTML=D}else{H()}}catch(G){H()}}else{H()}}})},decode:m.decode,encode:m.encodeAllRaw,insertAfter:function(C,D){D=this.get(D);return this.run(C,function(F){var E,G;E=D.parentNode;G=D.nextSibling;if(G){E.insertBefore(F,G)}else{E.appendChild(F)}return F})},replace:function(E,D,F){var C=this;return C.run(D,function(G){if(q(G,"array")){E=E.cloneNode(true)}if(F){n(s(G.childNodes),function(H){E.appendChild(H)})}return G.parentNode.replaceChild(E,G)})},rename:function(F,D){var C=this,E;if(F.nodeName!=D.toUpperCase()){E=C.create(D);n(C.getAttribs(F),function(G){C.setAttrib(E,G.nodeName,C.getAttrib(F,G.nodeName))});C.replace(E,F,1)}return E||F},findCommonAncestor:function(E,C){var F=E,D;while(F){D=C;while(D&&F!=D){D=D.parentNode}if(F==D){break}F=F.parentNode}if(!F&&E.ownerDocument){return E.ownerDocument.documentElement}return F},toHex:function(C){return this.styles.toHex(j.trim(C))},run:function(G,F,E){var D=this,C;if(typeof(G)==="string"){G=D.get(G)}if(!G){return false}E=E||this;if(!G.nodeType&&(G.length||G.length===0)){C=[];n(G,function(I,H){if(I){if(typeof(I)=="string"){I=D.get(I)}C.push(F.call(E,I,H))}});return C}return F.call(E,G)},getAttribs:function(E){var C;E=this.get(E);if(!E){return[]}if(v){C=[];if(E.nodeName=="OBJECT"){return E.attributes}if(E.nodeName==="OPTION"&&this.getAttrib(E,"selected")){C.push({specified:1,nodeName:"selected"})}var D=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;E.cloneNode(false).outerHTML.replace(D,"").replace(/[\w:\-]+/gi,function(F){C.push({specified:1,nodeName:F})});return C}return E.attributes},isEmpty:function(F,D){var K=this,H,G,J,C,E,I=0;F=F.firstChild;if(F){C=new p(F,F.parentNode);D=D||K.schema?K.schema.getNonEmptyElements():null;do{J=F.nodeType;if(J===1){if(F.getAttribute("data-mce-bogus")){continue}E=F.nodeName.toLowerCase();if(D&&D[E]){if(E==="br"){I++;continue}return false}G=K.getAttribs(F);H=G.length;while(H--){E=G[H].nodeName;if(E==="name"||E==="data-mce-bookmark"){return false}}}if(J==8){return false}if((J===3&&!B.test(F.nodeValue))){return false}}while((F=C.next()))}return I<=1},createRng:function(){var C=this.doc;return C.createRange?C.createRange():new z(this)},nodeIndex:function(F,G){var C=0,E,D;if(F){for(E=F.nodeType,F=F.previousSibling;F;F=F.previousSibling){D=F.nodeType;if(G&&D==3){if(D==E||!F.nodeValue.length){continue}}C++;E=D}}return C},split:function(G,H,D){var K=this,C=K.createRng(),I,F,J;function E(P){var N,M=P.childNodes,O=P.nodeType;function Q(T){var S=T.previousSibling&&T.previousSibling.nodeName=="SPAN";var R=T.nextSibling&&T.nextSibling.nodeName=="SPAN";return S&&R}if(O==1&&P.getAttribute("data-mce-type")=="bookmark"){return}for(N=M.length-1;N>=0;N--){E(M[N])}if(O!=9){if(O==3&&P.nodeValue.length>0){var L=w(P.nodeValue).length;if(!K.isBlock(P.parentNode)||L>0||L===0&&Q(P)){return}}else{if(O==1){M=P.childNodes;if(M.length==1&&M[0]&&M[0].nodeType==1&&M[0].getAttribute("data-mce-type")=="bookmark"){P.parentNode.insertBefore(M[0],P)}if(M.length||/^(br|hr|input|img)$/i.test(P.nodeName)){return}}}K.remove(P)}return P}if(G&&H){C.setStart(G.parentNode,K.nodeIndex(G));C.setEnd(H.parentNode,K.nodeIndex(H));I=C.extractContents();C=K.createRng();C.setStart(H.parentNode,K.nodeIndex(H)+1);C.setEnd(G.parentNode,K.nodeIndex(G)+1);F=C.extractContents();J=G.parentNode;J.insertBefore(E(I),G);if(D){J.replaceChild(D,H)}else{J.insertBefore(H,G)}J.insertBefore(E(F),G);K.remove(G);return D||H}},bind:function(H,D,G,F){var C=this;if(j.isArray(H)){var E=H.length;while(E--){H[E]=C.bind(H[E],D,G,F)}return H}if(C.settings.collect&&(H===C.doc||H===C.win)){C.boundEvents.push([H,D,G,F])}return C.events.bind(H,D,G,F||C)},unbind:function(H,D,G){var C=this,E;if(j.isArray(H)){E=H.length;while(E--){H[E]=C.unbind(H[E],D,G)}return H}if(C.boundEvents&&(H===C.doc||H===C.win)){E=C.boundEvents.length;while(E--){var F=C.boundEvents[E];if(H==F[0]&&(!D||D==F[1])&&(!G||G==F[2])){this.events.unbind(F[0],F[1],F[2])}}}return this.events.unbind(H,D,G)},fire:function(E,D,C){return this.events.fire(E,D,C)},getContentEditable:function(D){var C;if(D.nodeType!=1){return null}C=D.getAttribute("data-mce-contenteditable");if(C&&C!=="inherit"){return C}return D.contentEditable!=="inherit"?D.contentEditable:null},destroy:function(){var C=this;if(C.boundEvents){var D=C.boundEvents.length;while(D--){var E=C.boundEvents[D];this.events.unbind(E[0],E[1],E[2])}C.boundEvents=null}if(l.setDocument){l.setDocument()}C.win=C.doc=C.root=C.events=C.frag=null},dumpRng:function(C){return("startContainer: "+C.startContainer.nodeName+", startOffset: "+C.startOffset+", endContainer: "+C.endContainer.nodeName+", endOffset: "+C.endOffset)},_findSib:function(G,C,E){var D=this,F=C;if(G){if(typeof(F)=="string"){F=function(H){return D.is(H,C)}}for(G=G[E];G;G=G[E]){if(F(G)){return G}}}return null}};y.DOM=new y(document);return y});h("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(m,i){var k=m.DOM;var l=i.each,j=i.grep;function n(){var p=0,w=1,u=2,x={},v=[],r={},q=[],t=0,s;function o(A,E){var B=k,D,C;function y(){B.remove(C);if(D){D.onreadystatechange=D.onload=D=null}E()}function z(){if(typeof(console)!=="undefined"&&console.log){console.log("Failed to load: "+A)}}C=B.uniqueId();D=document.createElement("script");D.id=C;D.type="text/javascript";D.src=A;if("onreadystatechange" in D){D.onreadystatechange=function(){if(/loaded|complete/.test(D.readyState)){y()}}}else{D.onload=y}D.onerror=z;(document.getElementsByTagName("head")[0]||document.body).appendChild(D)}this.isDone=function(y){return x[y]==u};this.markDone=function(y){x[y]=u};this.add=this.load=function(y,B,z){var A=x[y];if(A==s){v.push(y);x[y]=p}if(B){if(!r[y]){r[y]=[]}r[y].push({func:B,scope:z||this})}};this.loadQueue=function(z,y){this.loadScripts(v,z,y)};this.loadScripts=function(y,C,B){var A;function z(D){l(r[D],function(E){E.func.call(E.scope)});r[D]=s}q.push({func:C,scope:B||this});A=function(){var D=j(y);y.length=0;l(D,function(E){if(x[E]==u){z(E);return}if(x[E]!=w){x[E]=w;t++;o(E,function(){x[E]=u;t--;z(E);A()})}});if(!t){l(q,function(E){E.func.call(E.scope)});q.length=0}};A()}}n.ScriptLoader=new n();return n});h("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(l,i){var k=i.each;function j(){var m=this;m.items=[];m.urls={};m.lookup={}}j.prototype={get:function(m){if(this.lookup[m]){return this.lookup[m].instance}else{return g}},dependencies:function(n){var m;if(this.lookup[n]){m=this.lookup[n].dependencies}return m||[]},requireLangPack:function(m,n){if(j.language&&j.languageLoad!==false){if(n&&new RegExp("([, ]|\\b)"+j.language+"([, ]|\\b)").test(n)===false){return}l.ScriptLoader.add(this.urls[m]+"/langs/"+j.language+".js")}},add:function(o,m,n){this.items.push(m);this.lookup[o]={instance:m,dependencies:n};return m},createUrl:function(m,n){if(typeof n==="object"){return n}else{return{prefix:m.prefix,resource:n,suffix:m.suffix}}},addComponents:function(o,m){var n=this.urls[o];k(m,function(p){l.ScriptLoader.add(n+"/"+p)})},load:function(o,q,s,p){var m=this,n=q;function r(){var t=m.dependencies(o);k(t,function(v){var u=m.createUrl(q,v);m.load(u.resource,u,g,g)});if(s){if(p){s.call(p)}else{s.call(l)}}}if(m.urls[o]){return}if(typeof q==="object"){n=q.prefix+q.resource+q.suffix}if(n.indexOf("/")!==0&&n.indexOf("://")==-1){n=j.baseURL+"/"+n}m.urls[o]=n.substring(0,n.lastIndexOf("/"));if(m.lookup[o]){r()}else{l.ScriptLoader.add(n,r,p)}}};j.PluginManager=new j();j.ThemeManager=new j();return j});h("tinymce/html/Node",[],function(){var k=/^[ \t\r\n]*$/,l={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function i(r,s,q){var p,o,m=q?"lastChild":"firstChild",n=q?"prev":"next";if(r[m]){return r[m]}if(r!==s){p=r[n];if(p){return p}for(o=r.parent;o&&o!==s;o=o.parent){p=o[n];if(p){return p}}}}function j(m,n){this.name=m;this.type=n;if(n===1){this.attributes=[];this.attributes.map={}}}j.prototype={replace:function(n){var m=this;if(n.parent){n.remove()}m.insert(n,m);m.remove();return m},attr:function(o,r){var m=this,n,p,q;if(typeof o!=="string"){for(p in o){m.attr(p,o[p])}return m}if((n=m.attributes)){if(r!==q){if(r===null){if(o in n.map){delete n.map[o];p=n.length;while(p--){if(n[p].name===o){n=n.splice(p,1);return m}}}return m}if(o in n.map){p=n.length;while(p--){if(n[p].name===o){n[p].value=r;break}}}else{n.push({name:o,value:r})}n.map[o]=r;return m}else{return n.map[o]}}},clone:function(){var n=this,s=new j(n.name,n.type),o,m,r,p,q;if((r=n.attributes)){q=[];q.map={};for(o=0,m=r.length;o<m;o++){p=r[o];if(p.name!=="id"){q[q.length]={name:p.name,value:p.value};q.map[p.name]=p.value}}s.attributes=q}s.value=n.value;s.shortEnded=n.shortEnded;return s},wrap:function(n){var m=this;m.parent.insert(n,m);n.append(m);return m},unwrap:function(){var m=this,o,n;for(o=m.firstChild;o;){n=o.next;m.insert(o,m,true);o=n}m.remove()},remove:function(){var m=this,o=m.parent,n=m.next,p=m.prev;if(o){if(o.firstChild===m){o.firstChild=n;if(n){n.prev=null}}else{p.next=n}if(o.lastChild===m){o.lastChild=p;if(p){p.next=null}}else{n.prev=p}m.parent=m.next=m.prev=null}return m},append:function(o){var m=this,n;if(o.parent){o.remove()}n=m.lastChild;if(n){n.next=o;o.prev=n;m.lastChild=o}else{m.lastChild=m.firstChild=o}o.parent=m;return o},insert:function(o,m,p){var n;if(o.parent){o.remove()}n=m.parent||this;if(p){if(m===n.firstChild){n.firstChild=o}else{m.prev.next=o}o.prev=m.prev;o.next=m;m.prev=o}else{if(m===n.lastChild){n.lastChild=o}else{m.next.prev=o}o.next=m.next;o.prev=m;m.next=o}o.parent=n;return o},getAll:function(n){var m=this,o,p=[];for(o=m.firstChild;o;o=i(o,m)){if(o.name===n){p.push(o)}}return p},empty:function(){var n=this,m,o,p;if(n.firstChild){m=[];for(p=n.firstChild;p;p=i(p,n)){m.push(p)}o=m.length;while(o--){p=m[o];p.parent=p.firstChild=p.lastChild=p.next=p.prev=null}}n.firstChild=n.lastChild=null;return n},isEmpty:function(q){var m=this,p=m.firstChild,o,n;if(p){do{if(p.type===1){if(p.attributes.map["data-mce-bogus"]){continue}if(q[p.name]){return false}o=p.attributes.length;while(o--){n=p.attributes[o].name;if(n==="name"||n.indexOf("data-mce-")===0){return false}}}if(p.type===8){return false}if((p.type===3&&!k.test(p.value))){return false}}while((p=i(p,m)))}return true},walk:function(m){return i(this,null,m)}};j.create=function(n,m){var p,o;p=new j(n,l[n]||1);if(m){for(o in m){p.attr(o,m[o])}}return p};return j});h("tinymce/html/Schema",["tinymce/util/Tools"],function(i){var j={};var k=i.makeMap,o=i.each,l=i.extend,m=i.explode,q=i.inArray;function n(r,s){return r?r.split(s||" "):[]}function p(y){var v={},z,s;var w,x,r,u;function A(E,B,H){var G,F,I,D=arguments;function C(M){var L={},K,J;for(K=0,J=M.length;K<J;K++){L[M[K]]={}}return L}H=H||[];B=B||"";if(typeof(H)==="string"){H=n(H)}for(F=3;F<D.length;F++){if(typeof(D[F])==="string"){D[F]=n(D[F])}H.push.apply(H,D[F])}E=n(E);G=E.length;while(G--){I=[].concat(z,n(B));v[E[G]]={attributes:C(I),attributesOrder:I,children:C(H)}}}function t(E,D){var G,C,F,B;E=n(E);G=E.length;D=n(D);while(G--){C=v[E[G]];for(F=0,B=D.length;F<B;F++){C.attributes[D[F]]={};C.attributesOrder.push(D[F])}}}if(j[y]){return j[y]}z=n("id accesskey class dir lang style tabindex title");s=n("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");w=n("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment");if(y!="html4"){z.push.apply(z,n("contenteditable contextmenu draggable dropzone hidden spellcheck translate"));s.push.apply(s,n("article aside details dialog figure header footer hgroup section nav"));w.push.apply(w,n("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))}if(y!="html5-strict"){z.push("xml:lang");u=n("acronym applet basefont big font strike tt");w.push.apply(w,u);o(u,function(B){A(B,"",w)});r=n("center dir isindex noframes");s.push.apply(s,r);x=[].concat(s,w);o(r,function(B){A(B,"",x)})}x=x||[].concat(s,w);A("html","manifest","head body");A("head","","base command link meta noscript script style title");A("title hr noscript br");A("base","href target");A("link","href rel media hreflang type sizes hreflang");A("meta","name http-equiv content charset");A("style","media type scoped");A("script","src async defer type charset");A("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",x);A("address dt dd div caption","",x);A("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",w);A("blockquote","cite",x);A("ol","reversed start type","li");A("ul","","li");A("li","value",x);A("dl","","dt dd");A("a","href target rel media hreflang type",w);A("q","cite",w);A("ins del","cite datetime",x);A("img","src alt usemap ismap width height");A("iframe","src name width height",x);A("embed","src type width height");A("object","data type typemustmatch name usemap form width height",x,"param");A("param","name value");A("map","name",x,"area");A("area","alt coords shape href target rel media hreflang type");A("table","border","caption colgroup thead tfoot tbody tr"+(y=="html4"?" col":""));A("colgroup","span","col");A("col","span");A("tbody thead tfoot","","tr");A("tr","","td th");A("td","colspan rowspan headers",x);A("th","colspan rowspan headers scope abbr",x);A("form","accept-charset action autocomplete enctype method name novalidate target",x);A("fieldset","disabled form name",x,"legend");A("label","form for",w);A("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");A("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",y=="html4"?x:w);A("select","disabled form multiple name required size","option optgroup");A("optgroup","disabled label","option");A("option","disabled label selected value");A("textarea","cols dirname disabled form maxlength name readonly required rows wrap");A("menu","type label",x,"li");A("noscript","",x);if(y!="html4"){A("wbr");A("ruby","",w,"rt rp");A("figcaption","",x);A("mark rt rp summary bdi","",w);A("canvas","width height",x);A("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",x,"track source");A("audio","src crossorigin preload autoplay mediagroup loop muted controls",x,"track source");A("source","src type media");A("track","kind src srclang label default");A("datalist","",w,"option");A("article section nav aside header footer","",x);A("hgroup","","h1 h2 h3 h4 h5 h6");A("figure","",x,"figcaption");A("time","datetime",w);A("dialog","open",x);A("command","type label icon disabled checked radiogroup command");A("output","for form name",w);A("progress","value max",w);A("meter","value min max low high optimum",w);A("details","open",x,"summary");A("keygen","autofocus challenge disabled form keytype name")}if(y!="html5-strict"){t("script","language xml:space");t("style","xml:space");t("object","declare classid codebase codetype archive standby align border hspace vspace");t("param","valuetype type");t("a","charset name rev shape coords");t("br","clear");t("applet","codebase archive code object alt name width height align hspace vspace");t("img","name longdesc align border hspace vspace");t("iframe","longdesc frameborder marginwidth marginheight scrolling align");t("font basefont","size color face");t("input","usemap align");t("select","onchange");t("textarea");t("h1 h2 h3 h4 h5 h6 div p legend caption","align");t("ul","type compact");t("li","type");t("ol dl menu dir","compact");t("pre","width xml:space");t("hr","align noshade size width");t("isindex","prompt");t("table","summary width frame rules cellspacing cellpadding align bgcolor");t("col","width align char charoff valign");t("colgroup","width align char charoff valign");t("thead","align char charoff valign");t("tr","align char charoff valign bgcolor");t("th","axis align char charoff valign nowrap bgcolor width height");t("form","accept");t("td","abbr axis scope align char charoff valign nowrap bgcolor width height");t("tfoot","align char charoff valign");t("tbody","align char charoff valign");t("area","nohref");t("body","background bgcolor text link vlink alink")}if(y!="html4"){t("input button select textarea","autofocus");t("input textarea","placeholder");t("a","download");t("link script img","crossorigin");t("iframe","srcdoc sandbox seamless allowfullscreen")}o(n("a form meter progress dfn"),function(B){if(v[B]){delete v[B].children[B]}});delete v.caption.children.table;j[y]=v;return v}return function(K){var F=this,D={},u={},t=[],N,I;var z,B,J,C;var G,y,r,A={},v={};function x(Q,O,P){var R=K[Q];if(!R){R=j[Q];if(!R){R=k(O," ",k(O.toUpperCase()," "));R=l(R,P);j[Q]=R}}else{R=k(R,",",k(R.toUpperCase()," "))}return R}K=K||{};I=p(K.schema);if(K.verify_html===false){K.valid_elements="*[*]"}if(K.valid_styles){N={};o(K.valid_styles,function(P,O){N[O]=m(P)})}z=x("whitespace_elements","pre script noscript style textarea video audio iframe object");B=x("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");J=x("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");C=x("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");y=x("non_empty_elements","td th iframe video audio object script",J);r=x("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");G=x("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",r);o((K.special||"script noscript style textarea").split(" "),function(O){v[O]=new RegExp("</"+O+"[^>]*>","gi")});function s(O){return new RegExp("^"+O.replace(/([?+*])/g,".$1")+"$")}function M(V){var U,Q,aj,ae,P,S,ad,ag,Z,ah,ak,Y,T,af,O,ab,R,am,ac,X=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,aa=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,W=/[*?+]/;if(V){V=n(V,",");if(D["@"]){ab=D["@"].attributes;R=D["@"].attributesOrder}for(U=0,Q=V.length;U<Q;U++){P=X.exec(V[U]);if(P){af=P[1];Z=P[2];O=P[3];ag=P[5];Y={};T=[];S={attributes:Y,attributesOrder:T};if(af==="#"){S.paddEmpty=true}if(af==="-"){S.removeEmpty=true}if(P[4]==="!"){S.removeEmptyAttrs=true}if(ab){for(am in ab){Y[am]=ab[am]}T.push.apply(T,R)}if(ag){ag=n(ag,"|");for(aj=0,ae=ag.length;aj<ae;aj++){P=aa.exec(ag[aj]);if(P){ad={};ak=P[1];ah=P[2].replace(/::/g,":");af=P[3];ac=P[4];if(ak==="!"){S.attributesRequired=S.attributesRequired||[];S.attributesRequired.push(ah);ad.required=true}if(ak==="-"){delete Y[ah];T.splice(q(T,ah),1);continue}if(af){if(af==="="){S.attributesDefault=S.attributesDefault||[];S.attributesDefault.push({name:ah,value:ac});ad.defaultValue=ac}if(af===":"){S.attributesForced=S.attributesForced||[];S.attributesForced.push({name:ah,value:ac});ad.forcedValue=ac}if(af==="<"){ad.validValues=k(ac,"?")}}if(W.test(ah)){S.attributePatterns=S.attributePatterns||[];ad.pattern=s(ah);S.attributePatterns.push(ad)}else{if(!Y[ah]){T.push(ah)}Y[ah]=ad}}}}if(!ab&&Z=="@"){ab=Y;R=T}if(O){S.outputName=Z;D[O]=S}if(W.test(Z)){S.pattern=s(Z);t.push(S)}else{D[Z]=S}}}}}function E(O){D={};t=[];M(O);o(I,function(Q,P){u[P]=Q.children})}function w(P){var O=/^(~)?(.+)$/;if(P){j.text_block_elements=j.block_elements=null;o(n(P,","),function(U){var S=O.exec(U),T=S[1]==="~",V=T?"span":"div",R=S[2];u[R]=u[V];A[R]=V;if(!T){G[R.toUpperCase()]={};G[R]={}}if(!D[R]){var Q=D[V];Q=l({},Q);delete Q.removeEmptyAttrs;delete Q.removeEmpty;D[R]=Q}o(u,function(W,X){if(W[V]){u[X]=W=l({},u[X]);W[R]=W[V]}})})}}function H(P){var O=/^([+\-]?)(\w+)\[([^\]]+)\]$/;if(P){o(n(P,","),function(T){var S=O.exec(T),Q,R;if(S){R=S[1];if(R){Q=u[S[2]]}else{Q=u[S[2]]={"#comment":{}}}Q=u[S[2]];o(n(S[3],"|"),function(U){if(R==="-"){u[S[2]]=Q=l({},u[S[2]]);delete Q[U]}else{Q[U]={}}})}})}}function L(O){var Q=D[O],P;if(Q){return Q}P=t.length;while(P--){Q=t[P];if(Q.pattern.test(O)){return Q}}}if(!K.valid_elements){o(I,function(P,O){D[O]={attributes:P.attributes,attributesOrder:P.attributesOrder};u[O]=P.children});if(K.schema!="html5"){o(n("strong/b em/i"),function(O){O=n(O,"/");D[O[1]].outputName=O[0]})}D.img.attributesDefault=[{name:"alt",value:""}];o(n("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(O){if(D[O]){D[O].removeEmpty=true}});o(n("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(O){D[O].paddEmpty=true});o(n("span"),function(O){D[O].removeEmptyAttrs=true})}else{E(K.valid_elements)}w(K.custom_elements);H(K.valid_children);M(K.extended_valid_elements);H("+ol[ul|ol],+ul[ul|ol]");if(K.invalid_elements){o(m(K.invalid_elements),function(O){if(D[O]){delete D[O]}})}if(!L("span")){M("span[!data-mce-type|*]")}F.children=u;F.styles=N;F.getBoolAttrs=function(){return C};F.getBlockElements=function(){return G};F.getTextBlockElements=function(){return r};F.getShortEndedElements=function(){return J};F.getSelfClosingElements=function(){return B};F.getNonEmptyElements=function(){return y};F.getWhiteSpaceElements=function(){return z};F.getSpecialElements=function(){return v};F.isValidChild=function(O,Q){var P=u[O];return !!(P&&P[Q])};F.isValid=function(P,O){var R,Q,S=L(P);if(S){if(O){if(S.attributes[O]){return true}R=S.attributePatterns;if(R){Q=R.length;while(Q--){if(R[Q].pattern.test(P)){return true}}}}else{return true}}return false};F.getElementRule=L;F.getCustomElements=function(){return A};F.addValidElements=M;F.setValidElements=E;F.addCustomElements=w;F.addValidChildren=H;F.elements=D}});h("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(j,l,i){var k=i.each;return function(n,p){var m=this;function o(){}n=n||{};m.schema=p=p||new j();if(n.fix_self_closing!==false){n.fix_self_closing=true}k("comment cdata text start end pi doctype".split(" "),function(q){if(q){m[q]=n[q]||o}});m.parse=function(M){var y=this,r,O=0,R,J,I=[],W,Z,K,A;var H,B,V,P,X;var E,x,v,C,ab,Y,N;var ac,U,q;var aa,S,w,L,T,s,F=0;var u=l.decode,G,Q=i.makeMap("src,href");var t=/(java|vb)script:/i;function D(ad){var af,ae;af=I.length;while(af--){if(I[af].name===ad){break}}if(af>=0){for(ae=I.length-1;ae>=af;ae--){ad=I[ae];if(ad.valid){y.end(ad.name)}}I.length=af}}function z(ai,ae,am,ak,aj){var ag,ah,ad=/[\s\u0000-\u001F]+/g;ae=ae.toLowerCase();am=ae in P?ae:u(am||ak||aj||"");if(E&&!H&&ae.indexOf("data-")!==0){ag=Y[ae];if(!ag&&N){ah=N.length;while(ah--){ag=N[ah];if(ag.pattern.test(ae)){break}}if(ah===-1){ag=null}}if(!ag){return}if(ag.validValues&&!(am in ag.validValues)){return}}if(Q[ae]&&!n.allow_script_urls){var af=am.replace(ad,"");try{af=decodeURIComponent(af);if(t.test(af)){return}}catch(al){af=unescape(af);if(t.test(af)){return}}}W.map[ae]=am;W.push({name:ae,value:am})}w=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");L=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;V=p.getShortEndedElements();S=n.self_closing_elements||p.getSelfClosingElements();P=p.getBoolAttrs();E=n.validate;B=n.remove_internals;G=n.fix_self_closing;T=p.getSpecialElements();while((r=w.exec(M))){if(O<r.index){y.text(u(M.substr(O,r.index-O)))}if((R=r[6])){R=R.toLowerCase();if(R.charAt(0)===":"){R=R.substr(1)}D(R)}else{if((R=r[7])){R=R.toLowerCase();if(R.charAt(0)===":"){R=R.substr(1)}X=R in V;if(G&&S[R]&&I.length>0&&I[I.length-1].name===R){D(R)}if(!E||(x=p.getElementRule(R))){v=true;if(E){Y=x.attributes;N=x.attributePatterns}if((ab=r[8])){H=ab.indexOf("data-mce-type")!==-1;if(H&&B){v=false}W=[];W.map={};ab.replace(L,z)}else{W=[];W.map={}}if(E&&!H){ac=x.attributesRequired;U=x.attributesDefault;q=x.attributesForced;aa=x.removeEmptyAttrs;if(aa&&!W.length){v=false}if(q){Z=q.length;while(Z--){C=q[Z];A=C.name;s=C.value;if(s==="{$uid}"){s="mce_"+F++}W.map[A]=s;W.push({name:A,value:s})}}if(U){Z=U.length;while(Z--){C=U[Z];A=C.name;if(!(A in W.map)){s=C.value;if(s==="{$uid}"){s="mce_"+F++}W.map[A]=s;W.push({name:A,value:s})}}}if(ac){Z=ac.length;while(Z--){if(ac[Z] in W.map){break}}if(Z===-1){v=false}}if(W.map["data-mce-bogus"]){v=false}}if(v){y.start(R,W,X)}}else{v=false}if((J=T[R])){J.lastIndex=O=r.index+r[0].length;if((r=J.exec(M))){if(v){K=M.substr(O,r.index-O)}O=r.index+r[0].length}else{K=M.substr(O);O=M.length}if(v){if(K.length>0){y.text(K,true)}y.end(R)}w.lastIndex=O;continue}if(!X){if(!ab||ab.indexOf("/")!=ab.length-1){I.push({name:R,valid:v})}else{if(v){y.end(R)}}}}else{if((R=r[1])){if(R.charAt(0)===">"){R=" "+R}if(!n.allow_conditional_comments&&R.substr(0,3)==="[if"){R=" "+R}y.comment(R)}else{if((R=r[2])){y.cdata(R)}else{if((R=r[3])){y.doctype(R)}else{if((R=r[4])){y.pi(R,r[5])}}}}}}O=r.index+r[0].length}if(O<M.length){y.text(u(M.substr(O)))}for(Z=I.length-1;Z>=0;Z--){R=I[Z];if(R.valid){y.end(R.name)}}}}});h("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(k,m,i,j){var n=j.makeMap,o=j.each,l=j.explode,p=j.extend;return function(u,v){var t=this,s={},r=[],w={},q={};u=u||{};u.validate="validate" in u?u.validate:true;u.root_name=u.root_name||"body";t.schema=v=v||new m();function x(B){var D,E,K,J,M,C,F,z,I;var y,H,A,L,G;H=n("tr,td,th,tbody,thead,tfoot,table");y=v.getNonEmptyElements();A=v.getTextBlockElements();for(D=0;D<B.length;D++){E=B[D];if(!E.parent||E.fixed){continue}if(A[E.name]&&E.parent.name=="li"){L=E.next;while(L){if(A[L.name]){L.name="li";L.fixed=true;E.parent.insert(L,E.parent)}else{break}L=L.next}E.unwrap(E);continue}J=[E];for(K=E.parent;K&&!v.isValidChild(K.name,E.name)&&!H[K.name];K=K.parent){J.push(K)}if(K&&J.length>1){J.reverse();M=C=t.filterNode(J[0].clone());for(I=0;I<J.length-1;I++){if(v.isValidChild(C.name,J[I].name)){F=t.filterNode(J[I].clone());C.append(F)}else{F=C}for(z=J[I].firstChild;z&&z!=J[I+1];){G=z.next;F.append(z);z=G}C=F}if(!M.isEmpty(y)){K.insert(M,J[0],true);K.insert(E,M)}else{K.insert(E,J[0],true)}K=J[0];if(K.isEmpty(y)||K.firstChild===K.lastChild&&K.firstChild.name==="br"){K.empty().remove()}}else{if(E.parent){if(E.name==="li"){L=E.prev;if(L&&(L.name==="ul"||L.name==="ul")){L.append(E);continue}L=E.next;if(L&&(L.name==="ul"||L.name==="ul")){L.insert(E,L.firstChild,true);continue}E.wrap(t.filterNode(new k("ul",1)));continue}if(v.isValidChild(E.parent.name,"div")&&v.isValidChild("div",E.name)){E.wrap(t.filterNode(new k("div",1)))}else{if(E.name==="style"||E.name==="script"){E.empty().remove()}else{E.unwrap()}}}}}}t.filterNode=function(A){var z,y,B;if(y in s){B=w[y];if(B){B.push(A)}else{w[y]=[A]}}z=r.length;while(z--){y=r[z].name;if(y in A.attributes.map){B=q[y];if(B){B.push(A)}else{q[y]=[A]}}}return A};t.addNodeFilter=function(y,z){o(l(y),function(A){var B=s[A];if(!B){s[A]=B=[]}B.push(z)})};t.addAttributeFilter=function(y,z){o(l(y),function(A){var B;for(B=0;B<r.length;B++){if(r[B].name===A){r[B].callbacks.push(z);return}}r.push({name:A,callbacks:[z]})})};t.parse=function(I,z){var A,V,N,M,P,O,J,E,R,Z,L;var B,Q,Y=[],X;var G,y,K,F;var C,H,D;z=z||{};w={};q={};B=p(n("script,style,head,html,body,title,meta,param"),v.getBlockElements());H=v.getNonEmptyElements();C=v.children;L=u.validate;D="forced_root_block" in z?z.forced_root_block:u.forced_root_block;F=v.getWhiteSpaceElements();Q=/^[ \t\r\n]+/;G=/[ \t\r\n]+$/;y=/[ \t\r\n]+/g;K=/^[ \t\r\n]+$/;function S(){var ac=V.firstChild,ab,ad;function aa(ae){if(ae){ac=ae.firstChild;if(ac&&ac.type==3){ac.value=ac.value.replace(Q,"")}ac=ae.lastChild;if(ac&&ac.type==3){ac.value=ac.value.replace(G,"")}}}if(!v.isValidChild(V.name,D.toLowerCase())){return}while(ac){ab=ac.next;if(ac.type==3||(ac.type==1&&ac.name!=="p"&&!B[ac.name]&&!ac.attr("data-mce-type"))){if(!ad){ad=W(D,1);ad.attr(u.forced_root_block_attrs);V.insert(ad,ac);ad.append(ac)}else{ad.append(ac)}}else{aa(ad);ad=null}ac=ab}aa(ad)}function W(aa,ab){var ac=new k(aa,ab),ad;if(aa in s){ad=w[aa];if(ad){ad.push(ac)}else{w[aa]=[ac]}}return ac}function U(ac){var ad,aa,ab;for(ad=ac.prev;ad&&ad.type===3;){aa=ad.value.replace(G,"");if(aa.length>0){ad.value=aa;ad=ad.prev}else{ab=ad.prev;ad.remove();ad=ab}}}function T(ab){var ac,aa={};for(ac in ab){if(ac!=="li"&&ac!="p"){aa[ac]=ab[ac]}}return aa}A=new i({validate:L,allow_script_urls:u.allow_script_urls,allow_conditional_comments:u.allow_conditional_comments,self_closing_elements:T(v.getSelfClosingElements()),cdata:function(aa){N.append(W("#cdata",4)).value=aa},text:function(ac,aa){var ab;if(!X){ac=ac.replace(y," ");if(N.lastChild&&B[N.lastChild.name]){ac=ac.replace(Q,"")}}if(ac.length!==0){ab=W("#text",3);ab.raw=!!aa;N.append(ab).value=ac}},comment:function(aa){N.append(W("#comment",8)).value=aa},pi:function(aa,ab){N.append(W(aa,7)).value=ab;U(N)},doctype:function(ab){var aa;aa=N.append(W("#doctype",10));aa.value=ab;U(N)},start:function(ac,ab,ah){var ae,aa,ag,ad,af;ag=L?v.getElementRule(ac):{};if(ag){ae=W(ag.outputName||ac,1);ae.attributes=ab;ae.shortEnded=ah;N.append(ae);af=C[N.name];if(af&&C[ae.name]&&!af[ae.name]){Y.push(ae)}aa=r.length;while(aa--){ad=r[aa].name;if(ad in ab.map){R=q[ad];if(R){R.push(ae)}else{q[ad]=[ae]}}}if(B[ac]){U(ae)}if(!ah){N=ae}if(!X&&F[ac]){X=true}}},end:function(aa){var af,ac,ae,ab,ad;ac=L?v.getElementRule(aa):{};if(ac){if(B[aa]){if(!X){af=N.firstChild;if(af&&af.type===3){ae=af.value.replace(Q,"");if(ae.length>0){af.value=ae;af=af.next}else{ab=af.next;af.remove();af=ab;while(af&&af.type===3){ae=af.value;ab=af.next;if(ae.length===0||K.test(ae)){af.remove();af=ab}af=ab}}}af=N.lastChild;if(af&&af.type===3){ae=af.value.replace(G,"");if(ae.length>0){af.value=ae;af=af.prev}else{ab=af.prev;af.remove();af=ab;while(af&&af.type===3){ae=af.value;ab=af.prev;if(ae.length===0||K.test(ae)){af.remove();af=ab}af=ab}}}}}if(X&&F[aa]){X=false}if(ac.removeEmpty||ac.paddEmpty){if(N.isEmpty(H)){if(ac.paddEmpty){N.empty().append(new k("#text","3")).value="\u00a0"}else{if(!N.attributes.map.name&&!N.attributes.map.id){ad=N.parent;N.empty().remove();N=ad;return}}}}N=N.parent}}},v);V=N=new k(z.context||u.root_name,11);A.parse(I);if(L&&Y.length){if(!z.context){x(Y)}else{z.invalid=true}}if(D&&(V.name=="body"||z.isRootContent)){S()}if(!z.invalid){for(Z in w){R=s[Z];M=w[Z];J=M.length;while(J--){if(!M[J].parent){M.splice(J,1)}}for(P=0,O=R.length;P<O;P++){R[P](M,Z,z)}}for(P=0,O=r.length;P<O;P++){R=r[P];if(R.name in q){M=q[R.name];J=M.length;while(J--){if(!M[J].parent){M.splice(J,1)}}for(J=0,E=R.callbacks.length;J<E;J++){R.callbacks[J](M,R.name,z)}}}}return V};if(u.remove_trailing_brs){t.addNodeFilter("br",function(z){var E,D=z.length,A,J=p({},v.getBlockElements());var y=v.getNonEmptyElements(),H,F,C,I;var G,B;J.body=1;for(E=0;E<D;E++){A=z[E];H=A.parent;if(J[A.parent.name]&&A===H.lastChild){C=A.prev;while(C){I=C.name;if(I!=="span"||C.attr("data-mce-type")!=="bookmark"){if(I!=="br"){break}if(I==="br"){A=null;break}}C=C.prev}if(A){A.remove();if(H.isEmpty(y)){G=v.getElementRule(H.name);if(G){if(G.removeEmpty){H.remove()}else{if(G.paddEmpty){H.empty().append(new k("#text",3)).value="\u00a0"}}}}}}else{F=A;while(H&&H.firstChild===F&&H.lastChild===F){F=H;if(J[H.name]){break}H=H.parent}if(F===H){B=new k("#text",3);B.value="\u00a0";A.replace(B)}}}})}if(!u.allow_html_in_named_anchor){t.addAttributeFilter("id,name",function(y){var A=y.length,C,z,B,D;while(A--){D=y[A];if(D.name==="a"&&D.firstChild&&!D.attr("href")){B=D.parent;C=D.lastChild;do{z=C.prev;B.insert(C,D);C=z}while(C)}}})}}});h("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(k,i){var j=i.makeMap;return function(p){var n=[],l,m,o,q,r;p=p||{};l=p.indent;m=j(p.indent_before||"");o=j(p.indent_after||"");q=k.getEncodeFunc(p.entity_encoding||"raw",p.entities);r=p.element_format=="html";return{start:function(v,u,y){var w,t,s,x;if(l&&m[v]&&n.length>0){x=n[n.length-1];if(x.length>0&&x!=="\n"){n.push("\n")}}n.push("<",v);if(u){for(w=0,t=u.length;w<t;w++){s=u[w];n.push(" ",s.name,'="',q(s.value,true),'"')}}if(!y||r){n[n.length]=">"}else{n[n.length]=" />"}if(y&&l&&o[v]&&n.length>0){x=n[n.length-1];if(x.length>0&&x!=="\n"){n.push("\n")}}},end:function(s){var t;n.push("</",s,">");if(l&&o[s]&&n.length>0){t=n[n.length-1];if(t.length>0&&t!=="\n"){n.push("\n")}}},text:function(t,s){if(t.length>0){n[n.length]=s?t:q(t)}},cdata:function(s){n.push("<![CDATA[",s,"]]>")},comment:function(s){n.push("<!--",s,"-->")},pi:function(s,t){if(t){n.push("<?",s," ",t,"?>")}else{n.push("<?",s,"?>")}if(l){n.push("\n")}},doctype:function(s){n.push("<!DOCTYPE",s,">",l?"\n":"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}}});h("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(j,i){return function(l,m){var k=this,n=new j(l);l=l||{};l.validate="validate" in l?l.validate:true;k.schema=m=m||new i();k.writer=n;k.serialize=function(q){var p,r;r=l.validate;p={3:function(s){n.text(s.value,s.raw)},8:function(s){n.comment(s.value)},7:function(s){n.pi(s.name,s.value)},10:function(s){n.doctype(s.value)},4:function(s){n.cdata(s.value)},11:function(s){if((s=s.firstChild)){do{o(s)}while((s=s.next))}}};n.reset();function o(t){var B=p[t.type],s,w,A,z,x,C,v,u,y;if(!B){s=t.name;w=t.shortEnded;A=t.attributes;if(r&&A&&A.length>1){C=[];C.map={};y=m.getElementRule(t.name);for(v=0,u=y.attributesOrder.length;v<u;v++){z=y.attributesOrder[v];if(z in A.map){x=A.map[z];C.map[z]=x;C.push({name:z,value:x})}}for(v=0,u=A.length;v<u;v++){z=A[v].name;if(!(z in C.map)){x=A.map[z];C.map[z]=x;C.push({name:z,value:x})}}A=C}n.start(t.name,A,w);if(!w){if((t=t.firstChild)){do{o(t)}while((t=t.next))}n.end(s)}}else{B(t)}}if(q.type==1&&!l.inner){o(q)}else{p[11](q)}return n.getContent()}}});h("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools"],function(p,s,j,o,m,l,n,k){var q=k.each,i=k.trim;var r=p.DOM;return function(v,u){var x,w,t;if(u){x=u.dom;w=u.schema}x=x||r;w=w||new l(v);v.entity_encoding=v.entity_encoding||"named";v.remove_trailing_brs="remove_trailing_brs" in v?v.remove_trailing_brs:true;t=new s(v,w);t.addAttributeFilter("data-mce-tabindex",function(y,z){var A=y.length,B;while(A--){B=y[A];B.attr("tabindex",B.attributes.map["data-mce-tabindex"]);B.attr(z,null)}});t.addAttributeFilter("src,href,style",function(z,y){var D=z.length,A,F,C="data-mce-"+y;var E=v.url_converter,G=v.url_converter_scope,B;while(D--){A=z[D];F=A.attributes.map[C];if(F!==B){A.attr(y,F.length>0?F:null);A.attr(C,null)}else{F=A.attributes.map[y];if(y==="style"){F=x.serializeStyle(x.parseStyle(F),A.name)}else{if(E){F=E.call(G,F,y,A.name)}}A.attr(y,F.length>0?F:null)}}});t.addAttributeFilter("class",function(y){var z=y.length,A,B;while(z--){A=y[z];B=A.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"");A.attr("class",B.length>0?B:null)}});t.addAttributeFilter("data-mce-type",function(y,A,z){var B=y.length,C;while(B--){C=y[B];if(C.attributes.map["data-mce-type"]==="bookmark"&&!z.cleanup){C.remove()}}});t.addAttributeFilter("data-mce-expando",function(y,z){var A=y.length;while(A--){y[A].attr(z,null)}});t.addNodeFilter("noscript",function(y){var z=y.length,A;while(z--){A=y[z].firstChild;if(A){A.value=j.decode(A.value)}}});t.addNodeFilter("script,style",function(z,A){var B=z.length,D,E;function y(F){return F.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}while(B--){D=z[B];E=D.firstChild?D.firstChild.value:"";if(A==="script"){var C=(D.attr("type")||"text/javascript").replace(/^mce\-/,"");D.attr("type",C==="text/javascript"?null:C);if(E.length>0){D.firstChild.value="// <![CDATA[\n"+y(E)+"\n// ]]>"}}else{if(E.length>0){D.firstChild.value="<!--\n"+y(E)+"\n-->"}}}});t.addNodeFilter("#comment",function(y){var z=y.length,A;while(z--){A=y[z];if(A.value.indexOf("[CDATA[")===0){A.name="#cdata";A.type=4;A.value=A.value.replace(/^\[CDATA\[|\]\]$/g,"")}else{if(A.value.indexOf("mce:protected ")===0){A.name="#text";A.type=3;A.raw=true;A.value=unescape(A.value).substr(14)}}}});t.addNodeFilter("xml:namespace,input",function(y,z){var A=y.length,B;while(A--){B=y[A];if(B.type===7){B.remove()}else{if(B.type===1){if(z==="input"&&!("type" in B.attributes.map)){B.attr("type","text")}}}}});if(v.fix_list_elements){t.addNodeFilter("ul,ol",function(z){var A=z.length,B,y;while(A--){B=z[A];y=B.parent;if(y.name==="ul"||y.name==="ol"){if(B.prev&&B.prev.name==="li"){B.prev.append(B)}}}})}t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(y,z){var A=y.length;while(A--){y[A].attr(z,null)}});return{schema:w,addNodeFilter:t.addNodeFilter,addAttributeFilter:t.addAttributeFilter,serialize:function(E,C){var B=this,A,F,z,y,D;if(n.ie&&x.select("script,style,select,map").length>0){D=E.innerHTML;E=E.cloneNode(false);x.setHTML(E,D)}else{E=E.cloneNode(true)}A=E.ownerDocument.implementation;if(A.createHTMLDocument){F=A.createHTMLDocument("");q(E.nodeName=="BODY"?E.childNodes:[E],function(G){F.body.appendChild(F.importNode(G,true))});if(E.nodeName!="BODY"){E=F.body.firstChild}else{E=F.body}z=x.doc;x.doc=F}C=C||{};C.format=C.format||"html";if(C.selection){C.forced_root_block=""}if(!C.no_events){C.node=E;B.onPreProcess(C)}y=new o(v,w);C.content=y.serialize(t.parse(i(C.getInner?E.innerHTML:x.getOuterHTML(E)),C));if(!C.cleanup){C.content=C.content.replace(/\uFEFF/g,"")}if(!C.no_events){B.onPostProcess(C)}if(z){x.doc=z}C.node=null;return C.content},addRules:function(y){w.addValidElements(y)},setRules:function(y){w.setValidElements(y)},onPreProcess:function(y){if(u){u.fire("PreProcess",y)}},onPostProcess:function(y){if(u){u.fire("PostProcess",y)}}}}});h("tinymce/dom/TridentSelection",[],function(){function i(k){var j=this,o=k.dom,m=false;function l(p,q){var r,A=0,x,u,t,s,v,y,w=-1,z;r=p.duplicate();r.collapse(q);z=r.parentElement();if(z.ownerDocument!==k.dom.doc){return}while(z.contentEditable==="false"){z=z.parentNode}if(!z.hasChildNodes()){return{node:z,inside:1}}t=z.children;x=t.length-1;while(A<=x){y=Math.floor((A+x)/2);s=t[y];r.moveToElementText(s);w=r.compareEndPoints(q?"StartToStart":"EndToEnd",p);if(w>0){x=y-1}else{if(w<0){A=y+1}else{return{node:s}}}}if(w<0){if(!s){r.moveToElementText(z);r.collapse(true);s=z;u=true}else{r.collapse(false)}v=0;while(r.compareEndPoints(q?"StartToStart":"StartToEnd",p)!==0){if(r.move("character",1)===0||z!=r.parentElement()){break}v++}}else{r.collapse(true);v=0;while(r.compareEndPoints(q?"StartToStart":"StartToEnd",p)!==0){if(r.move("character",-1)===0||z!=r.parentElement()){break}v++}}return{node:s,position:w,offset:v,inside:u}}function n(){var p=k.getRng(),x=o.createRng(),r,q,v,w,s;r=p.item?p.item(0):p.parentElement();if(r.ownerDocument!=o.doc){return x}q=k.isCollapsed();if(p.item){x.setStart(r.parentNode,o.nodeIndex(r));x.setEnd(x.startContainer,x.startOffset+1);return x}function u(F){var A=l(p,F),y,D,E=0,C,B,z;y=A.node;D=A.offset;if(A.inside&&!y.hasChildNodes()){x[F?"setStart":"setEnd"](y,0);return}if(D===B){x[F?"setStartBefore":"setEndAfter"](y);return}if(A.position<0){C=A.inside?y.firstChild:y.nextSibling;if(!C){x[F?"setStartAfter":"setEndAfter"](y);return}if(!D){if(C.nodeType==3){x[F?"setStart":"setEnd"](C,0)}else{x[F?"setStartBefore":"setEndBefore"](C)}return}while(C){z=C.nodeValue;E+=z.length;if(E>=D){y=C;E-=D;E=z.length-E;break}C=C.nextSibling}}else{C=y.previousSibling;if(!C){return x[F?"setStartBefore":"setEndBefore"](y)}if(!D){if(y.nodeType==3){x[F?"setStart":"setEnd"](C,y.nodeValue.length)}else{x[F?"setStartAfter":"setEndAfter"](C)}return}while(C){E+=C.nodeValue.length;if(E>=D){y=C;E-=D;break}C=C.previousSibling}}x[F?"setStart":"setEnd"](y,E)}try{u(true);if(!q){u()}}catch(t){if(t.number==-2147024809){s=j.getBookmark(2);v=p.duplicate();v.collapse(true);r=v.parentElement();if(!q){v=p.duplicate();v.collapse(false);w=v.parentElement();w.innerHTML=w.innerHTML}r.innerHTML=r.innerHTML;j.moveToBookmark(s);p=k.getRng();u(true);if(!q){u()}}else{throw t}}return x}this.getBookmark=function(s){var p=k.getRng(),r={};function t(z){var y,u,x,w,v=[];y=z.parentNode;u=o.getRoot().parentNode;while(y!=u&&y.nodeType!==9){x=y.children;w=x.length;while(w--){if(z===x[w]){v.push(w);break}}z=y;y=y.parentNode}return v}function q(v){var u;u=l(p,v);if(u){return{position:u.position,offset:u.offset,indexes:t(u.node),inside:u.inside}}}if(s===2){if(!p.item){r.start=q(true);if(!k.isCollapsed()){r.end=q()}}else{r.start={ctrl:true,indexes:t(p.item(0))}}}return r};this.moveToBookmark=function(r){var q,p=o.doc.body;function t(v){var y,x,u,w;y=o.getRoot();for(x=v.length-1;x>=0;x--){w=y.children;u=v[x];if(u<=w.length-1){y=w[u]}}return y}function s(z){var u=r[z?"start":"end"],x,w,v,y;if(u){x=u.position>0;w=p.createTextRange();w.moveToElementText(t(u.indexes));y=u.offset;if(y!==v){w.collapse(u.inside||x);w.moveStart("character",x?-y:y)}else{w.collapse(z)}q.setEndPoint(z?"StartToStart":"EndToStart",w);if(z){q.collapse(true)}}}if(r.start){if(r.start.ctrl){q=p.createControlRange();q.addElement(t(r.start.indexes));q.select()}else{q=p.createTextRange();s(true);s();q.select()}}};this.addRange=function(p){var u,s,r,w,C,x,A,z=k.dom.doc,t=z.body,y,B;function q(I){var E,H,D,G,F;D=o.create("a");E=I?r:C;H=I?w:x;G=u.duplicate();if(E==z||E==z.documentElement){E=t;H=0}if(E.nodeType==3){E.parentNode.insertBefore(D,E);G.moveToElementText(D);G.moveStart("character",H);o.remove(D);u.setEndPoint(I?"StartToStart":"EndToEnd",G)}else{F=E.childNodes;if(F.length){if(H>=F.length){o.insertAfter(D,F[F.length-1])}else{E.insertBefore(D,F[H])}G.moveToElementText(D)}else{if(E.canHaveHTML){E.innerHTML="<span>&#xFEFF;</span>";D=E.firstChild;G.moveToElementText(D);G.collapse(m)}}u.setEndPoint(I?"StartToStart":"EndToEnd",G);o.remove(D)}}r=p.startContainer;w=p.startOffset;C=p.endContainer;x=p.endOffset;u=t.createTextRange();if(r==C&&r.nodeType==1){if(w==x&&!r.hasChildNodes()){if(r.canHaveHTML){A=r.previousSibling;if(A&&!A.hasChildNodes()&&o.isBlock(A)){A.innerHTML="&#xFEFF;"}else{A=null}r.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";u.moveToElementText(r.lastChild);u.select();o.doc.selection.clear();r.innerHTML="";if(A){A.innerHTML=""}return}else{w=o.nodeIndex(r);r=r.parentNode}}if(w==x-1){try{B=r.childNodes[w];s=t.createControlRange();s.addElement(B);s.select();y=k.getRng();if(y.item&&B===y.item(0)){return}}catch(v){}}}q(true);q();u.select()};this.getRangeAt=n}return i});h("tinymce/util/VK",["tinymce/Env"],function(i){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(j){return j.shiftKey||j.ctrlKey||j.altKey},metaKeyPressed:function(j){return(i.mac?j.metaKey:j.ctrlKey)&&!j.altKey}}});h("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(k,j,i){return function(x,m){var n=m.dom,O=j.each;var u,W,L,U,S;var B,z,I,H,C,F,M,q;var l,o,v=m.getDoc(),T=document,t=i.ie&&i.ie<11;L={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var A=".mce-content-body";m.contentStyles.push(A+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+A+" .mce-resizehandle:hover {background: #000}"+A+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+A+" .mce-clonedresizable {position: absolute;"+(i.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}");function P(Y){var X=m.settings.object_resizing;if(X===false||i.iOS){return false}if(typeof X!="string"){X="table,img,div"}if(Y.getAttribute("data-mce-resize")==="false"){return false}return m.dom.is(Y,X)}function p(Z){var Y,X;Y=Z.screenX-B;X=Z.screenY-z;l=Y*U[2]+C;o=X*U[3]+F;l=l<5?5:l;o=o<5?5:o;if(k.modifierPressed(Z)||(u.nodeName=="IMG"&&U[2]*U[3]!==0)){l=Math.round(o/M);o=Math.round(l*M)}n.setStyles(W,{width:l,height:o});if(U[2]<0&&W.clientWidth<=l){n.setStyle(W,"left",I+(C-l))}if(U[3]<0&&W.clientHeight<=o){n.setStyle(W,"top",H+(F-o))}if(!q){m.fire("ObjectResizeStart",{target:u,width:C,height:F});q=true}}function K(){q=false;function X(Y,Z){if(Z){if(u.style[Y]||!m.schema.isValid(u.nodeName.toLowerCase(),Y)){n.setStyle(u,Y,Z)}else{n.setAttrib(u,Y,Z)}}}X("width",l);X("height",o);n.unbind(v,"mousemove",p);n.unbind(v,"mouseup",K);if(T!=v){n.unbind(T,"mousemove",p);n.unbind(T,"mouseup",K)}n.remove(W);if(!t||u.nodeName=="TABLE"){G(u)}m.fire("ObjectResized",{target:u,width:l,height:o});m.nodeChanged()}function G(af,ac,Y){var Z,ae,aa,ab,ad,X=m.getBody();V();Z=n.getPos(af,X);I=Z.x;H=Z.y;ad=af.getBoundingClientRect();ae=ad.width||(ad.right-ad.left);aa=ad.height||(ad.bottom-ad.top);if(u!=af){Q();u=af;l=o=0}ab=m.fire("ObjectSelected",{target:af});if(P(af)&&!ab.isDefaultPrevented()){O(L,function(aj,ah){var ai,ak;function ag(al){B=al.screenX;z=al.screenY;C=u.clientWidth;F=u.clientHeight;M=F/C;U=aj;W=u.cloneNode(true);n.addClass(W,"mce-clonedresizable");W.contentEditable=false;W.unSelectabe=true;n.setStyles(W,{left:I,top:H,margin:0});W.removeAttribute("data-mce-selected");m.getBody().appendChild(W);n.bind(v,"mousemove",p);n.bind(v,"mouseup",K);if(T!=v){n.bind(T,"mousemove",p);n.bind(T,"mouseup",K)}}if(ac){if(ah==ac){ag(Y)}return}ai=n.get("mceResizeHandle"+ah);if(!ai){ak=m.getBody();ai=n.add(ak,"div",{id:"mceResizeHandle"+ah,"data-mce-bogus":true,"class":"mce-resizehandle",unselectable:true,style:"cursor:"+ah+"-resize; margin:0; padding:0"});if(i.ie){ai.contentEditable=false}}else{n.show(ai)}if(!aj.elm){n.bind(ai,"mousedown",function(al){al.stopImmediatePropagation();al.preventDefault();ag(al)});aj.elm=ai}n.setStyles(ai,{left:(ae*aj[0]+I)-(ai.offsetWidth/2),top:(aa*aj[1]+H)-(ai.offsetHeight/2)})})}else{D()}u.setAttribute("data-mce-selected","1")}function D(){var X,Y;V();if(u){u.removeAttribute("data-mce-selected")}for(X in L){Y=n.get("mceResizeHandle"+X);if(Y){n.unbind(Y);n.remove(Y)}}}function E(Z){var X;function Y(ab,aa){if(ab){do{if(ab===aa){return true}}while((ab=ab.parentNode))}}O(n.select("img[data-mce-selected],hr[data-mce-selected]"),function(aa){aa.removeAttribute("data-mce-selected")});X=Z.type=="mousedown"?Z.target:x.getNode();X=n.getParent(X,t?"table":"table,img,hr");if(Y(X,m.getBody())){J();if(Y(x.getStart(),X)&&Y(x.getEnd(),X)){if(!t||(X!=x.getStart()&&x.getStart().nodeName!=="IMG")){G(X);return}}}D()}function r(Z,X,Y){if(Z&&Z.attachEvent){Z.attachEvent("on"+X,Y)}}function y(Z,X,Y){if(Z&&Z.detachEvent){Z.detachEvent("on"+X,Y)}}function w(Z){var aa=Z.srcElement,ae,X,af,ad,ab,ac,Y;ae=aa.getBoundingClientRect();ac=S.clientX-ae.left;Y=S.clientY-ae.top;for(X in L){af=L[X];ad=aa.offsetWidth*af[0];ab=aa.offsetHeight*af[1];if(Math.abs(ad-ac)<8&&Math.abs(ab-Y)<8){U=af;break}}q=true;m.getDoc().selection.empty();G(aa,X,S)}function R(Y){var X=Y.srcElement;if(X!=u){Q();if(X.id.indexOf("mceResizeHandle")===0){Y.returnValue=false;return}if(X.nodeName=="IMG"||X.nodeName=="TABLE"){D();u=X;r(X,"resizestart",w)}}}function Q(){y(u,"resizestart",w)}function V(){for(var X in L){var Y=L[X];if(Y.elm){n.unbind(Y.elm);delete Y.elm}}}function J(){try{m.getDoc().execCommand("enableObjectResizing",false,false)}catch(X){}}function s(Z){var Y;if(!t){return}Y=v.body.createControlRange();try{Y.addElement(Z);Y.select();return true}catch(X){}}m.on("init",function(){if(t){m.on("ObjectResized",function(X){if(X.target.nodeName!="TABLE"){D();s(X.target)}});r(m.getBody(),"controlselect",R);m.on("mousedown",function(X){S=X})}else{J();if(i.ie>=11){m.on("mouseup",function(X){var Y=X.target.nodeName;if(/^(TABLE|IMG|HR)$/.test(Y)){m.selection.select(X.target,Y=="TABLE");m.nodeChanged()}});m.dom.bind(m.getBody(),"mscontrolselect",function(X){if(/^(TABLE|IMG|HR)$/.test(X.target.nodeName)){X.preventDefault();if(X.target.tagName=="IMG"){window.setTimeout(function(){m.selection.select(X.target)},0)}}})}}m.on("nodechange mousedown mouseup ResizeEditor",E);m.on("keydown keyup",function(X){if(u&&u.nodeName=="TABLE"){E(X)}})});m.on("remove",V);function N(){u=W=null;if(t){Q();y(m.getBody(),"controlselect",R)}}return{isResizable:P,showResizeRect:G,hideResizeRect:D,updateResizeRect:E,controlSelect:s,destroy:N}}});h("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker"],function(i,j){var l=i.each;function k(m){this.walk=function(n,C){var s=n.startContainer,v=n.startOffset,D=n.endContainer,w=n.endOffset,t,q,y,r,B,A,o;o=m.select("td.mce-item-selected,th.mce-item-selected");if(o.length>0){l(o,function(E){C([E])});return}function p(E){var F;F=E[0];if(F.nodeType===3&&F===s&&v>=F.nodeValue.length){E.splice(0,1)}F=E[E.length-1];if(w===0&&E.length>0&&F===D&&F.nodeType===3){E.splice(E.length-1,1)}return E}function z(G,F,E){var H=[];for(;G&&G!=E;G=G[F]){H.push(G)}return H}function x(F,E){do{if(F.parentNode==E){return F}F=F.parentNode}while(F)}function u(G,F,H){var E=H?"nextSibling":"previousSibling";for(r=G,B=r.parentNode;r&&r!=F;r=B){B=r.parentNode;A=z(r==G?r:r[E],E);if(A.length){if(!H){A.reverse()}C(p(A))}}}if(s.nodeType==1&&s.hasChildNodes()){s=s.childNodes[v]}if(D.nodeType==1&&D.hasChildNodes()){D=D.childNodes[Math.min(w-1,D.childNodes.length-1)]}if(s==D){return C(p([s]))}t=m.findCommonAncestor(s,D);for(r=s;r;r=r.parentNode){if(r===D){return u(s,t,true)}if(r===t){break}}for(r=D;r;r=r.parentNode){if(r===s){return u(D,t)}if(r===t){break}}q=x(s,t)||s;y=x(D,t)||D;u(s,q,true);A=z(q==s?q:q.nextSibling,"nextSibling",y==D?y.nextSibling:y);if(A.length){C(p(A))}u(D,y)};this.split=function(o){var r=o.startContainer,n=o.startOffset,s=o.endContainer,q=o.endOffset;function p(t,u){return t.splitText(u)}if(r==s&&r.nodeType==3){if(n>0&&n<r.nodeValue.length){s=p(r,n);r=s.previousSibling;if(q>n){q=q-n;r=s=p(s,q).previousSibling;q=s.nodeValue.length;n=0}else{q=0}}}else{if(r.nodeType==3&&n>0&&n<r.nodeValue.length){r=p(r,n);n=0}if(s.nodeType==3&&q>0&&q<s.nodeValue.length){s=p(s,q).previousSibling;q=s.nodeValue.length}}return{startContainer:r,startOffset:n,endContainer:s,endOffset:q}};this.normalize=function(n){var q,p;function o(t){var s,w,r,y=m.getRoot(),u,x;var A,v;function C(D,E){var F=new j(D,m.getParent(D.parentNode,m.isBlock)||y);while((D=F[E?"prev":"next"]())){if(D.nodeName==="BR"){return true}}}function z(E,D){return E.previousSibling&&E.previousSibling.nodeName==D}function B(G,D){var H,E,F;D=D||s;F=m.getParent(D.parentNode,m.isBlock)||y;if(G&&D.nodeName=="BR"&&v&&m.isEmpty(F)){s=D.parentNode;w=m.nodeIndex(D);q=true;return}H=new j(D,F);while((u=H[G?"prev":"next"]())){if(u.nodeType===3&&u.nodeValue.length>0){s=u;w=G?u.nodeValue.length:0;q=true;return}if(m.isBlock(u)||x[u.nodeName.toLowerCase()]){return}E=u}if(p&&E){s=E;q=true;w=0}}s=n[(t?"start":"end")+"Container"];w=n[(t?"start":"end")+"Offset"];v=s.nodeType==1&&w===s.childNodes.length;x=m.schema.getNonEmptyElements();A=t;if(s.nodeType==1&&w>s.childNodes.length-1){A=false}if(s.nodeType===9){s=m.getRoot();w=0}if(s===y){if(A){u=s.childNodes[w>0?w-1:0];if(u){if(x[u.nodeName]||u.nodeName=="TABLE"){return}}}if(s.hasChildNodes()){w=Math.min(!A&&w>0?w-1:w,s.childNodes.length-1);s=s.childNodes[w];w=0;if(s.hasChildNodes()&&!/TABLE/.test(s.nodeName)){u=s;r=new j(s,y);do{if(u.nodeType===3&&u.nodeValue.length>0){w=A?0:u.nodeValue.length;s=u;q=true;break}if(x[u.nodeName.toLowerCase()]){w=m.nodeIndex(u);s=u.parentNode;if(u.nodeName=="IMG"&&!A){w++}q=true;break}}while((u=(A?r.next():r.prev())))}}}if(p){if(s.nodeType===3&&w===0){B(true)}if(s.nodeType===1){u=s.childNodes[w];if(!u){u=s.childNodes[w-1]}if(u&&u.nodeName==="BR"&&!z(u,"A")&&!C(u)&&!C(u,true)){B(true,u)}}}if(A&&!p&&s.nodeType===3&&w===s.nodeValue.length){B(false)}if(q){n["set"+(t?"Start":"End")](s,w)}}p=n.collapsed;o(true);if(!p){o()}if(q&&p){n.collapse(true)}return q}}k.compareRanges=function(n,m){if(n&&m){if(n.item||n.duplicate){if(n.item&&m.item&&n.item(0)===m.item(0)){return true}if(n.isEqual&&m.isEqual&&m.isEqual(n)){return true}}else{return n.startContainer==m.startContainer&&n.startOffset==m.startOffset}}return false};return k});h("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Tools"],function(r,p,i,n,o,m){var q=m.each,s=m.grep,l=m.trim;var k=o.ie,j=o.opera;function t(y,x,w,v){var u=this;u.dom=y;u.win=x;u.serializer=w;u.editor=v;u.controlSelection=new i(u,v);if(!u.win.getSelection){u.tridentSel=new p(u)}}t.prototype={setCursorLocation:function(w,x){var v=this,u=v.dom.createRng();if(!w){v._moveEndPoint(u,v.editor.getBody(),true);v.setRng(u)}else{u.setStart(w,x);u.setEnd(w,x);v.setRng(u);v.collapse(false)}},getContent:function(y){var w=this,v=w.getRng(),u=w.dom.create("body");var B=w.getSel(),A,z,x;y=y||{};A=z="";y.get=true;y.format=y.format||"html";y.selection=true;w.editor.fire("BeforeGetContent",y);if(y.format=="text"){return w.isCollapsed()?"":(v.text||(B.toString?B.toString():""))}if(v.cloneContents){x=v.cloneContents();if(x){u.appendChild(x)}}else{if(v.item!==g||v.htmlText!==g){u.innerHTML="<br>"+(v.item?v.item(0).outerHTML:v.htmlText);u.removeChild(u.firstChild)}else{u.innerHTML=v.toString()}}if(/^\s/.test(u.innerHTML)){A=" "}if(/\s+$/.test(u.innerHTML)){z=" "}y.getInner=true;y.content=w.isCollapsed()?"":A+w.serializer.serialize(u,y)+z;w.editor.fire("GetContent",y);return y.content},setContent:function(v,x){var C=this,u=C.getRng(),y,z=C.win.document,B,A;x=x||{format:"html"};x.set=true;x.selection=true;v=x.content=v;if(!x.no_events){C.editor.fire("BeforeSetContent",x)}v=x.content;if(u.insertNode){v+='<span id="__caret">_</span>';if(u.startContainer==z&&u.endContainer==z){z.body.innerHTML=v}else{u.deleteContents();if(z.body.childNodes.length===0){z.body.innerHTML=v}else{if(u.createContextualFragment){u.insertNode(u.createContextualFragment(v))}else{B=z.createDocumentFragment();A=z.createElement("div");B.appendChild(A);A.outerHTML=v;u.insertNode(B)}}}y=C.dom.get("__caret");u=z.createRange();u.setStartBefore(y);u.setEndBefore(y);C.setRng(u);C.dom.remove("__caret");try{C.setRng(u)}catch(w){}}else{if(u.item){z.execCommand("Delete",false,null);u=C.getRng()}if(/^\s+/.test(v)){u.pasteHTML('<span id="__mce_tmp">_</span>'+v);C.dom.remove("__mce_tmp")}else{u.pasteHTML(v)}}if(!x.no_events){C.editor.fire("SetContent",x)}},getStart:function(){var w=this,v=w.getRng(),x,u,z,y;if(v.duplicate||v.item){if(v.item){return v.item(0)}z=v.duplicate();z.collapse(1);x=z.parentElement();if(x.ownerDocument!==w.dom.doc){x=w.dom.getRoot()}u=y=v.parentElement();while((y=y.parentNode)){if(y==x){x=u;break}}return x}else{x=v.startContainer;if(x.nodeType==1&&x.hasChildNodes()){x=x.childNodes[Math.min(x.childNodes.length-1,v.startOffset)]}if(x&&x.nodeType==3){return x.parentNode}return x}},getEnd:function(){var v=this,u=v.getRng(),x,w;if(u.duplicate||u.item){if(u.item){return u.item(0)}u=u.duplicate();u.collapse(0);x=u.parentElement();if(x.ownerDocument!==v.dom.doc){x=v.dom.getRoot()}if(x&&x.nodeName=="BODY"){return x.lastChild||x}return x}else{x=u.endContainer;w=u.endOffset;if(x.nodeType==1&&x.hasChildNodes()){x=x.childNodes[w>0?w-1:w]}if(x&&x.nodeType==3){return x.parentNode}return x}},getBookmark:function(F,H){var J=this,B=J.dom,v,y,x,C,w,D,A="&#xFEFF;",I;function u(L,M){var K=0;q(B.select(L),function(O,N){if(O==M){K=N}});return K}function G(K){function L(Q){var M,P,O,N=Q?"start":"end";M=K[N+"Container"];P=K[N+"Offset"];if(M.nodeType==1&&M.nodeName=="TR"){O=M.childNodes;M=O[Math.min(Q?P:P-1,O.length-1)];if(M){P=Q?0:M.childNodes.length;K["set"+(Q?"Start":"End")](M,P)}}}L(true);L();return K}function z(){var L=J.getRng(true),K=B.getRoot(),M={};function N(Q,V){var P=Q[V?"startContainer":"endContainer"],U=Q[V?"startOffset":"endOffset"],O=[],R,T,S=0;if(P.nodeType==3){if(H){for(R=P.previousSibling;R&&R.nodeType==3;R=R.previousSibling){U+=R.nodeValue.length}}O.push(U)}else{T=P.childNodes;if(U>=T.length&&T.length){S=1;U=Math.max(0,T.length-1)}O.push(J.dom.nodeIndex(T[U],H)+S)}for(;P&&P!=K;P=P.parentNode){O.push(J.dom.nodeIndex(P,H))}return O}M.start=N(L,true);if(!J.isCollapsed()){M.end=N(L)}return M}if(F==2){D=J.getNode();w=D?D.nodeName:null;if(w=="IMG"){return{name:w,index:u(w,D)}}if(J.tridentSel){return J.tridentSel.getBookmark(F)}return z()}if(F){return{rng:J.getRng()}}v=J.getRng();x=B.uniqueId();C=J.isCollapsed();I="overflow:hidden;line-height:0px";if(v.duplicate||v.item){if(!v.item){y=v.duplicate();try{v.collapse();v.pasteHTML('<span data-mce-type="bookmark" id="'+x+'_start" style="'+I+'">'+A+"</span>");if(!C){y.collapse(false);v.moveToElementText(y.parentElement());if(v.compareEndPoints("StartToEnd",y)===0){y.move("character",-1)}y.pasteHTML('<span data-mce-type="bookmark" id="'+x+'_end" style="'+I+'">'+A+"</span>")}}catch(E){return null}}else{D=v.item(0);w=D.nodeName;return{name:w,index:u(w,D)}}}else{D=J.getNode();w=D.nodeName;if(w=="IMG"){return{name:w,index:u(w,D)}}y=G(v.cloneRange());if(!C){y.collapse(false);y.insertNode(B.create("span",{"data-mce-type":"bookmark",id:x+"_end",style:I},A))}v=G(v);v.collapse(true);v.insertNode(B.create("span",{"data-mce-type":"bookmark",id:x+"_start",style:I},A))}J.moveToBookmark({id:x,keep:1});return{id:x}},moveToBookmark:function(A){var E=this,y=E.dom,u,D,w,F,B,C;function v(L){var G=A[L?"start":"end"],I,J,K,H;if(G){K=G[0];for(J=D,I=G.length-1;I>=1;I--){H=J.childNodes;if(G[I]>H.length-1){return}J=H[G[I]]}if(J.nodeType===3){K=Math.min(G[0],J.nodeValue.length)}if(J.nodeType===1){K=Math.min(G[0],J.childNodes.length)}if(L){u.setStart(J,K)}else{u.setEnd(J,K)}}return true}function x(M){var H=y.get(A.id+"_"+M),L,G,J,K,I=A.keep;if(H){L=H.parentNode;if(M=="start"){if(!I){G=y.nodeIndex(H)}else{L=H.firstChild;G=1}w=F=L;B=C=G}else{if(!I){G=y.nodeIndex(H)}else{L=H.firstChild;G=1}F=L;C=G}if(!I){K=H.previousSibling;J=H.nextSibling;q(s(H.childNodes),function(N){if(N.nodeType==3){N.nodeValue=N.nodeValue.replace(/\uFEFF/g,"")}});while((H=y.get(A.id+"_"+M))){y.remove(H,1)}if(K&&J&&K.nodeType==J.nodeType&&K.nodeType==3&&!j){G=K.nodeValue.length;K.appendData(J.nodeValue);y.remove(J);if(M=="start"){w=F=K;B=C=G}else{F=K;C=G}}}}}function z(G){if(y.isBlock(G)&&!G.innerHTML&&!k){G.innerHTML='<br data-mce-bogus="1" />'}return G}if(A){if(A.start){u=y.createRng();D=y.getRoot();if(E.tridentSel){return E.tridentSel.moveToBookmark(A)}if(v(true)&&v()){E.setRng(u)}}else{if(A.id){x("start");x("end");if(w){u=y.createRng();u.setStart(z(w),B);u.setEnd(z(F),C);E.setRng(u)}}else{if(A.name){E.select(y.select(A.name)[A.index])}else{if(A.rng){E.setRng(A.rng)}}}}}},select:function(y,x){var w=this,z=w.dom,v=z.createRng(),u;w.lastFocusBookmark=null;if(y){if(!x&&w.controlSelection.controlSelect(y)){return}u=z.nodeIndex(y);v.setStart(y.parentNode,u);v.setEnd(y.parentNode,u+1);if(x){w._moveEndPoint(v,y,true);w._moveEndPoint(v,y)}w.setRng(v)}return y},isCollapsed:function(){var v=this,u=v.getRng(),w=v.getSel();if(!u||u.item){return false}if(u.compareEndPoints){return u.compareEndPoints("StartToEnd",u)===0}return !w||u.collapsed},collapse:function(u){var w=this,v=w.getRng(),x;if(v.item){x=v.item(0);v=w.win.document.body.createTextRange();v.moveToElementText(x)}v.collapse(!!u);w.setRng(v)},getSel:function(){var u=this.win;return u.getSelection?u.getSelection():u.document.selection},getRng:function(A){var D=this,C,u,z,B=D.win.document,x;function v(G,H,E){try{return H.compareBoundaryPoints(G,E)}catch(F){return -1}}if(!A&&D.lastFocusBookmark){var w=D.lastFocusBookmark;if(w.startContainer){u=B.createRange();u.setStart(w.startContainer,w.startOffset);u.setEnd(w.endContainer,w.endOffset)}else{u=w}return u}if(A&&D.tridentSel){return D.tridentSel.getRangeAt(0)}try{if((C=D.getSel())){if(C.rangeCount>0){u=C.getRangeAt(0)}else{u=C.createRange?C.createRange():B.createRange()}}}catch(y){}if(k&&u&&u.setStart&&B.selection){try{x=B.selection.createRange()}catch(y){}if(x&&x.item){z=x.item(0);u=B.createRange();u.setStartBefore(z);u.setEndAfter(z)}}if(!u){u=B.createRange?B.createRange():B.body.createTextRange()}if(u.setStart&&u.startContainer.nodeType===9&&u.collapsed){z=D.dom.getRoot();u.setStart(z,0);u.setEnd(z,0)}if(D.selectedRange&&D.explicitRange){if(v(u.START_TO_START,u,D.selectedRange)===0&&v(u.END_TO_END,u,D.selectedRange)===0){u=D.explicitRange}else{D.selectedRange=null;D.explicitRange=null}}return u},setRng:function(u,w){var v=this,y;if(u.select){try{u.select()}catch(x){}return}if(!v.tridentSel){y=v.getSel();if(y){v.explicitRange=u;try{y.removeAllRanges();y.addRange(u)}catch(x){}if(w===false&&y.extend){y.collapse(u.endContainer,u.endOffset);y.extend(u.startContainer,u.startOffset)}v.selectedRange=y.rangeCount>0?y.getRangeAt(0):null}}else{if(u.cloneRange){try{v.tridentSel.addRange(u);return}catch(x){}}}},setNode:function(v){var u=this;u.setContent(u.dom.getOuterHTML(v));return v},getNode:function(){var B=this,u=B.getRng(),x;var v=u.startContainer,C=u.endContainer;var y=u.startOffset,z=u.endOffset,A=B.dom.getRoot();function w(E,D){var F=E;while(E&&E.nodeType===3&&E.length===0){E=D?E.nextSibling:E.previousSibling}return E||F}if(!u){return A}if(u.setStart){x=u.commonAncestorContainer;if(!u.collapsed){if(v==C){if(z-y<2){if(v.hasChildNodes()){x=v.childNodes[y]}}}if(v.nodeType===3&&C.nodeType===3){if(v.length===y){v=w(v.nextSibling,true)}else{v=v.parentNode}if(z===0){C=w(C.previousSibling,false)}else{C=C.parentNode}if(v&&v===C){return v}}}if(x&&x.nodeType==3){return x.parentNode}return x}x=u.item?u.item(0):u.parentElement();if(x.ownerDocument!==B.win.document){x=A}return x},getSelectedBlocks:function(x,w){var v=this,B=v.dom,y,u,A=[];u=B.getRoot();x=B.getParent(x||v.getStart(),B.isBlock);w=B.getParent(w||v.getEnd(),B.isBlock);if(x&&x!=u){A.push(x)}if(x&&w&&x!=w){y=x;var z=new r(x,u);while((y=z.next())&&y!=w){if(B.isBlock(y)){A.push(y)}}}if(w&&x!=w&&w!=u){A.push(w)}return A},isForward:function(){var w=this.dom,u=this.getSel(),x,v;if(!u||!u.anchorNode||!u.focusNode){return true}x=w.createRng();x.setStart(u.anchorNode,u.anchorOffset);x.collapse(true);v=w.createRng();v.setStart(u.focusNode,u.focusOffset);v.collapse(true);return x.compareBoundaryPoints(x.START_TO_START,v)<=0},normalize:function(){var v=this,u=v.getRng();if(!k&&new n(v.dom).normalize(u)){v.setRng(u,v.isForward())}return u},selectorChanged:function(u,x){var v=this,w;if(!v.selectorChangedData){v.selectorChangedData={};w={};v.editor.on("NodeChange",function(B){var A=B.element,C=v.dom,y=C.getParents(A,null,C.getRoot()),z={};q(v.selectorChangedData,function(E,D){q(y,function(F){if(C.is(F,D)){if(!w[D]){q(E,function(G){G(true,{node:F,selector:D,parents:y})});w[D]=E}z[D]=E;return false}})});q(w,function(E,D){if(!z[D]){delete w[D];q(E,function(F){F(false,{node:A,selector:D,parents:y})})}})})}if(!v.selectorChangedData[u]){v.selectorChangedData[u]=[]}v.selectorChangedData[u].push(x);return v},getScrollContainer:function(){var u,v=this.dom.getRoot();while(v&&v.nodeName!="BODY"){if(v.scrollHeight>v.clientHeight){u=v;break}v=v.parentNode}return u},scrollIntoView:function(x){var A,D,E=this,w=E.dom,B=w.getRoot(),u,C;function v(I){var F=0,H=0;var G=I;while(G&&G.nodeType){F+=G.offsetLeft||0;H+=G.offsetTop||0;G=G.offsetParent}return{x:F,y:H}}if(B.nodeName!="BODY"){var z=E.getScrollContainer();if(z){A=v(x).y-v(z).y;C=z.clientHeight;u=z.scrollTop;if(A<u||A+25>u+C){z.scrollTop=A<u?A:A-C+25}return}}D=w.getViewPort(E.editor.getWin());A=w.getPos(x).y;u=D.y;C=D.h;if(A<D.y||A+25>u+C){E.editor.getWin().scrollTo(0,A<u?A:A-C+25)}},_moveEndPoint:function(v,x,z){var u=x,y=new r(x,u);var w=this.dom.schema.getNonEmptyElements();do{if(x.nodeType==3&&l(x.nodeValue).length!==0){if(z){v.setStart(x,0)}else{v.setEnd(x,x.nodeValue.length)}return}if(w[x.nodeName]){if(z){v.setStartBefore(x)}else{if(x.nodeName=="BR"){v.setEndBefore(x)}else{v.setEndAfter(x)}}return}if(o.ie&&o.ie<11&&this.dom.isBlock(x)&&this.dom.isEmpty(x)){if(z){v.setStart(x,0)}else{v.setEnd(x,0)}return}}while((x=(z?y.next():y.prev())));if(u.nodeName=="BODY"){if(z){v.setStart(u,0)}else{v.setEnd(u,u.childNodes.length)}}},destroy:function(){this.win=null;this.controlSelection.destroy()}};return t});h("tinymce/fmt/Preview",["tinymce/util/Tools"],function(i){var k=i.each;function j(q,t){var m,n,p=q.dom;var l="",o,s;s=q.settings.preview_styles;if(s===false){return""}if(!s){s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}function r(u){return u.replace(/%(\w+)/g,"")}if(typeof(t)=="string"){t=q.formatter.get(t);if(!t){return}t=t[0]}m=t.block||t.inline||"span";n=p.create(m);k(t.styles,function(v,u){v=r(v);if(v){p.setStyle(n,u,v)}});k(t.attributes,function(v,u){v=r(v);if(v){p.setAttrib(n,u,v)}});k(t.classes,function(u){u=r(u);if(!p.hasClass(n,u)){p.addClass(n,u)}});q.fire("PreviewFormats");p.setStyles(n,{position:"absolute",left:-65535});q.getBody().appendChild(n);o=p.getStyle(q.getBody(),"fontSize",true);o=/px$/.test(o)?parseInt(o,10):0;k(s.split(" "),function(u){var v=p.getStyle(n,u,true);if(u=="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(v)){v=p.getStyle(q.getBody(),u,true);if(p.toHex(v).toLowerCase()=="#ffffff"){return}}if(u=="color"){if(p.toHex(v).toLowerCase()=="#000000"){return}}if(u=="font-size"){if(/em|%$/.test(v)){if(o===0){return}v=parseFloat(v,10)/(/%$/.test(v)?100:1);v=(v*o)+"px"}}if(u=="border"&&v){l+="padding:0 2px;"}l+=u+":"+v+";"});q.fire("AfterPreviewFormats");p.remove(n);return l}return{getCssText:j}});h("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/util/Tools","tinymce/fmt/Preview"],function(j,k,i,l){return function(ap){var ad={},n=ap.dom,F=ap.selection,aa=new k(n),o=ap.schema.isValidChild,U=n.isBlock,y=ap.settings.forced_root_block,H=n.nodeIndex,S="\uFEFF",p=/^(src|href|style)$/,ak=false,O=true,ac,P,K=n.getContentEditable,T,w;var ag=i.each,an=i.grep,C=i.walk,D=i.extend;function V(aq){if(aq.nodeType){aq=aq.nodeName}return !!ap.schema.getTextBlockElements()[aq.toLowerCase()]}function z(ar,aq){return n.getParents(ar,aq,n.getRoot())}function m(aq){return aq.nodeType===1&&aq.id==="_mce_caret"}function u(){x({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:false},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:false},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(){return true},onformat:function(at,aq,ar){ag(ar,function(av,au){n.setAttrib(at,au,av)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});ag("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(aq){x(aq,{block:aq,remove:"all"})});x(ap.settings.formats)}function aj(){ap.addShortcut("ctrl+b","bold_desc","Bold");ap.addShortcut("ctrl+i","italic_desc","Italic");ap.addShortcut("ctrl+u","underline_desc","Underline");for(var aq=1;aq<=6;aq++){ap.addShortcut("ctrl+"+aq,"",["FormatBlock",false,"h"+aq])}ap.addShortcut("ctrl+7","",["FormatBlock",false,"p"]);ap.addShortcut("ctrl+8","",["FormatBlock",false,"div"]);ap.addShortcut("ctrl+9","",["FormatBlock",false,"address"])}function ai(aq){return aq?ad[aq]:ad}function x(aq,ar){if(aq){if(typeof(aq)!=="string"){ag(aq,function(au,at){x(at,au)})}else{ar=ar.length?ar:[ar];ag(ar,function(at){if(at.deep===P){at.deep=!at.selector}if(at.split===P){at.split=!at.selector||at.inline}if(at.remove===P&&at.selector&&!at.inline){at.remove="none"}if(at.selector&&at.inline){at.mixed=true;at.block_expand=true}if(typeof(at.classes)==="string"){at.classes=at.classes.split(/\s+/)}});ad[aq]=ar}}}function t(ar){var aq;ap.dom.getParent(ar,function(at){aq=ap.dom.getStyle(at,"text-decoration");return aq&&aq!=="none"});return aq}function Y(aq){var ar;if(aq.nodeType===1&&aq.parentNode&&aq.parentNode.nodeType===1){ar=t(aq.parentNode);if(ap.dom.getStyle(aq,"color")&&ar){ap.dom.setStyle(aq,"text-decoration",ar)}else{if(ap.dom.getStyle(aq,"textdecoration")===ar){ap.dom.setStyle(aq,"text-decoration",null)}}}}function am(au,aA,aw){var ax=ai(au),aB=ax[0],az,ar,ay=!aw&&F.isCollapsed();function aq(aF,aE){aE=aE||aB;if(aF){if(aE.onformat){aE.onformat(aF,aE,aA,aw)}ag(aE.styles,function(aH,aG){n.setStyle(aF,aG,E(aH,aA))});ag(aE.attributes,function(aH,aG){n.setAttrib(aF,aG,E(aH,aA))});ag(aE.classes,function(aG){aG=E(aG,aA);if(!n.hasClass(aF,aG)){n.addClass(aF,aG)}})}}function av(){function aG(aM,aK){var aL=new j(aK);for(aw=aL.current();aw;aw=aL.prev()){if(aw.childNodes.length>1||aw==aM||aw.tagName=="BR"){return aw}}}var aF=ap.selection.getRng();var aJ=aF.startContainer;var aE=aF.endContainer;if(aJ!=aE&&aF.endOffset===0){var aI=aG(aJ,aE);var aH=aI.nodeType==3?aI.length:aI.childNodes.length;aF.setEnd(aI,aH)}return aF}function at(aH,aM,aK,aJ,aF){var aE=[],aG=-1,aL,aO=-1,aI=-1,aN;ag(aH.childNodes,function(aQ,aP){if(aQ.nodeName==="UL"||aQ.nodeName==="OL"){aG=aP;aL=aQ;return false}});ag(aH.childNodes,function(aQ,aP){if(aQ.nodeName==="SPAN"&&n.getAttrib(aQ,"data-mce-type")=="bookmark"){if(aQ.id==aM.id+"_start"){aO=aP}else{if(aQ.id==aM.id+"_end"){aI=aP}}}});if(aG<=0||(aO<aG&&aI>aG)){ag(an(aH.childNodes),aF);return 0}else{aN=n.clone(aK,ak);ag(an(aH.childNodes),function(aQ,aP){if((aO<aG&&aP<aG)||(aO>aG&&aP>aG)){aE.push(aQ);aQ.parentNode.removeChild(aQ)}});if(aO<aG){aH.insertBefore(aN,aL)}else{if(aO>aG){aH.insertBefore(aN,aL.nextSibling)}}aJ.push(aN);ag(aE,function(aP){aN.appendChild(aP)});return aN}}function aC(aF,aH,aK){var aE=[],aJ,aG,aI=true;aJ=aB.inline||aB.block;aG=n.create(aJ);aq(aG);aa.walk(aF,function(aL){var aM;function aN(aO){var aT,aR,aP,aQ,aS;aS=aI;aT=aO.nodeName.toLowerCase();aR=aO.parentNode.nodeName.toLowerCase();if(aO.nodeType===1&&K(aO)){aS=aI;aI=K(aO)==="true";aQ=true}if(r(aT,"br")){aM=0;if(aB.block){n.remove(aO)}return}if(aB.wrapper&&L(aO,au,aA)){aM=0;return}if(aI&&!aQ&&aB.block&&!aB.wrapper&&V(aT)&&o(aR,aJ)){aO=n.rename(aO,aJ);aq(aO);aE.push(aO);aM=0;return}if(aB.selector){ag(ax,function(aU){if("collapsed" in aU&&aU.collapsed!==ay){return}if(n.is(aO,aU.selector)&&!m(aO)){aq(aO,aU);aP=true}});if(!aB.inline||aP){aM=0;return}}if(aI&&!aQ&&o(aJ,aT)&&o(aR,aJ)&&!(!aK&&aO.nodeType===3&&aO.nodeValue.length===1&&aO.nodeValue.charCodeAt(0)===65279)&&!m(aO)&&(!aB.inline||!U(aO))){if(!aM){aM=n.clone(aG,ak);aO.parentNode.insertBefore(aM,aO);aE.push(aM)}aM.appendChild(aO)}else{if(aT=="li"&&aH){aM=at(aO,aH,aG,aE,aN)}else{aM=0;ag(an(aO.childNodes),aN);if(aQ){aI=aS}aM=0}}}ag(aL,aN)});if(aB.wrap_links===false){ag(aE,function(aL){function aM(aQ){var aP,aO,aN;if(aQ.nodeName==="A"){aO=n.clone(aG,ak);aE.push(aO);aN=an(aQ.childNodes);for(aP=0;aP<aN.length;aP++){aO.appendChild(aN[aP])}aQ.appendChild(aO)}ag(an(aQ.childNodes),aM)}aM(aL)})}ag(aE,function(aN){var aL;function aO(aQ){var aP=0;ag(aQ.childNodes,function(aR){if(!q(aR)&&!X(aR)){aP++}});return aP}function aM(aP){var aR,aQ;ag(aP.childNodes,function(aS){if(aS.nodeType==1&&!X(aS)&&!m(aS)){aR=aS;return ak}});if(aR&&!X(aR)&&s(aR,aB)){aQ=n.clone(aR,ak);aq(aQ);n.replace(aQ,aP,O);n.remove(aR,1)}return aQ||aP}aL=aO(aN);if((aE.length>1||!U(aN))&&aL===0){n.remove(aN,1);return}if(aB.inline||aB.wrapper){if(!aB.exact&&aL===1){aN=aM(aN)}ag(ax,function(aP){ag(n.select(aP.inline,aN),function(aR){var aQ;if(X(aR)){return}if(aP.wrap_links===false){aQ=aR.parentNode;do{if(aQ.nodeName==="A"){return}}while((aQ=aQ.parentNode))}ao(aP,aA,aR,aP.exact?aR:null)})});if(L(aN.parentNode,au,aA)){n.remove(aN,1);aN=0;return O}if(aB.merge_with_parents){n.getParent(aN.parentNode,function(aP){if(L(aP,au,aA)){n.remove(aN,1);aN=0;return O}})}if(aN&&aB.merge_siblings!==false){aN=I(Q(aN),aN);aN=I(aN,Q(aN,O))}}})}if(aB){if(aw){if(aw.nodeType){ar=n.createRng();ar.setStartBefore(aw);ar.setEndAfter(aw);aC(B(ar,ax),null,true)}else{aC(aw,null,true)}}else{if(!ay||!aB.inline||n.select("td.mce-item-selected,th.mce-item-selected").length){var aD=ap.selection.getNode();if(!y&&ax[0].defaultBlock&&!n.getParent(aD,n.isBlock)){am(ax[0].defaultBlock)}ap.selection.setRng(av());az=F.getBookmark();aC(B(F.getRng(O),ax),az);if(aB.styles&&(aB.styles.color||aB.styles.textDecoration)){C(aD,Y,"childNodes");Y(aD)}F.moveToBookmark(az);ae(F.getRng(O));ap.nodeChanged()}else{ah("apply",au,aA)}}}}function N(at,aA,av){var aw=ai(at),aD=aw[0],az,ar,aB=true;function au(aI){var aH,aG,aF,aK,aJ;if(aI.nodeType===1&&K(aI)){aK=aB;aB=K(aI)==="true";aJ=true}aH=an(aI.childNodes);if(aB&&!aJ){for(aG=0,aF=aw.length;aG<aF;aG++){if(ao(aw[aG],aA,aI,aI)){break}}}if(aD.deep){if(aH.length){for(aG=0,aF=aH.length;aG<aF;aG++){au(aH[aG])}if(aJ){aB=aK}}}}function ax(aF){var aG;ag(z(aF.parentNode).reverse(),function(aH){var aI;if(!aG&&aH.id!="_start"&&aH.id!="_end"){aI=L(aH,at,aA);if(aI&&aI.split!==false){aG=aH}}});return aG}function aq(aI,aF,aK,aN){var aO,aM,aL,aH,aJ,aG;if(aI){aG=aI.parentNode;for(aO=aF.parentNode;aO&&aO!=aG;aO=aO.parentNode){aM=n.clone(aO,ak);for(aJ=0;aJ<aw.length;aJ++){if(ao(aw[aJ],aA,aM,aM)){aM=0;break}}if(aM){if(aL){aM.appendChild(aL)}if(!aH){aH=aM}aL=aM}}if(aN&&(!aD.mixed||!U(aI))){aF=n.split(aI,aF)}if(aL){aK.parentNode.insertBefore(aL,aK);aH.appendChild(aK)}}return aF}function aC(aF){return aq(ax(aF),aF,aF,true)}function ay(aH){var aG=n.get(aH?"_start":"_end"),aF=aG[aH?"firstChild":"lastChild"];if(X(aF)){aF=aF[aH?"firstChild":"lastChild"]}n.remove(aG,true);return aF}function aE(aF){var aG,aH;var aI=aF.commonAncestorContainer;aF=B(aF,aw,O);if(aD.split){aG=Z(aF,O);aH=Z(aF);if(aG!=aH){if(/^(TR|TH|TD)$/.test(aG.nodeName)&&aG.firstChild){if(aG.nodeName=="TR"){aG=aG.firstChild.firstChild||aG}else{aG=aG.firstChild||aG}}if(aI&&/^T(HEAD|BODY|FOOT|R)$/.test(aI.nodeName)&&/^(TH|TD)$/.test(aH.nodeName)&&aH.firstChild){aH=aH.firstChild||aH}aG=af(aG,"span",{id:"_start","data-mce-type":"bookmark"});aH=af(aH,"span",{id:"_end","data-mce-type":"bookmark"});aC(aG);aC(aH);aG=ay(O);aH=ay()}else{aG=aH=aC(aG)}aF.startContainer=aG.parentNode;aF.startOffset=H(aG);aF.endContainer=aH.parentNode;aF.endOffset=H(aH)+1}aa.walk(aF,function(aJ){ag(aJ,function(aK){au(aK);if(aK.nodeType===1&&ap.dom.getStyle(aK,"text-decoration")==="underline"&&aK.parentNode&&t(aK.parentNode)==="underline"){ao({deep:false,exact:true,inline:"span",styles:{textDecoration:"underline"}},null,aK)}})})}if(av){if(av.nodeType){ar=n.createRng();ar.setStartBefore(av);ar.setEndAfter(av);aE(ar)}else{aE(av)}return}if(!F.isCollapsed()||!aD.inline||n.select("td.mce-item-selected,th.mce-item-selected").length){az=F.getBookmark();aE(F.getRng(O));F.moveToBookmark(az);if(aD.inline&&v(at,aA,F.getStart())){ae(F.getRng(true))}ap.nodeChanged()}else{ah("remove",at,aA)}}function R(ar,au,at){var aq=ai(ar);if(v(ar,au,at)&&(!("toggle" in aq[0])||aq[0].toggle)){N(ar,au,at)}else{am(ar,au,at)}}function L(ar,aq,ax,av){var at=ai(aq),ay,aw,au;function az(aD,aF,aG){var aC,aE,aA=aF[aG],aB;if(aF.onmatch){return aF.onmatch(aD,aF,aG)}if(aA){if(aA.length===P){for(aC in aA){if(aA.hasOwnProperty(aC)){if(aG==="attributes"){aE=n.getAttrib(aD,aC)}else{aE=ab(aD,aC)}if(av&&!aE&&!aF.exact){return}if((!av||aF.exact)&&!r(aE,G(E(aA[aC],ax),aC))){return}}}}else{for(aB=0;aB<aA.length;aB++){if(aG==="attributes"?n.getAttrib(aD,aA[aB]):ab(aD,aA[aB])){return aF}}}}return aF}if(at&&ar){for(aw=0;aw<at.length;aw++){ay=at[aw];if(s(ar,ay)&&az(ar,ay,"attributes")&&az(ar,ay,"styles")){if((au=ay.classes)){for(aw=0;aw<au.length;aw++){if(!n.hasClass(ar,au[aw])){return}}}return ay}}}}function v(at,av,au){var ar;function aq(ax){var aw=n.getRoot();if(ax===aw){return false}ax=n.getParent(ax,function(ay){return ay.parentNode===aw||!!L(ay,at,av,true)});return L(ax,at,av)}if(au){return aq(au)}au=F.getNode();if(aq(au)){return O}ar=F.getStart();if(ar!=au){if(aq(ar)){return O}}return ak}function J(av,au){var ar,at=[],aq={};ar=F.getStart();n.getParent(ar,function(ay){var ax,aw;for(ax=0;ax<av.length;ax++){aw=av[ax];if(!aq[aw]&&L(ay,aw,au)){aq[aw]=true;at.push(aw)}}},n.getRoot());return at}function M(av){var ax=ai(av),au,at,aw,ar,aq;if(ax){au=F.getStart();at=z(au);for(ar=ax.length-1;ar>=0;ar--){aq=ax[ar].selector;if(!aq||ax[ar].defaultBlock){return O}for(aw=at.length-1;aw>=0;aw--){if(n.is(at[aw],aq)){return O}}}}return ak}function W(aq,au,ar){var at;if(!ac){ac={};at={};ap.on("NodeChange",function(aw){var av=z(aw.element),ax={};ag(ac,function(ay,az){ag(av,function(aA){if(L(aA,az,{},ay.similar)){if(!at[az]){ag(ay,function(aB){aB(true,{node:aA,format:az,parents:av})});at[az]=ay}ax[az]=ay;return false}})});ag(at,function(ay,az){if(!ax[az]){delete at[az];ag(ay,function(aA){aA(false,{node:aw.element,format:az,parents:av})})}})})}ag(aq.split(","),function(av){if(!ac[av]){ac[av]=[];ac[av].similar=ar}ac[av].push(au)});return this}function al(aq){return l.getCssText(ap,aq)}D(this,{get:ai,register:x,apply:am,remove:N,toggle:R,match:v,matchAll:J,matchNode:L,canApply:M,formatChanged:W,getCssText:al});u();aj();ap.on("BeforeGetContent",function(){if(w){w()}});ap.on("mouseup keydown",function(aq){if(T){T(aq)}});function s(aq,ar){if(r(aq,ar.inline)){return O}if(r(aq,ar.block)){return O}if(ar.selector){return aq.nodeType==1&&n.is(aq,ar.selector)}}function r(ar,aq){ar=ar||"";aq=aq||"";ar=""+(ar.nodeName||ar);aq=""+(aq.nodeName||aq);return ar.toLowerCase()==aq.toLowerCase()}function ab(ar,aq){return G(n.getStyle(ar,aq),aq)}function G(ar,aq){if(aq=="color"||aq=="backgroundColor"){ar=n.toHex(ar)}if(aq=="fontWeight"&&ar==700){ar="bold"}if(aq=="fontFamily"){ar=ar.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}return""+ar}function E(aq,ar){if(typeof(aq)!="string"){aq=aq(ar)}else{if(ar){aq=aq.replace(/%(\w+)/g,function(au,at){return ar[at]||au})}}return aq}function q(aq){return aq&&aq.nodeType===3&&/^([\t \r\n]+|)$/.test(aq.nodeValue)}function af(at,ar,aq){var au=n.create(ar,aq);at.parentNode.insertBefore(au,at);au.appendChild(at);return au}function B(aq,aC,au){var aD,ax,aB,at=aq.startContainer,ay=aq.startOffset,aG=aq.endContainer,aA=aq.endOffset;function aE(aN){var aI,aL,aK,aJ,aH;aI=aL=aN?at:aG;aJ=aN?"previousSibling":"nextSibling";aH=n.getRoot();function aM(aO){return aO.nodeName=="BR"&&aO.getAttribute("data-mce-bogus")&&!aO.nextSibling}if(aI.nodeType==3&&!q(aI)){if(aN?ay>0:aA<aI.nodeValue.length){return aI}}while(true){if(!aC[0].block_expand&&U(aL)){return aL}for(aK=aL[aJ];aK;aK=aK[aJ]){if(!X(aK)&&!q(aK)&&!aM(aK)){return aL}}if(aL.parentNode==aH){aI=aL;break}aL=aL.parentNode}return aI}function aw(aH,aI){if(aI===P){aI=aH.nodeType===3?aH.length:aH.childNodes.length}while(aH&&aH.hasChildNodes()){aH=aH.childNodes[aI];if(aH){aI=aH.nodeType===3?aH.length:aH.childNodes.length}}return{node:aH,offset:aI}}if(at.nodeType==1&&at.hasChildNodes()){aD=at.childNodes.length-1;at=at.childNodes[ay>aD?aD:ay];if(at.nodeType==3){ay=0}}if(aG.nodeType==1&&aG.hasChildNodes()){aD=aG.childNodes.length-1;aG=aG.childNodes[aA>aD?aD:aA-1];if(aG.nodeType==3){aA=aG.nodeValue.length}}function aF(aI){var aH=aI;while(aH){if(aH.nodeType===1&&K(aH)){return K(aH)==="false"?aH:aI}aH=aH.parentNode}return aI}function az(aI,aM,aO){var aL,aJ,aN,aH;function aK(aQ,aS){var aT,aP,aR=aQ.nodeValue;if(typeof(aS)=="undefined"){aS=aO?aR.length:0}if(aO){aT=aR.lastIndexOf(" ",aS);aP=aR.lastIndexOf("\u00a0",aS);aT=aT>aP?aT:aP;if(aT!==-1&&!au){aT++}}else{aT=aR.indexOf(" ",aS);aP=aR.indexOf("\u00a0",aS);aT=aT!==-1&&(aP===-1||aT<aP)?aT:aP}return aT}if(aI.nodeType===3){aN=aK(aI,aM);if(aN!==-1){return{container:aI,offset:aN}}aH=aI}aL=new j(aI,n.getParent(aI,U)||ap.getBody());while((aJ=aL[aO?"prev":"next"]())){if(aJ.nodeType===3){aH=aJ;aN=aK(aJ);if(aN!==-1){return{container:aJ,offset:aN}}}else{if(U(aJ)){break}}}if(aH){if(aO){aM=0}else{aM=aH.length}return{container:aH,offset:aM}}}function av(aI,aH){var aJ,aK,aM,aL;if(aI.nodeType==3&&aI.nodeValue.length===0&&aI[aH]){aI=aI[aH]}aJ=z(aI);for(aK=0;aK<aJ.length;aK++){for(aM=0;aM<aC.length;aM++){aL=aC[aM];if("collapsed" in aL&&aL.collapsed!==aq.collapsed){continue}if(n.is(aJ[aK],aL.selector)){return aJ[aK]}}}return aI}function ar(aJ,aH){var aK,aI=n.getRoot();if(!aC[0].wrapper){aK=n.getParent(aJ,aC[0].block,aI)}if(!aK){aK=n.getParent(aJ.nodeType==3?aJ.parentNode:aJ,function(aL){return aL!=aI&&V(aL)})}if(aK&&aC[0].wrapper){aK=z(aK,"ul,ol").reverse()[0]||aK}if(!aK){aK=aJ;while(aK[aH]&&!U(aK[aH])){aK=aK[aH];if(r(aK,"br")){break}}}return aK||aJ}at=aF(at);aG=aF(aG);if(X(at.parentNode)||X(at)){at=X(at)?at:at.parentNode;at=at.nextSibling||at;if(at.nodeType==3){ay=0}}if(X(aG.parentNode)||X(aG)){aG=X(aG)?aG:aG.parentNode;aG=aG.previousSibling||aG;if(aG.nodeType==3){aA=aG.length}}if(aC[0].inline){if(aq.collapsed){aB=az(at,ay,true);if(aB){at=aB.container;ay=aB.offset}aB=az(aG,aA);if(aB){aG=aB.container;aA=aB.offset}}ax=aw(aG,aA);if(ax.node){while(ax.node&&ax.offset===0&&ax.node.previousSibling){ax=aw(ax.node.previousSibling)}if(ax.node&&ax.offset>0&&ax.node.nodeType===3&&ax.node.nodeValue.charAt(ax.offset-1)===" "){if(ax.offset>1){aG=ax.node;aG.splitText(ax.offset-1)}}}}if(aC[0].inline||aC[0].block_expand){if(!aC[0].inline||(at.nodeType!=3||ay===0)){at=aE(true)}if(!aC[0].inline||(aG.nodeType!=3||aA===aG.nodeValue.length)){aG=aE()}}if(aC[0].selector&&aC[0].expand!==ak&&!aC[0].inline){at=av(at,"previousSibling");aG=av(aG,"nextSibling")}if(aC[0].block||aC[0].selector){at=ar(at,"previousSibling");aG=ar(aG,"nextSibling");if(aC[0].block){if(!U(at)){at=aE(true)}if(!U(aG)){aG=aE()}}}if(at.nodeType==1){ay=H(at);at=at.parentNode}if(aG.nodeType==1){aA=H(aG)+1;aG=aG.parentNode}return{startContainer:at,startOffset:ay,endContainer:aG,endOffset:aA}}function ao(ax,aw,au,aq){var at,ar,av;if(!s(au,ax)){return ak}if(ax.remove!="all"){ag(ax.styles,function(az,ay){az=G(E(az,aw),ay);if(typeof(ay)==="number"){ay=az;aq=0}if(!aq||r(ab(aq,ay),az)){n.setStyle(au,ay,"")}av=1});if(av&&n.getAttrib(au,"style")===""){au.removeAttribute("style");au.removeAttribute("data-mce-style")}ag(ax.attributes,function(aA,ay){var az;aA=E(aA,aw);if(typeof(ay)==="number"){ay=aA;aq=0}if(!aq||r(n.getAttrib(aq,ay),aA)){if(ay=="class"){aA=n.getAttrib(au,ay);if(aA){az="";ag(aA.split(/\s+/),function(aB){if(/mce\w+/.test(aB)){az+=(az?" ":"")+aB}});if(az){n.setAttrib(au,ay,az);return}}}if(ay=="class"){au.removeAttribute("className")}if(p.test(ay)){au.removeAttribute("data-mce-"+ay)}au.removeAttribute(ay)}});ag(ax.classes,function(ay){ay=E(ay,aw);if(!aq||n.hasClass(aq,ay)){n.removeClass(au,ay)}});ar=n.getAttribs(au);for(at=0;at<ar.length;at++){if(ar[at].nodeName.indexOf("_")!==0){return ak}}}if(ax.remove!="none"){A(au,ax);return O}}function A(at,au){var aq=at.parentNode,ar;function av(ax,aw,ay){ax=Q(ax,aw,ay);return !ax||(ax.nodeName=="BR"||U(ax))}if(au.block){if(!y){if(U(at)&&!U(aq)){if(!av(at,ak)&&!av(at.firstChild,O,1)){at.insertBefore(n.create("br"),at.firstChild)}if(!av(at,O)&&!av(at.lastChild,ak,1)){at.appendChild(n.create("br"))}}}else{if(aq==n.getRoot()){if(!au.list_block||!r(at,au.list_block)){ag(an(at.childNodes),function(aw){if(o(y,aw.nodeName.toLowerCase())){if(!ar){ar=af(aw,y);n.setAttribs(ar,ap.settings.forced_root_block_attrs)}else{ar.appendChild(aw)}}else{ar=0}})}}}}if(au.selector&&au.inline&&!r(au.inline,at)){return}n.remove(at,1)}function Q(ar,aq,at){if(ar){aq=aq?"nextSibling":"previousSibling";for(ar=at?ar:ar[aq];ar;ar=ar[aq]){if(ar.nodeType==1||!q(ar)){return ar}}}}function X(aq){return aq&&aq.nodeType==1&&aq.getAttribute("data-mce-type")=="bookmark"}function I(au,at){var ar,aq;function aw(az,ay){if(az.nodeName!=ay.nodeName){return ak}function ax(aB){var aC={};ag(n.getAttribs(aB),function(aD){var aE=aD.nodeName.toLowerCase();if(aE.indexOf("_")!==0&&aE!=="style"&&aE!=="data-mce-style"){aC[aE]=n.getAttrib(aB,aE)}});return aC}function aA(aE,aD){var aC,aB;for(aB in aE){if(aE.hasOwnProperty(aB)){aC=aD[aB];if(aC===P){return ak}if(aE[aB]!=aC){return ak}delete aD[aB]}}for(aB in aD){if(aD.hasOwnProperty(aB)){return ak}}return O}if(!aA(ax(az),ax(ay))){return ak}if(!aA(n.parseStyle(n.getAttrib(az,"style")),n.parseStyle(n.getAttrib(ay,"style")))){return ak}return !X(az)&&!X(ay)}function av(ay,ax){for(ar=ay;ar;ar=ar[ax]){if(ar.nodeType==3&&ar.nodeValue.length!==0){return ay}if(ar.nodeType==1&&!X(ar)){return ar}}return ay}if(au&&at){au=av(au,"previousSibling");at=av(at,"nextSibling");if(aw(au,at)){for(ar=au.nextSibling;ar&&ar!=at;){aq=ar;ar=ar.nextSibling;au.appendChild(aq)}n.remove(at);ag(an(at.childNodes),function(ax){au.appendChild(ax)});return au}}return at}function Z(ar,av){var aq,au,at;aq=ar[av?"startContainer":"endContainer"];au=ar[av?"startOffset":"endOffset"];if(aq.nodeType==1){at=aq.childNodes.length-1;if(!av&&au){au--}aq=aq.childNodes[au>at?at:au]}if(aq.nodeType===3&&av&&au>=aq.nodeValue.length){aq=new j(aq,ap.getBody()).next()||aq}if(aq.nodeType===3&&!av&&au===0){aq=new j(aq,ap.getBody()).prev()||aq}return aq}function ah(aA,aq,ay){var aB="_mce_caret",ar=ap.settings.caret_debug;function at(aF){var aE=n.create("span",{id:aB,"data-mce-bogus":true,style:ar?"color:red":""});if(aF){aE.appendChild(ap.getDoc().createTextNode(S))}return aE}function az(aF,aE){while(aF){if((aF.nodeType===3&&aF.nodeValue!==S)||aF.childNodes.length>1){return false}if(aE&&aF.nodeType===1){aE.push(aF)}aF=aF.firstChild}return true}function aw(aE){while(aE){if(aE.id===aB){return aE}aE=aE.parentNode}}function av(aE){var aF;if(aE){aF=new j(aE,aE);for(aE=aF.current();aE;aE=aF.next()){if(aE.nodeType===3){return aE}}}}function au(aG,aF){var aH,aE;if(!aG){aG=aw(F.getStart());if(!aG){while((aG=n.get(aB))){au(aG,false)}}}else{aE=F.getRng(true);if(az(aG)){if(aF!==false){aE.setStartBefore(aG);aE.setEndBefore(aG)}n.remove(aG)}else{aH=av(aG);if(aH.nodeValue.charAt(0)===S){aH=aH.deleteData(0,1)}n.remove(aG,1)}F.setRng(aE)}}function ax(){var aG,aE,aK,aJ,aH,aF,aI;aG=F.getRng(true);aJ=aG.startOffset;aF=aG.startContainer;aI=aF.nodeValue;aE=aw(F.getStart());if(aE){aK=av(aE)}if(aI&&aJ>0&&aJ<aI.length&&/\w/.test(aI.charAt(aJ))&&/\w/.test(aI.charAt(aJ-1))){aH=F.getBookmark();aG.collapse(true);aG=B(aG,ai(aq));aG=aa.split(aG);am(aq,ay,aG);F.moveToBookmark(aH)}else{if(!aE||aK.nodeValue!==S){aE=at(true);aK=aE.firstChild;aG.insertNode(aE);aJ=1;am(aq,ay,aE)}else{am(aq,ay,aE)}F.setCursorLocation(aK,aJ)}}function aC(){var aE=F.getRng(true),aF,aI,aL,aK,aG,aO,aN=[],aJ,aM;aF=aE.startContainer;aI=aE.startOffset;aG=aF;if(aF.nodeType==3){if(aI!=aF.nodeValue.length||aF.nodeValue===S){aK=true}aG=aG.parentNode}while(aG){if(L(aG,aq,ay)){aO=aG;break}if(aG.nextSibling){aK=true}aN.push(aG);aG=aG.parentNode}if(!aO){return}if(aK){aL=F.getBookmark();aE.collapse(true);aE=B(aE,ai(aq),true);aE=aa.split(aE);N(aq,ay,aE);F.moveToBookmark(aL)}else{aM=at();aG=aM;for(aJ=aN.length-1;aJ>=0;aJ--){aG.appendChild(n.clone(aN[aJ],false));aG=aG.firstChild}aG.appendChild(n.doc.createTextNode(S));aG=aG.firstChild;var aH=n.getParent(aO,V);if(aH&&n.isEmpty(aH)){aO.parentNode.replaceChild(aM,aO)}else{n.insertAfter(aM,aO)}F.setCursorLocation(aG,1);if(n.isEmpty(aO)){n.remove(aO)}}}function aD(){var aE;aE=aw(F.getStart());if(aE&&!n.isEmpty(aE)){C(aE,function(aF){if(aF.nodeType==1&&aF.id!==aB&&!n.isEmpty(aF)){n.setAttrib(aF,"data-mce-bogus",null)}},"childNodes")}}if(!ap._hasCaretEvents){w=function(){var aE=[],aF;if(az(aw(F.getStart()),aE)){aF=aE.length;while(aF--){n.setAttrib(aE[aF],"data-mce-bogus","1")}}};T=function(aF){var aE=aF.keyCode;au();if(aE==8||aE==37||aE==39){au(aw(F.getStart()))}aD()};ap.on("SetContent",function(aE){if(aE.selection){aD()}});ap._hasCaretEvents=true}if(aA=="apply"){ax()}else{aC()}}function ae(ar){var aq=ar.startContainer,ay=ar.startOffset,au,ax,aw,at,av;if(aq.nodeType==3&&ay>=aq.nodeValue.length){ay=H(aq);aq=aq.parentNode;au=true}if(aq.nodeType==1){at=aq.childNodes;aq=at[Math.min(ay,at.length-1)];ax=new j(aq,n.getParent(aq,n.isBlock));if(ay>at.length-1||au){ax.next()}for(aw=ax.current();aw;aw=ax.next()){if(aw.nodeType==3&&!q(aw)){av=n.create("a",null,S);aw.parentNode.insertBefore(av,aw);ar.setStart(aw,0);F.setRng(ar);n.remove(av);return}}}}}});h("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools"],function(j,k){var i=k.trim,l;l=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi");return function(q){var u=this,r=0,o=[],p,s,t=0;function m(){return i(q.getContent({format:"raw",no_events:1}).replace(l,""))}function n(v){u.typing=false;u.add({},v)}q.on("init",function(){u.add()});q.on("BeforeExecCommand",function(w){var v=w.command;if(v!="Undo"&&v!="Redo"&&v!="mceRepaint"){u.beforeChange()}});q.on("ExecCommand",function(w){var v=w.command;if(v!="Undo"&&v!="Redo"&&v!="mceRepaint"){n(w)}});q.on("ObjectResizeStart",function(){u.beforeChange()});q.on("SaveContent ObjectResized blur",n);q.dom.bind(q.dom.getRoot(),"dragend",n);q.on("KeyUp",function(w){var v=w.keyCode;if((v>=33&&v<=36)||(v>=37&&v<=40)||v==45||v==13||w.ctrlKey){n();q.nodeChanged()}if(v==46||v==8||(j.mac&&(v==91||v==93))){q.nodeChanged()}if(s&&u.typing){if(!q.isDirty()){q.isNotDirty=!o[0]||m()==o[0].content;if(!q.isNotDirty){q.fire("change",{level:o[0],lastLevel:null})}}q.fire("TypingUndo");s=false;q.nodeChanged()}});q.on("KeyDown",function(w){var v=w.keyCode;if((v>=33&&v<=36)||(v>=37&&v<=40)||v==45){if(u.typing){n(w)}return}if((v<16||v>20)&&v!=224&&v!=91&&!u.typing){u.beforeChange();u.typing=true;u.add({},w);s=true}});q.on("MouseDown",function(v){if(u.typing){n(v)}});q.addShortcut("ctrl+z","","Undo");q.addShortcut("ctrl+y,ctrl+shift+z","","Redo");q.on("AddUndo Undo Redo ClearUndos MouseUp",function(v){if(!v.isDefaultPrevented()){q.nodeChanged()}});u={data:o,typing:false,beforeChange:function(){if(!t){p=q.selection.getBookmark(2,true)}},add:function(A,z){var w,x=q.settings,y;A=A||{};A.content=m();if(t||q.removed){return null}if(q.fire("BeforeAddUndo",{level:A,originalEvent:z}).isDefaultPrevented()){return null}y=o[r];if(y&&y.content==A.content){return null}if(o[r]){o[r].beforeBookmark=p}if(x.custom_undo_redo_levels){if(o.length>x.custom_undo_redo_levels){for(w=0;w<o.length-1;w++){o[w]=o[w+1]}o.length--;r=o.length}}A.bookmark=q.selection.getBookmark(2,true);if(r<o.length-1){o.length=r+1}o.push(A);r=o.length-1;var v={level:A,lastLevel:y,originalEvent:z};q.fire("AddUndo",v);if(r>0){q.isNotDirty=false;q.fire("change",v)}return A},undo:function(){var v;if(u.typing){u.add();u.typing=false}if(r>0){v=o[--r];if(r===0){q.isNotDirty=true}q.setContent(v.content,{format:"raw"});q.selection.moveToBookmark(v.beforeBookmark);q.fire("undo",{level:v})}return v},redo:function(){var v;if(r<o.length-1){v=o[++r];q.setContent(v.content,{format:"raw"});q.selection.moveToBookmark(v.bookmark);q.fire("redo",{level:v})}return v},clear:function(){o=[];r=0;u.typing=false;q.fire("ClearUndos")},hasUndo:function(){return r>0||(u.typing&&o[0]&&m()!=o[0].content)},hasRedo:function(){return r<o.length-1&&!this.typing},transact:function(v){u.beforeChange();try{t++;v()}finally{t--}u.add()}};return u}});h("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(j,l,i){var k=i.ie&&i.ie<11;return function(p){var t=p.dom,o=p.selection,n=p.settings;var s=p.undoManager,q=p.schema,m=q.getNonEmptyElements();function r(M){var G,R,u,L,F,A,X,N,z,v,y,E,U,I,O;function P(Y){return Y&&t.isBlock(Y)&&!/^(TD|TH|CAPTION|FORM)$/.test(Y.nodeName)&&!/^(fixed|absolute)/i.test(Y.style.position)&&t.getContentEditable(Y)!=="true"}function Q(Z){var Y;if(t.isBlock(Z)){Y=o.getRng();Z.appendChild(t.create("span",null,"\u00a0"));o.select(Z);Z.lastChild.outerHTML="";o.setRng(Y)}}function K(aa){var Z=aa,ab=[],Y;while((Z=Z.firstChild)){if(t.isBlock(Z)){return}if(Z.nodeType==1&&!m[Z.nodeName.toLowerCase()]){ab.push(Z)}}Y=ab.length;while(Y--){Z=ab[Y];if(!Z.hasChildNodes()||(Z.firstChild==Z.lastChild&&Z.firstChild.nodeValue==="")){t.remove(Z)}else{if(Z.nodeName=="A"&&(Z.innerText||Z.textContent)===" "){t.remove(Z)}}}}function x(Z){var af,ac,Y,ab=Z,aa;function ae(ag){while(ag){if(ag.nodeType==1||(ag.nodeType==3&&ag.data&&/[\r\n\s]/.test(ag.data))){return ag}ag=ag.nextSibling}}if(i.ie&&i.ie<9&&A&&A.firstChild){if(A.firstChild==A.lastChild&&A.firstChild.tagName=="BR"){t.remove(A.firstChild)}}if(Z.nodeName=="LI"){var ad=ae(Z.firstChild);if(ad&&/^(UL|OL)$/.test(ad.nodeName)){Z.insertBefore(t.doc.createTextNode("\u00a0"),Z.firstChild)}}Y=t.createRng();if(Z.hasChildNodes()){af=new j(Z,Z);while((ac=af.current())){if(ac.nodeType==3){Y.setStart(ac,0);Y.setEnd(ac,0);break}if(m[ac.nodeName.toLowerCase()]){Y.setStartBefore(ac);Y.setEndBefore(ac);break}ab=ac;ac=af.next()}if(!ac){Y.setStart(ab,0);Y.setEnd(ab,0)}}else{if(Z.nodeName=="BR"){if(Z.nextSibling&&t.isBlock(Z.nextSibling)){if(!X||X<9){aa=t.create("br");Z.parentNode.insertBefore(aa,Z)}Y.setStartBefore(Z);Y.setEndBefore(Z)}else{Y.setStartAfter(Z);Y.setEndAfter(Z)}}else{Y.setStart(Z,0);Y.setEnd(Z,0)}}o.setRng(Y);t.remove(aa);o.scrollIntoView(Z)}function H(Z){var Y=n.forced_root_block;if(Y&&Y.toLowerCase()===Z.tagName.toLowerCase()){t.setAttribs(Z,n.forced_root_block_attrs)}}function C(Z){var aa=L,ac,ab,Y;if(Z||E=="TABLE"){ac=t.create(Z||I);H(ac)}else{ac=A.cloneNode(false)}Y=ac;if(n.keep_styles!==false){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U|VAR|CITE|DFN|CODE|MARK|Q|SUP|SUB|SAMP)$/.test(aa.nodeName)){if(aa.id=="_mce_caret"){continue}ab=aa.cloneNode(false);t.setAttrib(ab,"id","");if(ac.hasChildNodes()){ab.appendChild(ac.firstChild);ac.appendChild(ab)}else{Y=ab;ac.appendChild(ab)}}}while((aa=aa.parentNode))}if(!k){Y.innerHTML='<br data-mce-bogus="1">'}return ac}function B(ab){var aa,Z,Y;if(L.nodeType==3&&(ab?F>0:F<L.nodeValue.length)){return false}if(L.parentNode==A&&O&&!ab){return true}if(ab&&L.nodeType==1&&L==A.firstChild){return true}if(L.nodeName==="TABLE"||(L.previousSibling&&L.previousSibling.nodeName=="TABLE")){return(O&&!ab)||(!O&&ab)}aa=new j(L,A);if(L.nodeType==3){if(ab&&F===0){aa.prev()}else{if(!ab&&F==L.nodeValue.length){aa.next()}}}while((Z=aa.current())){if(Z.nodeType===1){if(!Z.getAttribute("data-mce-bogus")){Y=Z.nodeName.toLowerCase();if(m[Y]&&Y!=="br"){return false}}}else{if(Z.nodeType===3&&!/^[ \t\r\n]*$/.test(Z.nodeValue)){return false}}if(ab){aa.prev()}else{aa.next()}}return true}function w(Z,ad){var af,aa,ab,ac,ae,Y,ag=I||"P";aa=t.getParent(Z,t.isBlock);Y=p.getBody().nodeName.toLowerCase();if(!aa||!P(aa)){aa=aa||u;if(!aa.hasChildNodes()){af=t.create(ag);H(af);aa.appendChild(af);G.setStart(af,0);G.setEnd(af,0);return af}ac=Z;while(ac.parentNode!=aa){ac=ac.parentNode}while(ac&&!t.isBlock(ac)){ab=ac;ac=ac.previousSibling}if(ab&&q.isValidChild(Y,ag.toLowerCase())){af=t.create(ag);H(af);ab.parentNode.insertBefore(af,ab);ac=ab;while(ac&&!t.isBlock(ac)){ae=ac.nextSibling;af.appendChild(ac);ac=ae}G.setStart(Z,ad);G.setEnd(Z,ad)}}return Z}function S(){function Z(ac){var ab=y[ac?"firstChild":"lastChild"];while(ab){if(ab.nodeType==1){break}ab=ab[ac?"nextSibling":"previousSibling"]}return ab===A}function aa(){var ab=y.parentNode;if(ab.nodeName=="LI"){return ab}return y}var Y=y.parentNode.nodeName;if(/^(OL|UL|LI)$/.test(Y)){I="LI"}z=I?C(I):t.create("BR");if(Z(true)&&Z()){if(Y=="LI"){t.insertAfter(z,aa())}else{t.replace(z,y)}}else{if(Z(true)){if(Y=="LI"){t.insertAfter(z,aa());z.appendChild(t.doc.createTextNode(" "));z.appendChild(y)}else{y.parentNode.insertBefore(z,y)}}else{if(Z()){t.insertAfter(z,aa());Q(z)}else{y=aa();R=G.cloneRange();R.setStartAfter(A);R.setEndAfter(y);v=R.extractContents();if(I=="LI"&&v.firstChild.nodeName=="LI"){z=v.firstChild;t.insertAfter(v,y)}else{t.insertAfter(v,y);t.insertAfter(z,y)}}}}t.remove(A);x(z);s.add()}function J(){var Z=new j(L,A),Y;while((Y=Z.next())){if(m[Y.nodeName.toLowerCase()]||Y.length>0){return true}}}function W(){var aa,Z,Y;if(L&&L.nodeType==3&&F>=L.nodeValue.length){if(!k&&!J()){aa=t.create("br");G.insertNode(aa);G.setStartAfter(aa);G.setEndAfter(aa);Z=true}}aa=t.create("br");G.insertNode(aa);if(k&&E=="PRE"&&(!X||X<8)){aa.parentNode.insertBefore(t.doc.createTextNode("\r"),aa)}Y=t.create("span",{},"&nbsp;");aa.parentNode.insertBefore(Y,aa);o.scrollIntoView(Y);t.remove(Y);if(!Z){G.setStartAfter(aa);G.setEndAfter(aa)}else{G.setStartBefore(aa);G.setEndBefore(aa)}o.setRng(G);s.add()}function D(Y){do{if(Y.nodeType===3){Y.nodeValue=Y.nodeValue.replace(/^[\r\n]+/,"")}Y=Y.firstChild}while(Y)}function V(aa){var Y=t.getRoot(),Z,ab;Z=aa;while(Z!==Y&&t.getContentEditable(Z)!=="false"){if(t.getContentEditable(Z)==="true"){ab=Z}Z=Z.parentNode}return Z!==Y?ab:Y}function T(Z){var Y;if(!k){Z.normalize();Y=Z.lastChild;if(!Y||(/^(left|right)$/gi.test(t.getStyle(Y,"float",true)))){t.add(Z,"br")}}}G=o.getRng(true);if(M.isDefaultPrevented()){return}if(!G.collapsed){p.execCommand("Delete");return}new l(t).normalize(G);L=G.startContainer;F=G.startOffset;I=(n.force_p_newlines?"p":"")||n.forced_root_block;I=I?I.toUpperCase():"";X=t.doc.documentMode;N=M.shiftKey;if(L.nodeType==1&&L.hasChildNodes()){O=F>L.childNodes.length-1;L=L.childNodes[Math.min(F,L.childNodes.length-1)]||L;if(O&&L.nodeType==3){F=L.nodeValue.length}else{F=0}}u=V(L);if(!u){return}s.beforeChange();if(!t.isBlock(u)&&u!=t.getRoot()){if(!I||N){W()}return}if((I&&!N)||(!I&&N)){L=w(L,F)}A=t.getParent(L,t.isBlock);y=A?t.getParent(A.parentNode,t.isBlock):null;E=A?A.nodeName.toUpperCase():"";U=y?y.nodeName.toUpperCase():"";if(U=="LI"&&!M.ctrlKey){A=y;E=U}if(E=="LI"){if(!I&&N){W();return}if(t.isEmpty(A)){S();return}}if(E=="PRE"&&n.br_in_pre!==false){if(!N){W();return}}else{if((!I&&!N&&E!="LI")||(I&&N)){W();return}}if(I&&A===p.getBody()){return}I=I||"P";if(B()){if(/^(H[1-6]|PRE|FIGURE)$/.test(E)&&U!="HGROUP"){z=C(I)}else{z=C()}if(n.end_container_on_empty_block&&P(y)&&t.isEmpty(A)){z=t.split(y,A)}else{t.insertAfter(z,A)}x(z)}else{if(B(true)){z=A.parentNode.insertBefore(C(),A);Q(z);x(A)}else{R=G.cloneRange();R.setEndAfter(A);v=R.extractContents();D(v);z=v.firstChild;t.insertAfter(v,A);K(z);T(A);x(z)}}t.setAttrib(z,"id","");p.fire("NewBlock",{newBlock:z});s.add()}p.on("keydown",function(u){if(u.keyCode==13){if(r(u)!==false){u.preventDefault()}}})}});h("tinymce/ForceBlocks",[],function(){return function(k){var j=k.settings,n=k.dom,i=k.selection;var m=k.schema,l=m.getBlockElements();function o(){var u=i.getStart(),s=k.getBody(),p;var v,A,E,C,t;var w,x=-16777215,B,q;var D,r,z;z=j.forced_root_block;if(!u||u.nodeType!==1||!z){return}while(u&&u!=s){if(l[u.nodeName]){return}u=u.parentNode}p=i.getRng();if(p.setStart){v=p.startContainer;A=p.startOffset;E=p.endContainer;C=p.endOffset;try{q=k.getDoc().activeElement===s}catch(y){}}else{if(p.item){u=p.item(0);p=k.getDoc().body.createTextRange();p.moveToElementText(u)}q=p.parentElement().ownerDocument===k.getDoc();D=p.duplicate();D.collapse(true);A=D.move("character",x)*-1;if(!D.collapsed){D=p.duplicate();D.collapse(false);C=(D.move("character",x)*-1)-A}}u=s.firstChild;r=s.nodeName.toLowerCase();while(u){if(((u.nodeType===3||(u.nodeType==1&&!l[u.nodeName])))&&m.isValidChild(r,z.toLowerCase())){if(u.nodeType===3&&u.nodeValue.length===0){w=u;u=u.nextSibling;n.remove(w);continue}if(!t){t=n.create(z,k.settings.forced_root_block_attrs);u.parentNode.insertBefore(t,u);B=true}w=u;u=u.nextSibling;t.appendChild(w)}else{t=null;u=u.nextSibling}}if(B&&q){if(p.setStart){p.setStart(v,A);p.setEnd(E,C);i.setRng(p)}else{try{p=k.getDoc().body.createTextRange();p.moveToElementText(s);p.collapse(true);p.moveStart("character",A);if(C>0){p.moveEnd("character",C)}p.select()}catch(y){}}k.nodeChanged()}}if(j.forced_root_block){k.on("NodeChange",o)}}});h("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools"],function(q,o,l){var s=l.each,p=l.extend;var j=l.map,t=l.inArray,r=l.explode;var i=o.gecko,k=o.ie;var m=true,n=false;return function(C){var B=C.dom,E=C.selection,y={state:{},exec:{},value:{}},z=C.settings,F=C.formatter,D;function G(N,M,L){var K;N=N.toLowerCase();if((K=y.exec[N])){K(N,M,L);return m}return n}function A(L){var K;L=L.toLowerCase();if((K=y.state[L])){return K(L)}return -1}function w(L){var K;L=L.toLowerCase();if((K=y.value[L])){return K(L)}return n}function J(K,L){L=L||"exec";s(K,function(N,M){s(M.toLowerCase().split(","),function(O){y[L][O]=N})})}p(this,{execCommand:G,queryCommandState:A,queryCommandValue:w,addCommands:J});function u(M,L,K){if(L===g){L=n}if(K===g){K=null}return C.getDoc().execCommand(M,L,K)}function I(K){return F.match(K)}function H(K,L){F.toggle(K,L?{value:L}:g);C.nodeChanged()}function x(K){D=E.getBookmark(K)}function v(){E.moveToBookmark(D)}J({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){C.undoManager.add()},"Cut,Copy,Paste":function(O){var M=C.getDoc(),K;try{u(O)}catch(L){K=m}if(K||!M.queryCommandSupported(O)){var N=C.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");if(o.mac){N=N.replace(/Ctrl\+/g,"\u2318+")}C.windowManager.alert(N)}},unlink:function(){if(E.isCollapsed()){var K=E.getNode();if(K.tagName=="A"){C.dom.remove(K,true)}return}F.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(K){var L=K.substring(7);if(L=="full"){L="justify"}s("left,center,right,justify".split(","),function(M){if(L!=M){F.remove("align"+M)}});H("align"+L);G("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(M){var K,L;u(M);K=B.getParent(E.getNode(),"ol,ul");if(K){L=K.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(L.nodeName)){x();B.split(L,K);v()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(K){H(K)},"ForeColor,HiliteColor,FontName":function(M,L,K){H(M,K)},FontSize:function(N,M,L){var K,O;if(L>=1&&L<=7){O=r(z.font_size_style_values);K=r(z.font_size_classes);if(K){L=K[L-1]||L}else{L=O[L-1]||L}}H(N,L)},RemoveFormat:function(K){F.remove(K)},mceBlockQuote:function(){H("blockquote")},FormatBlock:function(M,L,K){return H(K||"p")},mceCleanup:function(){var K=E.getBookmark();C.setContent(C.getContent({cleanup:m}),{cleanup:m});E.moveToBookmark(K)},mceRemoveNode:function(N,M,L){var K=L||E.getNode();if(K!=C.getBody()){x();C.dom.remove(K,m);v()}},mceSelectNodeDepth:function(N,M,L){var K=0;B.getParent(E.getNode(),function(O){if(O.nodeType==1&&K++==L){E.select(O);return n}},C.getBody())},mceSelectNode:function(M,L,K){E.select(K)},mceInsertContent:function(O,W,X){var N,aa,R,ab,L,M;var Q,P,Y,K,S;function Z(af){var ae,ad,ag;ae=E.getRng(true);ad=ae.startContainer;ag=ae.startOffset;function ac(ah){return ad[ah]&&ad[ah].nodeType==3}if(ad.nodeType==3){if(ag>0){af=af.replace(/^&nbsp;/," ")}else{if(!ac("previousSibling")){af=af.replace(/^ /,"&nbsp;")}}if(ag<ad.length){af=af.replace(/&nbsp;(<br>|)$/," ")}else{if(!ac("nextSibling")){af=af.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")}}}return af}if(/^ | $/.test(X)){X=Z(X)}N=C.parser;aa=new q({},C.schema);S='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#200B;</span>';M={content:X,format:"html",selection:true};C.fire("BeforeSetContent",M);X=M.content;if(X.indexOf("{$caret}")==-1){X+="{$caret}"}X=X.replace(/\{\$caret\}/,S);P=E.getRng();var V=P.startContainer||(P.parentElement?P.parentElement():null);var T=C.getBody();if(V===T&&E.isCollapsed()){if(B.isBlock(T.firstChild)&&B.isEmpty(T.firstChild)){P=B.createRng();P.setStart(T.firstChild,0);P.setEnd(T.firstChild,0);E.setRng(P)}}if(!E.isCollapsed()){C.getDoc().execCommand("Delete",false,null)}R=E.getNode();var U={context:R.nodeName.toLowerCase()};L=N.parse(X,U);Y=L.lastChild;if(Y.attr("id")=="mce_marker"){Q=Y;for(Y=Y.prev;Y;Y=Y.walk(true)){if(Y.type==3||!B.isBlock(Y.name)){Y.parent.insert(Q,Y,Y.name==="br");break}}}if(!U.invalid){X=aa.serialize(L);Y=R.firstChild;K=R.lastChild;if(!Y||(Y===K&&Y.nodeName==="BR")){B.setHTML(R,X)}else{E.setContent(X)}}else{E.setContent(S);R=E.getNode();ab=C.getBody();if(R.nodeType==9){R=Y=ab}else{Y=R}while(Y!==ab){R=Y;Y=Y.parentNode}X=R==ab?ab.innerHTML:B.getOuterHTML(R);X=aa.serialize(N.parse(X.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return aa.serialize(L)})));if(R==ab){B.setHTML(ab,X)}else{B.setOuterHTML(R,X)}}Q=B.get("mce_marker");E.scrollIntoView(Q);P=B.createRng();Y=Q.previousSibling;if(Y&&Y.nodeType==3){P.setStart(Y,Y.nodeValue.length);if(!k){K=Q.nextSibling;if(K&&K.nodeType==3){Y.appendData(K.data);K.parentNode.removeChild(K)}}}else{P.setStartBefore(Q);P.setEndBefore(Q)}B.remove(Q);E.setRng(P);C.fire("SetContent",M);C.addVisual()},mceInsertRawHTML:function(M,L,K){E.setContent("tiny_mce_marker");C.setContent(C.getContent().replace(/tiny_mce_marker/g,function(){return K}))},mceToggleFormat:function(M,L,K){H(K)},mceSetContent:function(M,L,K){C.setContent(K)},"Indent,Outdent":function(N){var L,K,M;L=z.indentation;K=/[a-z%]+$/i.exec(L);L=parseInt(L,10);if(!A("InsertUnorderedList")&&!A("InsertOrderedList")){if(!z.forced_root_block&&!B.getParent(E.getNode(),B.isBlock)){F.apply("div")}s(E.getSelectedBlocks(),function(P){if(P.nodeName!="LI"){var O=C.getParam("indent_use_margin",false)?"margin":"padding";O+=B.getStyle(P,"direction",true)=="rtl"?"Right":"Left";if(N=="outdent"){M=Math.max(0,parseInt(P.style[O]||0,10)-L);B.setStyle(P,O,M?M+K:"")}else{M=(parseInt(P.style[O]||0,10)+L)+K;B.setStyle(P,O,M)}}})}else{u(N)}},mceRepaint:function(){if(i){try{x(m);if(E.getSel()){E.getSel().selectAllChildren(C.getBody())}E.collapse(m);v()}catch(K){}}},InsertHorizontalRule:function(){C.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){C.hasVisual=!C.hasVisual;C.addVisual()},mceReplaceContent:function(M,L,K){C.execCommand("mceInsertContent",false,K.replace(/\{\$selection\}/g,E.getContent({format:"text"})))},mceInsertLink:function(N,M,L){var K;if(typeof(L)=="string"){L={href:L}}K=B.getParent(E.getNode(),"a");L.href=L.href.replace(" ","%20");if(!K||!L.href){F.remove("link")}if(L.href){F.apply("link",L,K)}},selectAll:function(){var L=B.getRoot(),K;if(E.getRng().setStart){K=B.createRng();K.setStart(L,0);K.setEnd(L,L.childNodes.length);E.setRng(K)}else{K=E.getRng();if(!K.item){K.moveToElementText(L);K.select()}}},"delete":function(){u("Delete");var K=C.getBody();if(B.isEmpty(K)){C.setContent("");if(K.firstChild&&B.isBlock(K.firstChild)){C.selection.setCursorLocation(K.firstChild,0)}else{C.selection.setCursorLocation(K,0)}}},mceNewDocument:function(){C.setContent("")}});J({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(N){var L="align"+N.substring(7);var K=E.isCollapsed()?[B.getParent(E.getNode(),B.isBlock)]:E.getSelectedBlocks();var M=j(K,function(O){return !!F.matchNode(O,L)});return t(M,m)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(K){return I(K)},mceBlockQuote:function(){return I("blockquote")},Outdent:function(){var K;if(z.inline_styles){if((K=B.getParent(E.getStart(),B.isBlock))&&parseInt(K.style.paddingLeft,10)>0){return m}if((K=B.getParent(E.getEnd(),B.isBlock))&&parseInt(K.style.paddingLeft,10)>0){return m}}return(A("InsertUnorderedList")||A("InsertOrderedList")||(!z.inline_styles&&!!B.getParent(E.getNode(),"BLOCKQUOTE")))},"InsertUnorderedList,InsertOrderedList":function(L){var K=B.getParent(E.getNode(),"ul,ol");return K&&(L==="insertunorderedlist"&&K.tagName==="UL"||L==="insertorderedlist"&&K.tagName==="OL")}},"state");J({"FontSize,FontName":function(M){var L=0,K;if((K=B.getParent(E.getNode(),"span"))){if(M=="fontsize"){L=K.style.fontSize}else{L=K.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return L}},"value");J({Undo:function(){C.undoManager.undo()},Redo:function(){C.undoManager.redo()}})}});h("tinymce/util/URI",["tinymce/util/Tools"],function(k){var l=k.each,i=k.trim;function j(o,p){var n=this,r,q;o=i(o);p=n.settings=p||{};if(/^([\w\-]+):([^\/]{2})/i.test(o)||/^\s*#/.test(o)){n.source=o;return}var m=o.indexOf("//")===0;if(o.indexOf("/")===0&&!m){o=(p.base_uri?p.base_uri.protocol||"http":"http")+"://mce_host"+o}if(!/^[\w\-]*:?\/\//.test(o)){q=p.base_uri?p.base_uri.path:new j(location.href).directory;if(p.base_uri.protocol===""){o="//mce_host"+n.toAbsPath(q,o)}else{o=((p.base_uri&&p.base_uri.protocol)||"http")+"://mce_host"+n.toAbsPath(q,o)}}o=o.replace(/@@/g,"(mce_at)");o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(o);l(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(s,u){var t=o[u];if(t){t=t.replace(/\(mce_at\)/g,"@@")}n[s]=t});r=p.base_uri;if(r){if(!n.protocol){n.protocol=r.protocol}if(!n.userInfo){n.userInfo=r.userInfo}if(!n.port&&n.host==="mce_host"){n.port=r.port}if(!n.host||n.host==="mce_host"){n.host=r.host}n.source=""}if(m){n.protocol=""}}j.prototype={setPath:function(n){var m=this;n=/^(.*?)\/?(\w+)?$/.exec(n);m.path=n[0];m.directory=n[1];m.file=n[2];m.source="";m.getURI()},toRelative:function(q){var n=this,m;if(q==="./"){return q}q=new j(q,{base_uri:n});if((q.host!="mce_host"&&n.host!=q.host&&q.host)||n.port!=q.port||(n.protocol!=q.protocol&&q.protocol!=="")){return q.getURI()}var o=n.getURI(),p=q.getURI();if(o==p||(o.charAt(o.length-1)=="/"&&o.substr(0,o.length-1)==p)){return o}m=n.toRelPath(n.path,q.path);if(q.query){m+="?"+q.query}if(q.anchor){m+="#"+q.anchor}return m},toAbsolute:function(n,m){n=new j(n,{base_uri:this});return n.getURI(this.host==n.host&&this.protocol==n.protocol?m:0)},toRelPath:function(r,s){var n,q=0,o="",p,m;r=r.substring(0,r.lastIndexOf("/"));r=r.split("/");n=s.split("/");if(r.length>=n.length){for(p=0,m=r.length;p<m;p++){if(p>=n.length||r[p]!=n[p]){q=p+1;break}}}if(r.length<n.length){for(p=0,m=n.length;p<m;p++){if(p>=r.length||r[p]!=n[p]){q=p+1;break}}}if(q===1){return s}for(p=0,m=r.length-(q-1);p<m;p++){o+="../"}for(p=q-1,m=n.length;p<m;p++){if(p!=q-1){o+="/"+n[p]}else{o+=n[p]}}return o},toAbsPath:function(q,r){var n,m=0,t=[],p,s;p=/\/$/.test(r)?"/":"";q=q.split("/");r=r.split("/");l(q,function(o){if(o){t.push(o)}});q=t;for(n=r.length-1,t=[];n>=0;n--){if(r[n].length===0||r[n]==="."){continue}if(r[n]===".."){m++;continue}if(m>0){m--;continue}t.push(r[n])}n=q.length-m;if(n<=0){s=t.reverse().join("/")}else{s=q.slice(0,n).join("/")+"/"+t.reverse().join("/")}if(s.indexOf("/")!==0){s="/"+s}if(p&&s.lastIndexOf("/")!==s.length-1){s+=p}return s},getURI:function(o){var n,m=this;if(!m.source||o){n="";if(!o){if(m.protocol){n+=m.protocol+"://"}else{n+="//"}if(m.userInfo){n+=m.userInfo+"@"}if(m.host){n+=m.host}if(m.port){n+=":"+m.port}}if(m.path){n+=m.path}if(m.query){n+="?"+m.query}if(m.anchor){n+="#"+m.anchor}m.source=n}return m.source}};return j});h("tinymce/util/Class",["tinymce/util/Tools"],function(l){var m=l.each,n=l.extend;var k,j;function i(){}i.extend=k=function(o){var w=this,v=w.prototype,u,p,t;function q(){var A,x,z,y=this;if(!j){if(y.init){y.init.apply(y,arguments)}x=y.Mixins;if(x){A=x.length;while(A--){z=x[A];if(z.init){z.init.apply(y,arguments)}}}}}function r(){return this}function s(x,y){return function(){var z=this,B=z._super,A;z._super=v[x];A=y.apply(z,arguments);z._super=B;return A}}j=true;u=new w();j=false;if(o.Mixins){m(o.Mixins,function(x){x=x;for(var y in x){if(y!=="init"){o[y]=x[y]}}});if(v.Mixins){o.Mixins=v.Mixins.concat(o.Mixins)}}if(o.Methods){m(o.Methods.split(","),function(x){o[x]=r})}if(o.Properties){m(o.Properties.split(","),function(x){var y="_"+x;o[x]=function(B){var z=this,A;if(B!==A){z[y]=B;return z}return z[y]}})}if(o.Statics){m(o.Statics,function(y,x){q[x]=y})}if(o.Defaults&&v.Defaults){o.Defaults=n({},v.Defaults,o.Defaults)}for(p in o){t=o[p];if(typeof t=="function"&&v[p]){u[p]=s(p,t)}else{u[p]=t}}q.prototype=u;q.constructor=q;q.extend=k;return q};return i});h("tinymce/ui/Selector",["tinymce/util/Class"],function(k){function o(s){var p=[],q=s.length,r;while(q--){r=s[q];if(!r.__checked){p.push(r);r.__checked=1}}q=p.length;while(q--){delete p[q].__checked}return p}var n=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i;var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,m=/^\s*|\s*$/g,l;var j=k.extend({init:function(q){var s=this.match;function r(y){if(y){y=y.toLowerCase();return function(z){return y==="*"||z.type===y}}}function w(y){if(y){return function(z){return z._name===y}}}function t(y){if(y){y=y.split(".");return function(A){var z=y.length;while(z--){if(!A.hasClass(y[z])){return false}}return true}}}function p(z,A,y){if(z){return function(B){var C=B[z]?B[z]():"";return !A?!!y:A==="="?C===y:A==="*="?C.indexOf(y)>=0:A==="~="?(" "+C+" ").indexOf(" "+y+" ")>=0:A==="!="?C!=y:A==="^="?C.indexOf(y)===0:A==="$="?C.substr(C.length-y.length)===y:false}}}function v(y){var z;if(y){y=/(?:not\((.+)\))|(.+)/i.exec(y);if(!y[1]){y=y[2];return function(C,A,B){return y==="first"?A===0:y==="last"?A===B-1:y==="even"?A%2===0:y==="odd"?A%2===1:C[y]?C[y]():false}}else{z=u(y[1],[]);return function(A){return !s(A,z)}}}}function x(y,z,C){var B;function A(D){if(D){z.push(D)}}B=n.exec(y.replace(m,""));A(r(B[1]));A(w(B[2]));A(t(B[3]));A(p(B[4],B[5],B[6]));A(v(B[7]));z.psuedo=!!B[7];z.direct=C;return z}function u(z,B){var D=[],y,C,A;do{i.exec("");C=i.exec(z);if(C){z=C[3];D.push(C[1]);if(C[2]){y=C[3];break}}}while(C);if(y){u(y,B)}z=[];for(A=0;A<D.length;A++){if(D[A]!=">"){z.push(x(D[A],[],D[A-1]===">"))}}B.push(z);return B}this._selectors=u(q,[])},match:function(u,B){var v,r,w,s,t,D,A,q,y,p,z,x,C;B=B||this._selectors;for(v=0,r=B.length;v<r;v++){t=B[v];s=t.length;C=u;x=0;for(w=s-1;w>=0;w--){q=t[w];while(C){if(q.psuedo){z=C.parent().items();y=p=z.length;while(y--){if(z[y]===C){break}}}for(D=0,A=q.length;D<A;D++){if(!q[D](C,y,p)){D=A+1;break}}if(D===A){x++;break}else{if(w===s-1){break}}C=C.parent()}}if(x===s){return true}}return false},find:function(q){var u=[],s,p,r=this._selectors;function t(A,x,z){var y,w,C,B,D,v=x[z];for(y=0,w=A.length;y<w;y++){D=A[y];for(C=0,B=v.length;C<B;C++){if(!v[C](D,y,w)){C=B+1;break}}if(C===B){if(z==x.length-1){u.push(D)}else{if(D.items){t(D.items(),x,z+1)}}}else{if(v.direct){return}}if(D.items){t(D.items(),x,z)}}}if(q.items){for(s=0,p=r.length;s<p;s++){t(q.items(),r[s],0)}if(p>1){u=o(u)}}if(!l){l=j.Collection}return new l(u)}});return j});h("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(l,i,j){var m,n,k=Array.prototype.push,o=Array.prototype.slice;n={length:0,init:function(p){if(p){this.add(p)}},add:function(q){var p=this;if(!l.isArray(q)){if(q instanceof m){p.add(q.toArray())}else{k.call(p,q)}}else{k.apply(p,q)}return p},set:function(r){var q=this,p=q.length,s;q.length=0;q.add(r);for(s=q.length;s<p;s++){delete q[s]}return q},filter:function(p){var r=this,t,q,v=[],u,s;if(typeof(p)==="string"){p=new i(p);s=function(w){return p.match(w)}}else{s=p}for(t=0,q=r.length;t<q;t++){u=r[t];if(s(u)){v.push(u)}}return new m(v)},slice:function(){return new m(o.apply(this,arguments))},eq:function(p){return p===-1?this.slice(p):this.slice(p,+p+1)},each:function(p){l.each(this,p);return this},toArray:function(){return l.toArray(this)},indexOf:function(r){var p=this,q=p.length;while(q--){if(p[q]===r){break}}return q},reverse:function(){return new m(l.toArray(this).reverse())},hasClass:function(p){return this[0]?this[0].hasClass(p):false},prop:function(q,t){var p=this,r,s;if(t!==r){p.each(function(u){if(u[q]){u[q](t)}});return p}s=p[0];if(s&&s[q]){return s[q]()}},exec:function(r){var p=this,q=l.toArray(arguments).slice(1);p.each(function(s){if(s[r]){s[r].apply(s,q)}});return p},remove:function(){var p=this.length;while(p--){this[p].remove()}return this}};l.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(p){n[p]=function(){var q=l.toArray(arguments);this.each(function(r){if(p in r){r[p].apply(r,q)}});return this}});l.each("text name disabled active selected checked visible parent value data".split(" "),function(p){n[p]=function(q){return this.prop(p,q)}});m=j.extend(n);i.Collection=m;return m});h("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(i,j){return{id:function(){return j.DOM.uniqueId()},createFragment:function(k){return j.DOM.createFragment(k)},getWindowSize:function(){return j.DOM.getViewPort()},getSize:function(n){var l,k;if(n.getBoundingClientRect){var m=n.getBoundingClientRect();l=Math.max(m.width||(m.right-m.left),n.offsetWidth);k=Math.max(m.height||(m.bottom-m.bottom),n.offsetHeight)}else{l=n.offsetWidth;k=n.offsetHeight}return{width:l,height:k}},getPos:function(l,k){return j.DOM.getPos(l,k)},getViewPort:function(k){return j.DOM.getViewPort(k)},get:function(k){return document.getElementById(k)},addClass:function(l,k){return j.DOM.addClass(l,k)},removeClass:function(l,k){return j.DOM.removeClass(l,k)},hasClass:function(l,k){return j.DOM.hasClass(l,k)},toggleClass:function(m,k,l){return j.DOM.toggleClass(m,k,l)},css:function(m,k,l){return j.DOM.setStyle(m,k,l)},on:function(m,k,n,l){return j.DOM.bind(m,k,n,l)},off:function(l,k,m){return j.DOM.unbind(l,k,m)},fire:function(m,l,k){return j.DOM.fire(m,l,k)},innerHtml:function(l,k){j.DOM.setHTML(l,k)}}});h("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(j,n,o,i){var p=n.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," ");var r={};var l="onmousewheel" in document;var m=false;var q="mce-";var k=j.extend({Statics:{elementIdCache:r,classPrefix:q},isRtl:function(){return k.rtl},classPrefix:q,init:function(v){var s=this,u,t;s.settings=v=n.extend({},s.Defaults,v);s._id=v.id||i.id();s._text=s._name="";s._width=s._height=0;s._aria={role:v.role};u=v.classes;if(u){u=u.split(" ");u.map={};t=u.length;while(t--){u.map[u[t]]=true}}s._classes=u||[];s.visible(true);n.each("title text width height name classes visible disabled active value".split(" "),function(w){var y=v[w],x;if(y!==x){s[w](y)}else{if(s["_"+w]===x){s["_"+w]=false}}});s.on("click",function(){if(s.disabled()){return false}});if(v.classes){n.each(v.classes.split(" "),function(w){s.addClass(w)})}s.settings=v;s._borderBox=s.parseBox(v.border);s._paddingBox=s.parseBox(v.padding);s._marginBox=s.parseBox(v.margin);if(v.hidden){s.hide()}},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(u){var s,t=this.getRoot().controlIdLookup;while(u&&t){s=t[u.id];if(s){break}u=u.parentNode}return s},parseBox:function(u){var s,t=10;if(!u){return}if(typeof(u)==="number"){u=u||0;return{top:u,left:u,bottom:u,right:u}}u=u.split(" ");s=u.length;if(s===1){u[1]=u[2]=u[3]=u[0]}else{if(s===2){u[2]=u[0];u[3]=u[1]}else{if(s===3){u[3]=u[1]}}}return{top:parseInt(u[0],t)||0,right:parseInt(u[1],t)||0,bottom:parseInt(u[2],t)||0,left:parseInt(u[3],t)||0}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(v,t){function s(w){var x=document.defaultView;if(x){w=w.replace(/[A-Z]/g,function(y){return"-"+y});return x.getComputedStyle(v,null).getPropertyValue(w)}return v.currentStyle[w]}function u(w){var x=parseFloat(s(w),10);return isNaN(x)?0:x}return{top:u(t+"TopWidth"),right:u(t+"RightWidth"),bottom:u(t+"BottomWidth"),left:u(t+"LeftWidth")}},initLayoutRect:function(){var I=this,A=I.settings,v,E;var C=I.getEl(),z,G,w,F,y;var s,u,H;v=I._borderBox=I._borderBox||I.measureBox(C,"border");I._paddingBox=I._paddingBox||I.measureBox(C,"padding");I._marginBox=I._marginBox||I.measureBox(C,"margin");H=i.getSize(C);s=A.minWidth;u=A.minHeight;w=s||H.width;F=u||H.height;z=A.width;G=A.height;y=A.autoResize;y=typeof(y)!="undefined"?y:!z&&!G;z=z||w;G=G||F;var B=v.left+v.right;var t=v.top+v.bottom;var x=A.maxWidth||65535;var D=A.maxHeight||65535;I._layoutRect=E={x:A.x||0,y:A.y||0,w:z,h:G,deltaW:B,deltaH:t,contentW:z-B,contentH:G-t,innerW:z-B,innerH:G-t,startMinWidth:s||0,startMinHeight:u||0,minW:Math.min(w,x),minH:Math.min(F,D),maxW:x,maxH:D,autoResize:y,scrollW:0};I._lastLayoutRect={};return E},layoutRect:function(t){var z=this,v=z._layoutRect,y,A,x,w,s,u;if(!v){v=z.initLayoutRect()}if(t){x=v.deltaW;w=v.deltaH;if(t.x!==s){v.x=t.x}if(t.y!==s){v.y=t.y}if(t.minW!==s){v.minW=t.minW}if(t.minH!==s){v.minH=t.minH}A=t.w;if(A!==s){A=A<v.minW?v.minW:A;A=A>v.maxW?v.maxW:A;v.w=A;v.innerW=A-x}A=t.h;if(A!==s){A=A<v.minH?v.minH:A;A=A>v.maxH?v.maxH:A;v.h=A;v.innerH=A-w}A=t.innerW;if(A!==s){A=A<v.minW-x?v.minW-x:A;A=A>v.maxW-x?v.maxW-x:A;v.innerW=A;v.w=A+x}A=t.innerH;if(A!==s){A=A<v.minH-w?v.minH-w:A;A=A>v.maxH-w?v.maxH-w:A;v.innerH=A;v.h=A+w}if(t.contentW!==s){v.contentW=t.contentW}if(t.contentH!==s){v.contentH=t.contentH}y=z._lastLayoutRect;if(y.x!==v.x||y.y!==v.y||y.w!==v.w||y.h!==v.h){u=k.repaintControls;if(u){if(u.map&&!u.map[z._id]){u.push(z);u.map[z._id]=true}}y.x=v.x;y.y=v.y;y.w=v.w;y.h=v.h}return z}return v},repaint:function(){var A=this,t,v,w,s,y=0,u=0,x,z;z=!document.createRange?Math.round:function(B){return B};t=A.getEl().style;w=A._layoutRect;x=A._lastRepaintRect||{};s=A._borderBox;y=s.left+s.right;u=s.top+s.bottom;if(w.x!==x.x){t.left=z(w.x)+"px";x.x=w.x}if(w.y!==x.y){t.top=z(w.y)+"px";x.y=w.y}if(w.w!==x.w){t.width=z(w.w-y)+"px";x.w=w.w}if(w.h!==x.h){t.height=z(w.h-u)+"px";x.h=w.h}if(A._hasBody&&w.innerW!==x.innerW){v=A.getEl("body").style;v.width=z(w.innerW)+"px";x.innerW=w.innerW}if(A._hasBody&&w.innerH!==x.innerH){v=v||A.getEl("body").style;v.height=z(w.innerH)+"px";x.innerH=w.innerH}A._lastRepaintRect=x;A.fire("repaint",{},false)},on:function(v,z){var u=this,y,t,x,w;function s(A){var C,B;return function(D){if(!C){u.parentsAndSelf().each(function(F){var E=F.settings.callbacks;if(E&&(C=E[A])){B=F;return false}})}return C.call(B,D)}}if(z){if(typeof(z)=="string"){z=s(z)}x=v.toLowerCase().split(" ");w=x.length;while(w--){v=x[w];y=u._bindings;if(!y){y=u._bindings={}}t=y[v];if(!t){t=y[v]=[]}t.push(z);if(p[v]){if(!u._nativeEvents){u._nativeEvents={}}u._nativeEvents[v]=true;if(u._rendered){u.bindPendingEvents()}}}}return u},off:function(s,z){var A=this,x,t=A._bindings,w,u,y,v;if(t){if(s){y=s.toLowerCase().split(" ");x=y.length;while(x--){s=y[x];w=t[s];if(!s){for(u in t){t[u].length=0}return A}if(w){if(!z){w.length=0}else{v=w.length;while(v--){if(w[v]===z){w.splice(v,1)}}}}}}else{A._bindings=[]}}return A},fire:function(s,z,A){var B=this,y,w,u,v;s=s.toLowerCase();function t(){return false}function x(){return true}z=z||{};if(!z.type){z.type=s}if(!z.control){z.control=B}if(!z.preventDefault){z.preventDefault=function(){z.isDefaultPrevented=x};z.stopPropagation=function(){z.isPropagationStopped=x};z.stopImmediatePropagation=function(){z.isImmediatePropagationStopped=x};z.isDefaultPrevented=t;z.isPropagationStopped=t;z.isImmediatePropagationStopped=t}if(B._bindings){u=B._bindings[s];if(u){for(y=0,w=u.length;y<w;y++){if(!z.isImmediatePropagationStopped()&&u[y].call(B,z)===false){break}}}}if(A!==false){v=B.parent();while(v&&!z.isPropagationStopped()){v.fire(s,z,false);v=v.parent()}}return z},hasEventListeners:function(s){return s in this._bindings},parents:function(s){var t=this,v,u=new o();for(v=t.parent();v;v=v.parent()){u.add(v)}if(s){u=u.filter(s)}return u},parentsAndSelf:function(s){return new o(this).add(this.parents(s))},next:function(){var s=this.parent().items();return s[s.indexOf(this)+1]},prev:function(){var s=this.parent().items();return s[s.indexOf(this)-1]},findCommonAncestor:function(s,u){var t;while(s){t=u;while(t&&s!=t){t=t.parent()}if(s==t){break}s=s.parent()}return s},hasClass:function(s,u){var t=this._classes[u||"control"];s=this.classPrefix+s;return t&&!!t.map[s]},addClass:function(s,v){var t=this,u,w;s=this.classPrefix+s;u=t._classes[v||"control"];if(!u){u=[];u.map={};t._classes[v||"control"]=u}if(!u.map[s]){u.map[s]=s;u.push(s);if(t._rendered){w=t.getEl(v);if(w){w.className=u.join(" ")}}}return t},removeClass:function(s,w){var t=this,v,u,x;s=this.classPrefix+s;v=t._classes[w||"control"];if(v&&v.map[s]){delete v.map[s];u=v.length;while(u--){if(v[u]===s){v.splice(u,1)}}}if(t._rendered){x=t.getEl(w);if(x){x.className=v.join(" ")}}return t},toggleClass:function(s,u,v){var t=this;if(u){t.addClass(s,v)}else{t.removeClass(s,v)}return t},classes:function(t){var s=this._classes[t||"control"];return s?s.join(" "):""},innerHtml:function(s){i.innerHtml(this.getEl(),s);return this},getEl:function(t,s){var v,u=t?this._id+"-"+t:this._id;v=r[u]=(s===true?null:r[u])||i.get(u);return v},visible:function(u){var t=this,s;if(typeof(u)!=="undefined"){if(t._visible!==u){if(t._rendered){t.getEl().style.display=u?"":"none"}t._visible=u;s=t.parent();if(s){s._lastRect=null}t.fire(u?"show":"hide")}return t}return t._visible},show:function(){return this.visible(true)},hide:function(){return this.visible(false)},focus:function(){try{this.getEl().focus()}catch(s){}return this},blur:function(){this.getEl().blur();return this},aria:function(t,u){var s=this,v=s.getEl(s.ariaTarget);if(typeof(u)==="undefined"){return s._aria[t]}else{s._aria[t]=u}if(s._rendered){v.setAttribute(t=="role"?t:"aria-"+t,u)}return s},encode:function(t,s){if(s!==false){t=this.translate(t)}return(t||"").replace(/[&<>"]/g,function(u){return"&#"+u.charCodeAt(0)+";"})},translate:function(s){return k.translate?k.translate(s):s},before:function(t){var s=this,u=s.parent();if(u){u.insert(t,u.items().indexOf(s),true)}return s},after:function(t){var s=this,u=s.parent();if(u){u.insert(t,u.items().indexOf(s))}return s},remove:function(){var u=this,z=u.getEl(),x=u.parent(),v,w;if(u.items){var t=u.items().toArray();w=t.length;while(w--){t[w].remove()}}if(x&&x.items){v=[];x.items().each(function(A){if(A!==u){v.push(A)}});x.items().set(v);x._lastRect=null}if(u._eventsRoot&&u._eventsRoot==u){i.off(z)}var y=u.getRoot().controlIdLookup;if(y){delete y[u._id]}delete r[u._id];if(z&&z.parentNode){var s=z.getElementsByTagName("*");w=s.length;while(w--){delete r[s[w].id]}z.parentNode.removeChild(z)}u._rendered=false;return u},renderBefore:function(t){var s=this;t.parentNode.insertBefore(i.createFragment(s.renderHtml()),t);s.postRender();return s},renderTo:function(t){var s=this;t=t||s.getContainerElm();t.appendChild(i.createFragment(s.renderHtml()));s.postRender();return s},postRender:function(){var A=this,t=A.settings,v,u,y,s,x;for(s in t){if(s.indexOf("on")===0){A.on(s.substr(2),t[s])}}if(A._eventsRoot){for(y=A.parent();!x&&y;y=y.parent()){x=y._eventsRoot}if(x){for(s in x._nativeEvents){A._nativeEvents[s]=true}}}A.bindPendingEvents();if(t.style){v=A.getEl();if(v){v.setAttribute("style",t.style);v.style.cssText=t.style}}if(!A._visible){i.css(A.getEl(),"display","none")}if(A.settings.border){u=A.borderBox();i.css(A.getEl(),{"border-top-width":u.top,"border-right-width":u.right,"border-bottom-width":u.bottom,"border-left-width":u.left})}var w=A.getRoot();if(!w.controlIdLookup){w.controlIdLookup={}}w.controlIdLookup[A._id]=A;for(var z in A._aria){A.aria(z,A._aria[z])}A.fire("postrender",{},false)},scrollIntoView:function(u){function E(J,H){var F,I,G=J;F=I=0;while(G&&G!=H&&G.nodeType){F+=G.offsetLeft||0;I+=G.offsetTop||0;G=G.offsetParent}return{x:F,y:I}}var w=this.getEl(),v=w.parentNode;var B,A,s,D,C,t;var z=E(w,v);B=z.x;A=z.y;s=w.offsetWidth;D=w.offsetHeight;C=v.clientWidth;t=v.clientHeight;if(u=="end"){B-=C-s;A-=t-D}else{if(u=="center"){B-=(C/2)-(s/2);A-=(t/2)-(D/2)}}v.scrollLeft=B;v.scrollTop=A;return this},bindPendingEvents:function(){var D=this,x,v,B,u,z,t;function A(F){var E=D.getParentCtrl(F.target);if(E){E.fire(F.type,F)}}function w(){var E=u._lastHoverCtrl;if(E){E.fire("mouseleave",{target:E.getEl()});E.parents().each(function(F){F.fire("mouseleave",{target:F.getEl()})});u._lastHoverCtrl=null}}function C(J){var I=D.getParentCtrl(J.target),H=u._lastHoverCtrl,E=0,G,F,K;if(I!==H){u._lastHoverCtrl=I;F=I.parents().toArray().reverse();F.push(I);if(H){K=H.parents().toArray().reverse();K.push(H);for(E=0;E<K.length;E++){if(F[E]!==K[E]){break}}for(G=K.length-1;G>=E;G--){H=K[G];H.fire("mouseleave",{target:H.getEl()})}}for(G=E;G<F.length;G++){I=F[G];I.fire("mouseenter",{target:I.getEl()})}}}function s(E){E.preventDefault();if(E.type=="mousewheel"){E.deltaY=-1/40*E.wheelDelta;if(E.wheelDeltaX){E.deltaX=-1/40*E.wheelDeltaX}}else{E.deltaX=0;E.deltaY=E.detail}E=D.fire("wheel",E)}D._rendered=true;z=D._nativeEvents;if(z){B=D.parents().toArray();B.unshift(D);for(x=0,v=B.length;!u&&x<v;x++){u=B[x]._eventsRoot}if(!u){u=B[B.length-1]||D}D._eventsRoot=u;for(v=x,x=0;x<v;x++){B[x]._eventsRoot=u}var y=u._delegates;if(!y){y=u._delegates={}}for(t in z){if(!z){return false}if(t==="wheel"&&!m){if(l){i.on(D.getEl(),"mousewheel",s)}else{i.on(D.getEl(),"DOMMouseScroll",s)}continue}if(t==="mouseenter"||t==="mouseleave"){if(!u._hasMouseEnter){i.on(u.getEl(),"mouseleave",w);i.on(u.getEl(),"mouseover",C);u._hasMouseEnter=1}}else{if(!y[t]){i.on(u.getEl(),t,A);y[t]=true}}z[t]=false}}},getRoot:function(){var v=this,u,s=[];while(v){if(v.rootControl){u=v.rootControl;break}s.push(v);u=v;v=v.parent()}if(!u){u=this}var t=s.length;while(t--){s[t].rootControl=u}return u},reflow:function(){this.repaint();return this}});return k});h("tinymce/ui/Factory",[],function(){var i={},j;return{add:function(k,l){i[k.toLowerCase()]=l},has:function(k){return !!i[k.toLowerCase()]},create:function(o,n){var k,l,m;if(!j){m=tinymce.ui;for(l in m){i[l.toLowerCase()]=m[l]}j=true}if(typeof(o)=="string"){n=n||{};n.type=o}else{n=o;o=n.type}o=o.toLowerCase();k=i[o];if(!k){throw new Error("Could not find control by type: "+o)}k=new k(n);k.type=o;return k}}});h("tinymce/ui/KeyboardNavigation",[],function(){return function(z){var w=z.root,i,p;i=document.activeElement;p=w.getParentCtrl(i);function t(D){D=D||i;return D&&D.getAttribute("role")}function C(F){var E,D=F||i;while((D=D.parentNode)){if((E=t(D))){return E}}}function v(D){var E=i;if(E){return E.getAttribute("aria-"+D)}}function u(E){var D=E.tagName.toUpperCase();return D=="INPUT"||D=="TEXTAREA"}function j(D){if(u(D)&&!D.hidden){return true}if(/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(t(D))){return true}return false}function o(F){var E=[];function D(H){if(H.nodeType!=1||H.style.display=="none"){return}if(j(H)){E.push(H)}for(var G=0;G<H.childNodes.length;G++){D(H.childNodes[G])}}D(F||w.getEl());return E}function n(G){var E,D;G=G||p;D=G.parents().toArray();D.unshift(G);for(var F=0;F<D.length;F++){E=D[F];if(E.settings.ariaRoot){break}}return E}function x(F){var D=n(F);var E=o(D.getEl());if(D.settings.ariaRemember&&"lastAriaIndex" in D){r(D.lastAriaIndex,E)}else{r(0,E)}}function r(D,E){if(D<0){D=E.length-1}else{if(D>=E.length){D=0}}if(E[D]){E[D].focus()}return D}function B(F,H){var D=-1,E=n();H=H||o(E.getEl());for(var G=0;G<H.length;G++){if(H[G]===i){D=G}}D+=F;E.lastAriaIndex=r(D,H)}function m(){var D=C();if(D=="tablist"){B(-1,o(i.parentNode))}else{if(p.parent().submenu){l()}else{B(-1)}}}function A(){var E=t(),D=C();if(D=="tablist"){B(1,o(i.parentNode))}else{if(E=="menuitem"&&D=="menu"&&v("haspopup")){y()}else{B(1)}}}function q(){B(-1)}function s(){var E=t(),D=C();if(E=="menuitem"&&D=="menubar"){y()}else{if(E=="button"&&v("haspopup")){y({key:"down"})}else{B(1)}}}function k(E){var D=C();if(D=="tablist"){var F=o(p.getEl("body"))[0];if(F){F.focus()}}else{B(E.shiftKey?-1:1)}}function l(){p.fire("cancel")}function y(D){D=D||{};p.fire("click",{target:i,aria:D})}w.on("keydown",function(E){function D(G,F){if(u(i)){return}if(F(G)!==false){G.preventDefault()}}if(E.isDefaultPrevented()){return}switch(E.keyCode){case 37:D(E,m);break;case 39:D(E,A);break;case 38:D(E,q);break;case 40:D(E,s);break;case 27:l();break;case 14:case 13:case 32:D(E,y);break;case 9:if(k(E)!==false){E.preventDefault()}break}});w.on("focusin",function(D){i=D.target;p=D.control});return{focusFirst:x}}});h("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/ui/DomUtils"],function(p,o,k,i,n,m,j){var l={};return p.extend({layout:"",innerClass:"container-inner",init:function(r){var q=this;q._super(r);r=q.settings;q._fixed=r.fixed;q._items=new o();if(q.isRtl()){q.addClass("rtl")}q.addClass("container");q.addClass("container-body","body");if(r.containerCls){q.addClass(r.containerCls)}q._layout=i.create((r.layout||q.layout)+"layout");if(q.settings.items){q.add(q.settings.items)}q._hasBody=true},items:function(){return this._items},find:function(q){q=l[q]=l[q]||new k(q);return q.find(this)},add:function(r){var q=this;q.items().add(q.create(r)).parent(q);return q},focus:function(q){var s=this,u,t,r;if(q){t=s.keyboardNav||s.parents().eq(-1)[0].keyboardNav;if(t){t.focusFirst(s);return}}r=s.find("*");if(s.statusbar){r.add(s.statusbar.items())}r.each(function(v){if(v.settings.autofocus){u=null;return false}if(v.canFocus){u=u||v}});if(u){u.focus()}return s},replace:function(u,t){var s,q=this.items(),r=q.length;while(r--){if(q[r]===u){q[r]=t;break}}if(r>=0){s=t.getEl();if(s){s.parentNode.removeChild(s)}s=u.getEl();if(s){s.parentNode.removeChild(s)}}t.parent(this)},create:function(r){var q=this,t,s=[];if(!m.isArray(r)){r=[r]}m.each(r,function(u){if(u){if(!(u instanceof p)){if(typeof(u)=="string"){u={type:u}}t=m.extend({},q.settings.defaults,u);u.type=t.type=t.type||u.type||q.settings.defaultType||(t.defaults?t.defaults.type:null);u=i.create(t)}s.push(u)}});return s},renderNew:function(){var q=this;q.items().each(function(t,s){var u,r;t.parent(q);if(!t._rendered){u=q.getEl("body");r=j.createFragment(t.renderHtml());if(u.hasChildNodes()&&s<=u.childNodes.length-1){u.insertBefore(r,u.childNodes[s])}else{u.appendChild(r)}t.postRender()}});q._layout.applyClasses(q);q._lastRect=null;return q},append:function(q){return this.add(q).renderNew()},prepend:function(r){var q=this;q.items().set(q.create(r).concat(q.items().toArray()));return q.renderNew()},insert:function(s,u,w){var r=this,t,q,v;s=r.create(s);t=r.items();if(!w&&u<t.length-1){u+=1}if(u>=0&&u<t.length){q=t.slice(0,u).toArray();v=t.slice(u).toArray();t.set(q.concat(s,v))}return r.renderNew()},fromJSON:function(s){var q=this;for(var r in s){q.find("#"+r).value(s[r])}return q},toJSON:function(){var q=this,r={};q.find("*").each(function(u){var s=u.name(),t=u.value();if(s&&typeof(t)!="undefined"){r[s]=t}});return r},preRender:function(){},renderHtml:function(){var q=this,r=q._layout,s=this.settings.role;q.preRender();r.preRender(q);return('<div id="'+q._id+'" class="'+q.classes()+'"'+(s?' role="'+this.settings.role+'"':"")+'><div id="'+q._id+'-body" class="'+q.classes("body")+'">'+(q.settings.html||"")+r.renderHtml(q)+"</div></div>")},postRender:function(){var q=this,r;q.items().exec("postRender");q._super();q._layout.postRender(q);q._rendered=true;if(q.settings.style){j.css(q.getEl(),q.settings.style)}if(q.settings.border){r=q.borderBox();j.css(q.getEl(),{"border-top-width":r.top,"border-right-width":r.right,"border-bottom-width":r.bottom,"border-left-width":r.left})}if(!q.parent()){q.keyboardNav=new n({root:q})}return q},initLayoutRect:function(){var q=this,r=q._super();q._layout.recalc(q);return r},recalc:function(){var q=this,s=q._layoutRect,r=q._lastRect;if(!r||r.w!=s.w||r.h!=s.h){q._layout.recalc(q);s=q.layoutRect();q._lastRect={x:s.x,y:s.y,w:s.w,h:s.h};return true}},reflow:function(){var q;if(this.visible()){p.repaintControls=[];p.repaintControls.map={};this.recalc();q=p.repaintControls.length;while(q--){p.repaintControls[q].repaint()}if(this.settings.layout!=="flow"&&this.settings.layout!=="stack"){this.repaint()}p.repaintControls=[]}return this}})});h("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(i){function j(){var r=document,s,n,l,q;var o,t,m,k,p=Math.max;s=r.documentElement;n=r.body;l=p(s.scrollWidth,n.scrollWidth);q=p(s.clientWidth,n.clientWidth);o=p(s.offsetWidth,n.offsetWidth);t=p(s.scrollHeight,n.scrollHeight);m=p(s.clientHeight,n.clientHeight);k=p(s.offsetHeight,n.offsetHeight);return{width:l<o?q:l,height:t<k?m:t}}return function(l,n){var u,t=document,k,m,s,q,p,o;n=n||{};function r(){return t.getElementById(n.handle||l)}m=function(w){var y=j(),v,x;w.preventDefault();k=w.button;v=r();p=w.screenX;o=w.screenY;if(window.getComputedStyle){x=window.getComputedStyle(v,null).getPropertyValue("cursor")}else{x=v.runtimeStyle.cursor}u=t.createElement("div");i.css(u,{position:"absolute",top:0,left:0,width:y.width,height:y.height,zIndex:2147483647,opacity:0.0001,background:"red",cursor:x});t.body.appendChild(u);i.on(t,"mousemove",q);i.on(t,"mouseup",s);n.start(w)};q=function(v){if(v.button!==k){return s(v)}v.deltaX=v.screenX-p;v.deltaY=v.screenY-o;v.preventDefault();n.drag(v)};s=function(v){i.off(t,"mousemove",q);i.off(t,"mouseup",s);u.parentNode.removeChild(u);if(n.stop){n.stop(v)}};this.destroy=function(){i.off(r())};i.on(r(),"mousedown",m)}});h("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(i,j){return{init:function(){var k=this;k.on("repaint",k.renderScroll)},renderScroll:function(){var l=this,m=2;function n(){var r,q,p;function o(w,v,y,E,D,u){var x,B,A;var t,s,z,C;var F,G;B=l.getEl("scroll"+w);if(B){F=v.toLowerCase();G=y.toLowerCase();if(l.getEl("absend")){i.css(l.getEl("absend"),F,l.layoutRect()[E]-1)}if(!D){i.css(B,"display","none");return}i.css(B,"display","block");x=l.getEl("body");A=l.getEl("scroll"+w+"t");t=x["client"+y]-(m*2);t-=r&&q?B["client"+u]:0;s=x["scroll"+y];z=t/s;C={};C[F]=x["offset"+v]+m;C[G]=t;i.css(B,C);C={};C[F]=x["scroll"+v]*z;C[G]=t*z;i.css(A,C)}}p=l.getEl("body");r=p.scrollWidth>p.clientWidth;q=p.scrollHeight>p.clientHeight;o("h","Left","Width","contentW",r,"Height");o("v","Top","Height","contentH",q,"Width")}function k(){function o(v,r,p,w,t){var u,q=l._id+"-scroll"+v,s=l.classPrefix;l.getEl().appendChild(i.createFragment('<div id="'+q+'" class="'+s+"scrollbar "+s+"scrollbar-"+v+'"><div id="'+q+'t" class="'+s+'scrollbar-thumb"></div></div>'));l.draghelper=new j(q+"t",{start:function(){u=l.getEl("body")["scroll"+r];i.addClass(i.get(q),s+"active")},drag:function(A){var x,C,z,B,y=l.layoutRect();C=y.contentW>y.innerW;z=y.contentH>y.innerH;B=l.getEl("body")["client"+p]-(m*2);B-=C&&z?l.getEl("scroll"+v)["client"+t]:0;x=B/l.getEl("body")["scroll"+p];l.getEl("body")["scroll"+r]=u+(A["delta"+w]/x)},stop:function(){i.removeClass(i.get(q),s+"active")}})}l.addClass("scroll");o("v","Top","Height","Y","Width");o("h","Left","Width","X","Height")}if(l.settings.autoScroll){if(!l._hasScroll){l._hasScroll=true;k();l.on("wheel",function(p){var o=l.getEl("body");o.scrollLeft+=(p.deltaX||0)*10;o.scrollTop+=p.deltaY*10;n()});i.on(l.getEl("body"),"scroll",n)}n()}}}});h("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(j,i){return j.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[i],renderHtml:function(){var l=this,m=l._layout,k=l.settings.html;l.preRender();m.preRender(l);if(typeof(k)=="undefined"){k=('<div id="'+l._id+'-body" class="'+l.classes("body")+'">'+m.renderHtml(l)+"</div>")}else{if(typeof(k)=="function"){k=k.call(l)}l._hasBody=false}return('<div id="'+l._id+'" class="'+l.classes()+'" hidefocus="1" tabindex="-1" role="group">'+(l._preBodyHtml||"")+k+"</div>")}})});h("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(i){function j(k,s,v){var u,o,r,p,t,m,q,l,n,w;n=i.getViewPort();o=i.getPos(s);r=o.x;p=o.y;if(k._fixed){r-=n.x;p-=n.y}u=k.getEl();w=i.getSize(u);t=w.width;m=w.height;w=i.getSize(s);q=w.width;l=w.height;v=(v||"").split("");if(v[0]==="b"){p+=l}if(v[1]==="r"){r+=q}if(v[0]==="c"){p+=Math.round(l/2)}if(v[1]==="c"){r+=Math.round(q/2)}if(v[3]==="b"){p-=m}if(v[4]==="r"){r-=t}if(v[3]==="c"){p-=Math.round(m/2)}if(v[4]==="c"){r-=Math.round(t/2)}return{x:r,y:p,w:t,h:m}}return{testMoveRel:function(o,l){var k=i.getViewPort();for(var m=0;m<l.length;m++){var n=j(this,o,l[m]);if(this._fixed){if(n.x>0&&n.x+n.w<k.w&&n.y>0&&n.y+n.h<k.h){return l[m]}}else{if(n.x>k.x&&n.x+n.w<k.w+k.x&&n.y>k.y&&n.y+n.h<k.h+k.y){return l[m]}}}return l[0]},moveRel:function(m,k){if(typeof(k)!="string"){k=this.testMoveRel(m,k)}var l=j(this,m,k);return this.moveTo(l.x,l.y)},moveBy:function(m,k){var l=this,n=l.layoutRect();l.moveTo(n.x+m,n.y+k);return l},moveTo:function(k,p){var m=this;function l(s,q,r){if(s<0){return 0}if(s+r>q){s=q-r;return s<0?0:s}return s}if(m.settings.constrainToViewport){var n=i.getViewPort(window);var o=m.layoutRect();k=l(k,n.w+n.x,o.w);p=l(p,n.h+n.y,o.h)}if(m._rendered){m.layoutRect({x:k,y:p}).repaint()}else{m.settings.x=k;m.settings.y=p}m.fire("move",{x:k,y:p});return m}}});h("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(i){return{resizeToContent:function(){this._layoutRect.autoResize=true;this._lastRect=null;this.reflow()},resizeTo:function(j,k){if(j<=1||k<=1){var l=i.getWindowSize();j=j<=1?j*l.w:j;k=k<=1?k*l.h:k}this._layoutRect.autoResize=false;return this.layoutRect({minW:j,minH:k,w:j,h:k}).reflow()},resizeBy:function(k,m){var j=this,l=j.layoutRect();return j.resizeTo(l.w+k,l.h+m)}}});h("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(q,p,j,i){var m,k,r=[];var l=[],s;var n=q.extend({Mixins:[p,j],init:function(w){var u=this;function v(){var y,B=n.zIndex||65535,z;if(l.length){for(y=0;y<l.length;y++){if(l[y].modal){B++;z=l[y]}l[y].getEl().style.zIndex=B;l[y].zIndex=B;B++}}var A=document.getElementById(u.classPrefix+"modal-block");if(z){i.css(A,"z-index",z.zIndex-1)}else{if(A){A.parentNode.removeChild(A);s=false}}n.currentZIndex=B}function t(z,y){while(z){if(z==y){return true}z=z.parent()}}function x(y){var z=i.getViewPort().y;function A(E,B){var D;for(var C=0;C<r.length;C++){if(r[C]!=y){D=r[C].parent();while(D&&(D=D.parent())){if(D==y){r[C].fixed(E).moveBy(0,B).repaint()}}}}}if(y.settings.autofix){if(!y._fixed){y._autoFixY=y.layoutRect().y;if(y._autoFixY<z){y.fixed(true).layoutRect({y:0}).repaint();A(true,z-y._autoFixY)}}else{if(y._autoFixY>z){y.fixed(false).layoutRect({y:y._autoFixY}).repaint();A(false,y._autoFixY-z)}}}}u._super(w);u._eventsRoot=u;u.addClass("floatpanel");if(w.autohide){if(!m){m=function(B){var A=r.length;while(A--){var z=r[A],y=z.getParentCtrl(B.target);if(z.settings.autohide){if(y){if(t(y,z)||z.parent()===y){continue}}B=z.fire("autohide",{target:B.target});if(!B.isDefaultPrevented()){z.hide()}}}};i.on(document,"click",m)}r.push(u)}if(w.autofix){if(!k){k=function(){var y;y=r.length;while(y--){x(r[y])}};i.on(window,"scroll",k)}u.on("move",function(){x(this)})}u.on("postrender show",function(A){if(A.control==u){var z,y=u.classPrefix;if(u.modal&&!s){z=i.createFragment('<div id="'+y+'modal-block" class="'+y+"reset "+y+'fade"></div>');z=z.firstChild;u.getContainerElm().appendChild(z);setTimeout(function(){i.addClass(z,y+"in");i.addClass(u.getEl(),y+"in")},0);s=true}l.push(u);v()}});u.on("close hide",function(z){if(z.control==u){var y=l.length;while(y--){if(l[y]===u){l.splice(y,1)}}v()}});u.on("show",function(){u.parents().each(function(y){if(y._fixed){u.fixed(true);return false}})});if(w.popover){u._preBodyHtml='<div class="'+u.classPrefix+'arrow"></div>';u.addClass("popover").addClass("bottom").addClass(u.isRtl()?"end":"start")}},fixed:function(v){var u=this;if(u._fixed!=v){if(u._rendered){var t=i.getViewPort();if(v){u.layoutRect().y-=t.y}else{u.layoutRect().y+=t.y}}u.toggleClass("fixed",v);u._fixed=v}return u},show:function(){var t=this,u,v=t._super();u=r.length;while(u--){if(r[u]===t){break}}if(u===-1){r.push(t)}return v},hide:function(){o(this);return this._super()},hideAll:function(){n.hideAll()},close:function(){var t=this;t.fire("close");return t.remove()},remove:function(){o(this);this._super()},postRender:function(){var t=this;if(t.settings.bodyRole){this.getEl("body").setAttribute("role",t.settings.bodyRole)}return t._super()}});n.hideAll=function(){var u=r.length;while(u--){var t=r[u];if(t&&t.settings.autohide){t.hide();r.splice(u,1)}}};function o(t){var u;u=r.length;while(u--){if(r[u]===t){r.splice(u,1)}}u=l.length;while(u--){if(l[u]===t){l.splice(u,1)}}}return n});h("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(m,l,i,k){var j=m.extend({modal:true,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(o){var n=this;n._super(o);if(n.isRtl()){n.addClass("rtl")}n.addClass("window");n._fixed=true;if(o.buttons){n.statusbar=new l({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:o.buttons});n.statusbar.addClass("foot");n.statusbar.parent(n)}n.on("click",function(p){if(p.target.className.indexOf(n.classPrefix+"close")!=-1){n.close()}});n.on("cancel",function(){n.close()});n.aria("describedby",n.describedBy||n._id+"-none");n.aria("label",o.title);n._fullscreen=false},recalc:function(){var o=this,r=o.statusbar,q,p,n,s;if(o._fullscreen){o.layoutRect(i.getWindowSize());o.layoutRect().contentH=o.layoutRect().innerH}o._super();q=o.layoutRect();if(o.settings.title&&!o._fullscreen){p=q.headerW;if(p>q.w){n=q.x-Math.max(0,p/2);o.layoutRect({w:p,x:n});s=true}}if(r){r.layoutRect({w:o.layoutRect().innerW}).recalc();p=r.layoutRect().minW+q.deltaW;if(p>q.w){n=q.x-Math.max(0,p-q.w);o.layoutRect({w:p,x:n});s=true}}if(s){o.recalc()}},initLayoutRect:function(){var n=this,r=n._super(),q=0,s;if(n.settings.title&&!n._fullscreen){s=n.getEl("head");var o=i.getSize(s);r.headerW=o.width;r.headerH=o.height;q+=r.headerH}if(n.statusbar){q+=n.statusbar.layoutRect().h}r.deltaH+=q;r.minH+=q;r.h+=q;var p=i.getWindowSize();r.x=Math.max(0,p.w/2-r.w/2);r.y=Math.max(0,p.h/2-r.h/2);return r},renderHtml:function(){var o=this,r=o._layout,u=o._id,s=o.classPrefix;var q=o.settings,n="",t="",p=q.html;o.preRender();r.preRender(o);if(q.title){n=('<div id="'+u+'-head" class="'+s+'window-head"><div id="'+u+'-title" class="'+s+'title">'+o.encode(q.title)+'</div><button type="button" class="'+s+'close" aria-hidden="true">\u00d7</button><div id="'+u+'-dragh" class="'+s+'dragh"></div></div>')}if(q.url){p='<iframe src="'+q.url+'" tabindex="-1"></iframe>'}if(typeof(p)=="undefined"){p=r.renderHtml(o)}if(o.statusbar){t=o.statusbar.renderHtml()}return('<div id="'+u+'" class="'+o.classes()+'" hidefocus="1"><div class="'+o.classPrefix+'reset" role="application">'+n+'<div id="'+u+'-body" class="'+o.classes("body")+'">'+p+"</div>"+t+"</div></div>")},fullscreen:function(t){var n=this,s=document.documentElement,o,r=n.classPrefix,q;if(t!=n._fullscreen){i.on(window,"resize",function(){var v;if(n._fullscreen){if(!o){v=new Date().getTime();var u=i.getWindowSize();n.moveTo(0,0).resizeTo(u.w,u.h);if((new Date().getTime())-v>50){o=true}}else{if(!n._timer){n._timer=setTimeout(function(){var w=i.getWindowSize();n.moveTo(0,0).resizeTo(w.w,w.h);n._timer=0},50)}}}});q=n.layoutRect();n._fullscreen=t;if(!t){n._borderBox=n.parseBox(n.settings.border);n.getEl("head").style.display="";q.deltaH+=q.headerH;i.removeClass(s,r+"fullscreen");i.removeClass(document.body,r+"fullscreen");n.removeClass("fullscreen");n.moveTo(n._initial.x,n._initial.y).resizeTo(n._initial.w,n._initial.h)}else{n._initial={x:q.x,y:q.y,w:q.w,h:q.h};n._borderBox=n.parseBox("0");n.getEl("head").style.display="none";q.deltaH-=q.headerH+2;i.addClass(s,r+"fullscreen");i.addClass(document.body,r+"fullscreen");n.addClass("fullscreen");var p=i.getWindowSize();n.moveTo(0,0).resizeTo(p.w,p.h)}}return n.reflow()},postRender:function(){var n=this,o;setTimeout(function(){n.addClass("in")},0);n._super();if(n.statusbar){n.statusbar.postRender()}n.focus();this.dragHelper=new k(n._id+"-dragh",{start:function(){o={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(p){n.moveTo(o.x+p.deltaX,o.y+p.deltaY)}});n.on("submit",function(p){if(!p.isDefaultPrevented()){n.close()}})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var n=this,o=n.classPrefix;n.dragHelper.destroy();n._super();if(n.statusbar){this.statusbar.remove()}if(n._fullscreen){i.removeClass(document.documentElement,o+"fullscreen");i.removeClass(document.body,o+"fullscreen")}},getContentWindow:function(){var n=this.getEl().getElementsByTagName("iframe")[0];return n?n.contentWindow:null}});return j});h("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(j){var i=j.extend({init:function(k){k={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:true,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:true,maxWidth:500,maxHeight:200}};this._super(k)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(k){var l,m=k.callback||function(){};switch(k.buttons){case i.OK_CANCEL:l=[{type:"button",text:"Ok",subtype:"primary",onClick:function(n){n.control.parents()[1].close();m(true)}},{type:"button",text:"Cancel",onClick:function(n){n.control.parents()[1].close();m(false)}}];break;case i.YES_NO:l=[{type:"button",text:"Ok",subtype:"primary",onClick:function(n){n.control.parents()[1].close();m(true)}}];break;case i.YES_NO_CANCEL:l=[{type:"button",text:"Ok",subtype:"primary",onClick:function(n){n.control.parents()[1].close()}}];break;default:l=[{type:"button",text:"Ok",subtype:"primary",onClick:function(n){n.control.parents()[1].close();m(true)}}];break}return new j({padding:20,x:k.x,y:k.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:l,title:k.title,role:"alertdialog",items:{type:"label",multiline:true,maxWidth:500,maxHeight:200,text:k.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:k.onClose,onCancel:function(){m(false)}}).renderTo(document.body).reflow()},alert:function(k,l){if(typeof(k)=="string"){k={text:k}}k.callback=l;return i.msgBox(k)},confirm:function(k,l){if(typeof(k)=="string"){k={text:k}}k.callback=l;k.buttons=i.OK_CANCEL;return i.msgBox(k)}}});return i});h("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(j,i){return function(m){var l=this,n=[];function k(){if(n.length){return n[n.length-1]}}l.windows=n;l.open=function(o,q){var p;m.editorManager.activeEditor=m;o.title=o.title||" ";o.url=o.url||o.file;if(o.url){o.width=parseInt(o.width||320,10);o.height=parseInt(o.height||240,10)}if(o.body){o.items={defaults:o.defaults,type:o.bodyType||"form",items:o.body}}if(!o.url&&!o.buttons){o.buttons=[{text:"Ok",subtype:"primary",onclick:function(){p.find("form")[0].submit()}},{text:"Cancel",onclick:function(){p.close()}}]}p=new j(o);n.push(p);p.on("close",function(){var r=n.length;while(r--){if(n[r]===p){n.splice(r,1)}}m.focus()});if(o.data){p.on("postRender",function(){this.find("*").each(function(s){var r=s.name();if(r in o.data){s.value(o.data[r])}})})}p.features=o||{};p.params=q||{};m.nodeChanged();return p.renderTo().reflow()};l.alert=function(p,q,o){i.alert(p,function(){if(q){q.call(o||this)}else{m.focus()}})};l.confirm=function(p,q,o){i.confirm(p,function(r){q.call(o||this,r)})};l.close=function(){if(k()){k().close()}};l.getParams=function(){return k()?k().params:null};l.setParams=function(o){if(k()){k().params=o}};l.getWindows=function(){return n}}});h("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(m,l,k,n,i,j){return function(o){var Z=j.each;var r=m.BACKSPACE,B=m.DELETE,q=o.dom,D=o.selection,ad=o.settings,O=o.parser,H=o.serializer;var s=i.gecko,z=i.ie,W=i.webkit;function S(aj,ai){try{o.getDoc().execCommand(aj,false,ai)}catch(ah){}}function G(){var ah=o.getDoc().documentMode;return ah?ah:6}function R(ah){return ah.isDefaultPrevented()}function af(){var al=o.getDoc(),ai="data:text/mce-internal,";var ak=window.MutationObserver,ah;if(!ak){ah=true;ak=function(){var am=[],ap;function ao(ar){var aq=ar.relatedNode||ar.target;am.push({target:aq,addedNodes:[aq]})}function an(ar){var aq=ar.relatedNode||ar.target;am.push({target:aq,attributeName:ar.attrName})}this.observe=function(aq){ap=aq;ap.addEventListener("DOMSubtreeModified",ao,false);ap.addEventListener("DOMNodeInsertedIntoDocument",ao,false);ap.addEventListener("DOMNodeInserted",ao,false);ap.addEventListener("DOMAttrModified",an,false)};this.disconnect=function(){ap.removeEventListener("DOMNodeInserted",ao);ap.removeEventListener("DOMAttrModified",an);ap.removeEventListener("DOMSubtreeModified",ao,false)};this.takeRecords=function(){return am}}}function aj(ao){var an=new ak(function(){});j.each(o.getBody().getElementsByTagName("*"),function(aq){if(aq.tagName=="SPAN"){aq.setAttribute("mce-data-marked",1)}if(!aq.hasAttribute("data-mce-style")&&aq.hasAttribute("style")){o.dom.setAttrib(aq,"style",aq.getAttribute("style"))}});an.observe(o.getDoc(),{childList:true,attributes:true,subtree:true,attributeFilter:["style"]});o.getDoc().execCommand(ao?"ForwardDelete":"Delete",false,null);var am=o.selection.getRng();var ap=am.startContainer.parentNode;j.each(an.takeRecords(),function(aq){if(aq.attributeName=="style"){var ar=aq.target.getAttribute("data-mce-style");if(ar){aq.target.setAttribute("style",ar)}else{aq.target.removeAttribute("style")}}j.each(aq.addedNodes,function(au){if(au.nodeName=="SPAN"&&!au.getAttribute("mce-data-marked")){var av,at;if(au==ap){av=am.startOffset;at=au.firstChild}q.remove(au,true);if(at){am.setStart(at,av);am.setEnd(at,av);o.selection.setRng(am)}}})});an.disconnect();j.each(o.dom.select("span[mce-data-marked]"),function(aq){aq.removeAttribute("mce-data-marked")})}o.on("keydown",function(ap){var ao=ap.keyCode==B,ar=m.metaKeyPressed(ap);if(!R(ap)&&(ao||ap.keyCode==r)){var an=o.selection.getRng(),am=an.startContainer,aq=an.startOffset;if(!ar&&an.collapsed&&am.nodeType==3){if(ao?aq<am.data.length:aq>0){return}}ap.preventDefault();if(ar){o.selection.getSel().modify("extend",ao?"forward":"backward","word")}aj(ao)}});o.on("keypress",function(am){if(!R(am)&&!D.isCollapsed()&&am.charCode&&!m.metaKeyPressed(am)){am.preventDefault();aj(true);o.selection.setContent(String.fromCharCode(am.charCode))}});o.addCommand("Delete",function(){aj()});o.addCommand("ForwardDelete",function(){aj(true)});if(ah){return}o.on("dragstart",function(am){am.dataTransfer.setData("URL","data:text/mce-internal,"+escape(o.selection.getContent()))});o.on("drop",function(am){if(!R(am)){var an=am.dataTransfer.getData("URL");if(!an||an.indexOf(ai)==-1||!al.caretRangeFromPoint){return}an=unescape(an.substr(ai.length));if(al.caretRangeFromPoint){am.preventDefault();aj();o.selection.setRng(al.caretRangeFromPoint(am.x,am.y));o.insertContent(an)}}});o.on("cut",function(am){if(!R(am)&&am.clipboardData){am.preventDefault();am.clipboardData.clearData();am.clipboardData.setData("text/html",o.selection.getContent());am.clipboardData.setData("text/plain",o.selection.getContent({format:"text"}));aj(true)}})}function K(){function ah(ak){var aj=q.create("body");var al=ak.cloneContents();aj.appendChild(al);return D.serializer.serialize(aj,{format:"html"})}function ai(aj){if(!aj.setStart){if(aj.item){return false}var an=aj.duplicate();an.moveToElementText(o.getBody());return l.compareRanges(aj,an)}var al=ah(aj);var am=q.createRng();am.selectNode(o.getBody());var ak=ah(am);return al===ak}o.on("keydown",function(am){var al=am.keyCode,ak,aj;if(!R(am)&&(al==B||al==r)){ak=o.selection.isCollapsed();aj=o.getBody();if(ak&&!q.isEmpty(aj)){return}if(!ak&&!ai(o.selection.getRng())){return}am.preventDefault();o.setContent("");if(aj.firstChild&&q.isBlock(aj.firstChild)){o.selection.setCursorLocation(aj.firstChild,0)}else{o.selection.setCursorLocation(aj,0)}o.nodeChanged()}})}function ae(){o.on("keydown",function(ah){if(!R(ah)&&ah.keyCode==65&&m.metaKeyPressed(ah)){ah.preventDefault();o.execCommand("SelectAll")}})}function ag(){if(!o.settings.content_editable){q.bind(o.getDoc(),"focusin",function(){D.setRng(D.getRng())});q.bind(o.getDoc(),"mousedown",function(ah){if(ah.target==o.getDoc().documentElement){o.getBody().focus();D.setRng(D.getRng())}})}}function U(){o.on("keydown",function(aj){if(!R(aj)&&aj.keyCode===r){if(D.isCollapsed()&&D.getRng(true).startOffset===0){var ai=D.getNode();var ah=ai.previousSibling;if(ai.nodeName=="HR"){q.remove(ai);aj.preventDefault();return}if(ah&&ah.nodeName&&ah.nodeName.toLowerCase()==="hr"){q.remove(ah);aj.preventDefault()}}}})}function Q(){if(!window.Range.prototype.getClientRects){o.on("mousedown",function(ai){if(!R(ai)&&ai.target.nodeName==="HTML"){var ah=o.getBody();ah.blur();setTimeout(function(){ah.focus()},0)}})}}function u(){o.on("click",function(ah){ah=ah.target;if(/^(IMG|HR)$/.test(ah.nodeName)){D.getSel().setBaseAndExtent(ah,0,ah,1)}if(ah.nodeName=="A"&&q.hasClass(ah,"mce-item-anchor")){D.select(ah)}o.nodeChanged()})}function aa(){function ai(){var aj=q.getAttribs(D.getStart().cloneNode(false));return function(){var ak=D.getStart();if(ak!==o.getBody()){q.setAttrib(ak,"style",null);Z(aj,function(al){ak.setAttributeNode(al.cloneNode(true))})}}}function ah(){return !D.isCollapsed()&&q.getParent(D.getStart(),q.isBlock)!=q.getParent(D.getEnd(),q.isBlock)}o.on("keypress",function(ak){var aj;if(!R(ak)&&(ak.keyCode==8||ak.keyCode==46)&&ah()){aj=ai();o.getDoc().execCommand("delete",false,null);aj();ak.preventDefault();return false}});q.bind(o.getDoc(),"cut",function(ak){var aj;if(!R(ak)&&ah()){aj=ai();setTimeout(function(){aj()},0)}})}function p(){var ai,ah;o.on("selectionchange",function(){if(ah){clearTimeout(ah);ah=0}ah=window.setTimeout(function(){if(o.removed){return}var aj=D.getRng();if(!ai||!l.compareRanges(aj,ai)){o.nodeChanged();ai=aj}},50)})}function P(){document.body.setAttribute("role","application")}function N(){o.on("keydown",function(ai){if(!R(ai)&&ai.keyCode===r){if(D.isCollapsed()&&D.getRng(true).startOffset===0){var ah=D.getNode().previousSibling;if(ah&&ah.nodeName&&ah.nodeName.toLowerCase()==="table"){ai.preventDefault();return false}}}})}function X(){if(G()>7){return}S("RespectVisibilityInDesign",true);o.contentStyles.push(".mceHideBrInPre pre br {display: none}");q.addClass(o.getBody(),"mceHideBrInPre");O.addNodeFilter("pre",function(ah){var aj=ah.length,al,ai,am,ak;while(aj--){al=ah[aj].getAll("br");ai=al.length;while(ai--){am=al[ai];ak=am.prev;if(ak&&ak.type===3&&ak.value.charAt(ak.value-1)!="\n"){ak.value+="\n"}else{am.parent.insert(new k("#text",3),am,true).value="\n"}}}});H.addNodeFilter("pre",function(ah){var aj=ah.length,al,ai,am,ak;while(aj--){al=ah[aj].getAll("br");ai=al.length;while(ai--){am=al[ai];ak=am.prev;if(ak&&ak.type==3){ak.value=ak.value.replace(/\r?\n$/,"")}}}})}function t(){q.bind(o.getBody(),"mouseup",function(){var ai,ah=D.getNode();if(ah.nodeName=="IMG"){if((ai=q.getStyle(ah,"width"))){q.setAttrib(ah,"width",ai.replace(/[^0-9%]+/g,""));q.setStyle(ah,"width","")}if((ai=q.getStyle(ah,"height"))){q.setAttrib(ah,"height",ai.replace(/[^0-9%]+/g,""));q.setStyle(ah,"height","")}}})}function ac(){o.on("keydown",function(al){var aj,ai,am,ah,ak;if(R(al)||al.keyCode!=m.BACKSPACE){return}aj=D.getRng();ai=aj.startContainer;am=aj.startOffset;ah=q.getRoot();ak=ai;if(!aj.collapsed||am!==0){return}while(ak&&ak.parentNode&&ak.parentNode.firstChild==ak&&ak.parentNode!=ah){ak=ak.parentNode}if(ak.tagName==="BLOCKQUOTE"){o.formatter.toggle("blockquote",null,ak);aj=q.createRng();aj.setStart(ai,0);aj.setEnd(ai,0);D.setRng(aj)}})}function ab(){function ah(){o._refreshContentEditable();S("StyleWithCSS",false);S("enableInlineTableEditing",false);if(!ad.object_resizing){S("enableObjectResizing",false)}}if(!ad.readonly){o.on("BeforeExecCommand MouseDown",ah)}}function M(){function ah(){Z(q.select("a"),function(ak){var ai=ak.parentNode,aj=q.getRoot();if(ai.lastChild===ak){while(ai&&!q.isBlock(ai)){if(ai.parentNode.lastChild!==ai||ai===aj){return}ai=ai.parentNode}q.add(ai,"br",{"data-mce-bogus":1})}})}o.on("SetContent ExecCommand",function(ai){if(ai.type=="setcontent"||ai.command==="mceInsertLink"){ah()}})}function E(){if(ad.forced_root_block){o.on("init",function(){S("DefaultParagraphSeparator",ad.forced_root_block)})}}function I(){o.on("Undo Redo SetContent",function(ah){if(!ah.initial){o.execCommand("mceRepaint")}})}function v(){o.on("keydown",function(ai){var ah;if(!R(ai)&&ai.keyCode==r){ah=o.getDoc().selection.createRange();if(ah&&ah.item){ai.preventDefault();o.undoManager.beforeChange();q.remove(ah.item(0));o.undoManager.add()}}})}function L(){var ah;if(G()>=10){ah="";Z("p div h1 h2 h3 h4 h5 h6".split(" "),function(ai,aj){ah+=(aj>0?",":"")+ai+":empty"});o.contentStyles.push(ah+"{padding-right: 1px !important}")}}function Y(){if(G()<9){O.addNodeFilter("noscript",function(ah){var ai=ah.length,aj,ak;while(ai--){aj=ah[ai];ak=aj.firstChild;if(ak){aj.attr("data-mce-innertext",ak.value)}}});H.addNodeFilter("noscript",function(ah){var ai=ah.length,aj,al,ak;while(ai--){aj=ah[ai];al=ah[ai].firstChild;if(al){al.value=n.decode(al.value)}else{ak=aj.attributes.map["data-mce-innertext"];if(ak){aj.attr("data-mce-innertext",null);al=new k("#text",3);al.value=ak;al.raw=true;aj.append(al)}}}})}}function J(){var an=q.doc,ai=an.body,ak,al,ao;function am(ap,at){var aq=ai.createTextRange();try{aq.moveToPoint(ap,at)}catch(ar){aq=null}return aq}function aj(aq){var ap;if(aq.button){ap=am(aq.x,aq.y);if(ap){if(ap.compareEndPoints("StartToStart",al)>0){ap.setEndPoint("StartToStart",al)}else{ap.setEndPoint("EndToEnd",al)}ap.select()}}else{ah()}}function ah(){var ap=an.selection.createRange();if(al&&!ap.item&&ap.compareEndPoints("StartToEnd",ap)===0){al.select()}q.unbind(an,"mouseup",ah);q.unbind(an,"mousemove",aj);al=ak=0}an.documentElement.unselectable=true;q.bind(an,"mousedown contextmenu",function(ap){if(ap.target.nodeName==="HTML"){if(ak){ah()}ao=an.documentElement;if(ao.scrollHeight>ao.clientHeight){return}ak=1;al=am(ap.x,ap.y);if(al){q.bind(an,"mouseup",ah);q.bind(an,"mousemove",aj);q.getRoot().focus();al.select()}}})}function V(){o.on("keyup focusin mouseup",function(ah){if(ah.keyCode!=65||!m.metaKeyPressed(ah)){D.normalize()}},true)}function x(){o.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function y(){if(!o.inline){o.on("keydown",function(){if(document.activeElement==document.body){o.getWin().focus()}})}}function C(){if(!o.inline){o.contentStyles.push("body {min-height: 150px}");o.on("click",function(ah){if(ah.target.nodeName=="HTML"){o.getBody().focus();o.selection.normalize();o.nodeChanged()}})}}function A(){if(i.mac){o.on("keydown",function(ah){if(m.metaKeyPressed(ah)&&(ah.keyCode==37||ah.keyCode==39)){ah.preventDefault();o.selection.getSel().modify("move",ah.keyCode==37?"backward":"forward","word")}})}}function T(){S("AutoUrlDetect",false)}function F(){if(!o.inline){o.on("focus blur",function(){var ah=o.dom.create("br");o.getBody().appendChild(ah);ah.parentNode.removeChild(ah)},true)}}function w(){o.on("click",function(ah){var ai=ah.target;do{if(ai.tagName==="A"){ah.preventDefault();return}}while((ai=ai.parentNode))});o.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}N();ac();K();V();if(W){af();ag();u();E();if(i.iOS){p();y();C();w()}else{ae()}}if(z&&i.ie<11){U();P();X();t();v();L();Y();J()}if(i.ie>=11){C();F()}if(i.ie){ae();T()}if(s){U();Q();aa();ab();M();I();x();A()}}});h("tinymce/util/Observable",["tinymce/util/Tools"],function(i){var k="__bindings";var l=i.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragstart dragend dragover draggesture dragdrop drop drag"," ");function j(){return false}function m(){return true}return{fire:function(n,r,s){var v=this,o,q,p,u,t;n=n.toLowerCase();r=r||{};r.type=n;if(v.removed&&n!=="remove"){return}if(!r.target){r.target=v}if(!r.preventDefault){r.preventDefault=function(){r.isDefaultPrevented=m};r.stopPropagation=function(){r.isPropagationStopped=m};r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=m};r.isDefaultPrevented=j;r.isPropagationStopped=j;r.isImmediatePropagationStopped=j}if(v[k]){o=v[k][n];if(o){for(q=0,p=o.length;q<p;q++){o[q]=u=o[q];if(r.isImmediatePropagationStopped()){break}if(u.call(v,r)===false){r.preventDefault();return r}}}}if(s!==false&&v.parent){t=v.parent();while(t&&!r.isPropagationStopped()){t.fire(n,r,false);t=t.parent()}}return r},on:function(q,u,p){var o=this,t,n,s,r;if(u===false){u=function(){return false}}if(u){s=q.toLowerCase().split(" ");r=s.length;while(r--){q=s[r];t=o[k];if(!t){t=o[k]={}}n=t[q];if(!n){n=t[q]=[];if(o.bindNative&&l[q]){o.bindNative(q)}}if(p){n.unshift(u)}else{n.push(u)}}}return o},off:function(n,u){var v=this,s,o=v[k],r,p,t,q;if(o){if(n){t=n.toLowerCase().split(" ");s=t.length;while(s--){n=t[s];r=o[n];if(!n){for(p in o){o[n].length=0}return v}if(r){if(!u){r.length=0}else{q=r.length;while(q--){if(r[q]===u){r.splice(q,1)}}}if(!r.length&&v.unbindNative&&l[n]){v.unbindNative(n);delete o[n]}}}}else{if(v.unbindNative){for(n in o){v.unbindNative(n)}}v[k]=[]}}return v},hasEventListeners:function(n){var o=this[k];n=n.toLowerCase();return !(!o||!o[n]||o[n].length===0)}}});h("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(k,j){var m=k.each,l=k.explode;var i={f9:120,f10:121,f11:122};return function(p){var o=this,n={};p.on("keyup keypress keydown",function(q){if(q.altKey||q.ctrlKey||q.metaKey){m(n,function(r){var s=j.mac?q.metaKey:q.ctrlKey;if(r.ctrl!=s||r.alt!=q.altKey||r.shift!=q.shiftKey){return}if(q.keyCode==r.keyCode||(q.charCode&&q.charCode==r.charCode)){q.preventDefault();if(q.type=="keydown"){r.func.call(r.scope)}return true}})}});o.add=function(t,u,r,q){var s;s=r;if(typeof(r)==="string"){r=function(){p.execCommand(s,false,null)}}else{if(k.isArray(s)){r=function(){p.execCommand(s[0],s[1],s[2])}}}m(l(t.toLowerCase()),function(w){var v={func:r,scope:q||p,desc:p.translate(u),alt:false,ctrl:false,shift:false};m(l(w,"+"),function(x){switch(x){case"alt":case"ctrl":case"shift":v[x]=true;break;default:v.charCode=x.charCodeAt(0);v.keyCode=i[x]||x.toUpperCase().charCodeAt(0)}});n[(v.ctrl?"ctrl":"")+","+(v.alt?"alt":"")+","+(v.shift?"shift":"")+","+v.keyCode]=v});return true}}});h("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/AddOnManager","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/Shortcuts"],function(R,B,w,J,H,D,y,m,I,E,u,C,r,s,L,n,j,A,M,p,l,O){var z=R.DOM,N=B.ThemeManager,Q=B.PluginManager;var o=p.extend,K=p.each,q=p.explode;var P=p.inArray,i=p.trim,t=p.resolve;var G=s.Event;var k=M.gecko,F=M.ie;function x(T,S){if(S=="selectionchange"){return T.getDoc()}if(!T.inline&&/^mouse|click|contextmenu|drop/.test(S)){return T.getDoc()}return T.getBody()}function v(X,U,W){var T=this,S,V;S=T.documentBaseUrl=W.documentBaseURL;V=W.baseURI;T.settings=U=o({id:X,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:S,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,padd_empty_editor:true,render_ui:true,indentation:"30px",inline_styles:true,convert_fonts_to_spans:true,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:true,entity_encoding:"named",url_converter:T.convertURL,url_converter_scope:T,ie7_compat:true},U);B.language=U.language||"en";B.languageLoad=U.language_load;B.baseURL=W.baseURL;T.id=U.id=X;T.isNotDirty=true;T.plugins={};T.documentBaseURI=new C(U.document_base_url||S,{base_uri:V});T.baseURI=V;T.contentCSS=[];T.contentStyles=[];T.shortcuts=new O(T);T.execCommands={};T.queryStateCommands={};T.queryValueCommands={};T.loadedCSS={};T.suffix=W.suffix;T.editorManager=W;T.inline=U.inline;W.fire("SetupEditor",T);T.execCallback("setup",T)}v.prototype={render:function(){var S=this,V=S.settings,Y=S.id,X=S.suffix;function U(){z.unbind(window,"ready",U);S.render()}if(!G.domLoaded){z.bind(window,"ready",U);return}if(!S.getElement()){return}if(!M.contentEditable){return}if(!V.inline){S.orgVisibility=S.getElement().style.visibility;S.getElement().style.visibility="hidden"}else{S.inline=true}var W=S.getElement().form||z.getParent(Y,"form");if(W){S.formElement=W;if(V.hidden_input&&!/TEXTAREA|INPUT/i.test(S.getElement().nodeName)){z.insertAfter(z.create("input",{type:"hidden",name:Y}),Y);S.hasHiddenInput=true}S.formEventDelegate=function(Z){S.fire(Z.type,Z)};z.bind(W,"submit reset",S.formEventDelegate);S.on("reset",function(){S.setContent(S.startContent,{format:"raw"})});if(V.submit_patch&&!W.submit.nodeType&&!W.submit.length&&!W._mceOldSubmit){W._mceOldSubmit=W.submit;W.submit=function(){S.editorManager.triggerSave();S.isNotDirty=true;return W._mceOldSubmit(W)}}}S.windowManager=new L(S);if(V.encoding=="xml"){S.on("GetContent",function(Z){if(Z.save){Z.content=z.encode(Z.content)}})}if(V.add_form_submit_trigger){S.on("submit",function(){if(S.initialized){S.save()}})}if(V.add_unload_trigger){S._beforeUnload=function(){if(S.initialized&&!S.destroyed&&!S.isHidden()){S.save({format:"raw",no_events:true,set_dirty:false})}};S.editorManager.on("BeforeUnload",S._beforeUnload)}function T(){var aa=r.ScriptLoader;if(V.language&&V.language!="en"&&!V.language_url){V.language_url=S.editorManager.baseURL+"/langs/"+V.language+".js"}if(V.language_url){aa.add(V.language_url)}if(V.theme&&typeof V.theme!="function"&&V.theme.charAt(0)!="-"&&!N.urls[V.theme]){var Z=V.theme_url;if(Z){Z=S.documentBaseURI.toAbsolute(Z)}else{Z="themes/"+V.theme+"/theme"+X+".js"}N.load(V.theme,Z)}if(p.isArray(V.plugins)){V.plugins=V.plugins.join(" ")}K(V.external_plugins,function(ac,ab){Q.load(ab,ac);V.plugins+=" "+ab});K(V.plugins.split(/[ ,]/),function(ab){ab=i(ab);if(ab&&!Q.urls[ab]){if(ab.charAt(0)=="-"){ab=ab.substr(1,ab.length);var ac=Q.dependencies(ab);K(ac,function(ae){var ad={prefix:"plugins/",resource:ae,suffix:"/plugin"+X+".js"};ae=Q.createUrl(ad,ae);Q.load(ae.resource,ae)})}else{Q.load(ab,{prefix:"plugins/",resource:ab,suffix:"/plugin"+X+".js"})}}});aa.loadQueue(function(){if(!S.removed){S.init()}})}T()},init:function(){var Z=this,ai=Z.settings,W=Z.getElement();var X,ag,V,ac,aa,S,T,ak,af,ab,ae,U=[];Z.rtl=this.editorManager.i18n.rtl;Z.editorManager.add(Z);ai.aria_label=ai.aria_label||z.getAttrib(W,"aria-label",Z.getLang("aria.rich_text_area"));if(ai.theme){if(typeof ai.theme!="function"){ai.theme=ai.theme.replace(/-/,"");S=N.get(ai.theme);Z.theme=new S(Z,N.urls[ai.theme]);if(Z.theme.init){Z.theme.init(Z,N.urls[ai.theme]||Z.documentBaseUrl.replace(/\/$/,""))}}else{Z.theme=ai.theme}}function aj(ao){var an=Q.get(ao),am,al;am=Q.urls[ao]||Z.documentBaseUrl.replace(/\/$/,"");ao=i(ao);if(an&&P(U,ao)===-1){K(Q.dependencies(ao),function(ap){aj(ap)});al=new an(Z,am);Z.plugins[ao]=al;if(al.init){al.init(Z,am);U.push(ao)}}}K(ai.plugins.replace(/\-/g,"").split(/[ ,]/),aj);if(ai.render_ui&&Z.theme){Z.orgDisplay=W.style.display;if(typeof ai.theme!="function"){X=ai.width||W.style.width||W.offsetWidth;ag=ai.height||W.style.height||W.offsetHeight;V=ai.min_height||100;ab=/^[0-9\.]+(|px)$/i;if(ab.test(""+X)){X=Math.max(parseInt(X,10),100)}if(ab.test(""+ag)){ag=Math.max(parseInt(ag,10),V)}aa=Z.theme.renderUI({targetNode:W,width:X,height:ag,deltaWidth:ai.delta_width,deltaHeight:ai.delta_height});if(!ai.content_editable){z.setStyles(aa.sizeContainer||aa.editorContainer,{wi2dth:X,h2eight:ag});ag=(aa.iframeHeight||ag)+(typeof(ag)=="number"?(aa.deltaHeight||0):"");if(ag<V){ag=V}}}else{aa=ai.theme(Z,W);if(aa.editorContainer.nodeType){aa.editorContainer=aa.editorContainer.id=aa.editorContainer.id||Z.id+"_parent"}if(aa.iframeContainer.nodeType){aa.iframeContainer=aa.iframeContainer.id=aa.iframeContainer.id||Z.id+"_iframecontainer"}ag=aa.iframeHeight||W.offsetHeight}Z.editorContainer=aa.editorContainer}if(ai.content_css){K(q(ai.content_css),function(al){Z.contentCSS.push(Z.documentBaseURI.toAbsolute(al))})}if(ai.content_style){Z.contentStyles.push(ai.content_style)}if(ai.content_editable){W=ac=aa=null;return Z.initContentBody()}Z.iframeHTML=ai.doctype+"<html><head>";if(ai.document_base_url!=Z.documentBaseUrl){Z.iframeHTML+='<base href="'+Z.documentBaseURI.getURI()+'" />'}if(!M.caretAfter&&ai.ie7_compat){Z.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}Z.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(ae=0;ae<Z.contentCSS.length;ae++){var ad=Z.contentCSS[ae];Z.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+ad+'" />';Z.loadedCSS[ad]=true}ak=ai.body_id||"tinymce";if(ak.indexOf("=")!=-1){ak=Z.getParam("body_id","","hash");ak=ak[Z.id]||ak}af=ai.body_class||"";if(af.indexOf("=")!=-1){af=Z.getParam("body_class","","hash");af=af[Z.id]||""}Z.iframeHTML+='</head><body id="'+ak+'" class="mce-content-body '+af+'" onload="window.parent.tinymce.get(\''+Z.id+"').fire('load');\"><br></body></html>";var Y='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+Z.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname){T=Y}ac=z.add(aa.iframeContainer,"iframe",{id:Z.id+"_ifr",src:T||'javascript:""',frameBorder:"0",allowTransparency:"true",title:Z.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:ag,display:"block"}});if(F){try{Z.getDoc()}catch(ah){ac.src=T=Y}}Z.contentAreaContainer=aa.iframeContainer;if(aa.editorContainer){z.get(aa.editorContainer).style.display=Z.orgDisplay}z.get(Z.id).style.display="none";z.setAttrib(Z.id,"aria-hidden",true);if(!T){Z.initContentBody()}W=ac=aa=null},initContentBody:function(T){var U=this,V=U.settings,W=z.get(U.id),X=U.getDoc(),S,Y;if(!V.inline){U.getElement().style.visibility=U.orgVisibility}if(!T&&!V.content_editable){X.open();X.write(U.iframeHTML);X.close()}if(V.content_editable){U.on("remove",function(){var Z=this.getBody();z.removeClass(Z,"mce-content-body");z.removeClass(Z,"mce-edit-focus");z.setAttrib(Z,"contentEditable",null)});z.addClass(W,"mce-content-body");U.contentDocument=X=V.content_document||document;U.contentWindow=V.content_window||window;U.bodyElement=W;V.content_document=V.content_window=null;V.root_name=W.nodeName.toLowerCase()}S=U.getBody();S.disabled=true;if(!V.readonly){if(U.inline&&z.getStyle(S,"position",true)=="static"){S.style.position="relative"}S.contentEditable=U.getParam("content_editable_state",true)}S.disabled=false;U.schema=new n(V);U.dom=new R(X,{keep_values:true,url_converter:U.convertURL,url_converter_scope:U,hex_colors:V.force_hex_style_colors,class_filter:V.class_filter,update_styles:true,root_element:V.content_editable?U.id:null,collect:V.content_editable,schema:U.schema,onSetAttrib:function(Z){U.fire("SetAttrib",Z)}});U.parser=new j(V,U.schema);U.parser.addAttributeFilter("src,href,style,tabindex",function(Z,aa){var ab=Z.length,ad,af=U.dom,ae,ac;while(ab--){ad=Z[ab];ae=ad.attr(aa);ac="data-mce-"+aa;if(!ad.attributes.map[ac]){if(aa==="style"){ad.attr(ac,af.serializeStyle(af.parseStyle(ae),ad.name))}else{if(aa==="tabindex"){ad.attr(ac,ae);ad.attr(aa,null)}else{ad.attr(ac,U.convertURL(ae,aa,ad.name))}}}}});U.parser.addNodeFilter("script",function(Z){var aa=Z.length,ab;while(aa--){ab=Z[aa];ab.attr("type","mce-"+(ab.attr("type")||"text/javascript"))}});U.parser.addNodeFilter("#cdata",function(Z){var aa=Z.length,ab;while(aa--){ab=Z[aa];ab.type=8;ab.name="#comment";ab.value="[CDATA["+ab.value+"]]"}});U.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(aa){var ab=aa.length,ac,Z=U.schema.getNonEmptyElements();while(ab--){ac=aa[ab];if(ac.isEmpty(Z)){ac.empty().append(new w("br",1)).shortEnded=true}}});U.serializer=new J(V,U);U.selection=new D(U.dom,U.getWin(),U.serializer,U);U.formatter=new y(U);U.undoManager=new m(U);U.forceBlocks=new E(U);U.enterKey=new I(U);U.editorCommands=new u(U);U.fire("PreInit");if(!V.browser_spellcheck&&!V.gecko_spellcheck){X.body.spellcheck=false;z.setAttrib(S,"spellcheck","false")}U.fire("PostRender");U.quirks=A(U);if(V.directionality){S.dir=V.directionality}if(V.nowrap){S.style.whiteSpace="nowrap"}if(V.protect){U.on("BeforeSetContent",function(Z){K(V.protect,function(aa){Z.content=Z.content.replace(aa,function(ab){return"<!--mce:protected "+escape(ab)+"-->"})})})}U.on("SetContent",function(){U.addVisual(U.getBody())});if(V.padd_empty_editor){U.on("PostProcess",function(Z){Z.content=Z.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}U.load({initial:true,format:"html"});U.startContent=U.getContent({format:"raw"});U.initialized=true;K(U._pendingNativeEvents,function(Z){U.dom.bind(x(U,Z),Z,function(aa){U.fire(aa.type,aa)})});U.fire("init");U.focus(true);U.nodeChanged({initial:true});U.execCallback("init_instance_callback",U);if(U.contentStyles.length>0){Y="";K(U.contentStyles,function(Z){Y+=Z+"\r\n"});U.dom.addStyle(Y)}K(U.contentCSS,function(Z){if(!U.loadedCSS[Z]){U.dom.loadCSS(Z);U.loadedCSS[Z]=true}});if(V.auto_focus){setTimeout(function(){var Z=U.editorManager.get(V.auto_focus);Z.selection.select(Z.getBody(),1);Z.selection.collapse(1);Z.getBody().focus();Z.getWin().focus()},100)}W=X=S=null},focus:function(W){var V,ab=this,aa=ab.selection,X=ab.settings.content_editable,S;var Y,Z=ab.getDoc(),T;if(!W){S=aa.getRng();if(S.item){Y=S.item(0)}ab._refreshContentEditable();if(!X){if(!M.opera){ab.getBody().focus()}ab.getWin().focus()}if(k||X){T=ab.getBody();if(T.setActive){try{T.setActive()}catch(U){T.focus()}}else{T.focus()}if(X){aa.normalize()}}if(Y&&Y.ownerDocument==Z){S=Z.body.createControlRange();S.addElement(Y);S.select()}}if(ab.editorManager.activeEditor!=ab){if((V=ab.editorManager.activeEditor)){V.fire("deactivate",{relatedTarget:ab})}ab.fire("activate",{relatedTarget:V})}ab.editorManager.activeEditor=ab},execCallback:function(T){var S=this,V=S.settings[T],U;if(!V){return}if(S.callbackLookup&&(U=S.callbackLookup[T])){V=U.func;U=U.scope}if(typeof(V)==="string"){U=V.replace(/\.\w+$/,"");U=U?t(U):0;V=t(V);S.callbackLookup=S.callbackLookup||{};S.callbackLookup[T]={func:V,scope:U}}return V.apply(U||S,Array.prototype.slice.call(arguments,1))},translate:function(U){var T=this.settings.language||"en",S=this.editorManager.i18n;if(!U){return""}return S.data[T+"."+U]||U.replace(/\{\#([^\}]+)\}/g,function(W,V){return S.data[T+"."+V]||"{#"+V+"}"})},getLang:function(S,T){return(this.editorManager.i18n.data[(this.settings.language||"en")+"."+S]||(T!==g?T:"{#"+S+"}"))},getParam:function(T,W,U){var V=T in this.settings?this.settings[T]:W,S;if(U==="hash"){S={};if(typeof(V)==="string"){K(V.indexOf("=")>0?V.split(/[;,](?![^=;,]*(?:[;,]|$))/):V.split(","),function(X){X=X.split("=");if(X.length>1){S[i(X[0])]=i(X[1])}else{S[i(X[0])]=i(X)}})}else{S=V}return S}return V},nodeChanged:function(){var T=this,V=T.selection,W,U,S;if(T.initialized&&!T.settings.disable_nodechange&&!T.settings.readonly){S=T.getBody();W=V.getStart()||S;W=F&&W.ownerDocument!=T.getDoc()?T.getBody():W;if(W.nodeName=="IMG"&&V.isCollapsed()){W=W.parentNode}U=[];T.dom.getParent(W,function(X){if(X===S){return true}U.push(X)});T.fire("NodeChange",{element:W,parents:U})}},addButton:function(T,U){var S=this;if(U.cmd){U.onclick=function(){S.execCommand(U.cmd)}}if(!U.text&&!U.icon){U.icon=T}S.buttons=S.buttons||{};U.tooltip=U.tooltip||U.title;S.buttons[T]=U},addMenuItem:function(T,U){var S=this;if(U.cmd){U.onclick=function(){S.execCommand(U.cmd)}}S.menuItems=S.menuItems||{};S.menuItems[T]=U},addCommand:function(S,U,T){this.execCommands[S]={func:U,scope:T||this}},addQueryStateHandler:function(S,U,T){this.queryStateCommands[S]={func:U,scope:T||this}},addQueryValueHandler:function(S,U,T){this.queryValueCommands[S]={func:U,scope:T||this}},addShortcut:function(U,V,T,S){this.shortcuts.add(U,V,T,S)},execCommand:function(Y,X,W,T){var S=this,V=0,U;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(Y)&&(!T||!T.skip_focus)){S.focus()}T=o({},T);T=S.fire("BeforeExecCommand",{command:Y,ui:X,value:W});if(T.isDefaultPrevented()){return false}if((U=S.execCommands[Y])){if(U.func.call(U.scope,X,W)!==true){S.fire("ExecCommand",{command:Y,ui:X,value:W});return true}}K(S.plugins,function(Z){if(Z.execCommand&&Z.execCommand(Y,X,W)){S.fire("ExecCommand",{command:Y,ui:X,value:W});V=true;return false}});if(V){return V}if(S.theme&&S.theme.execCommand&&S.theme.execCommand(Y,X,W)){S.fire("ExecCommand",{command:Y,ui:X,value:W});return true}if(S.editorCommands.execCommand(Y,X,W)){S.fire("ExecCommand",{command:Y,ui:X,value:W});return true}S.getDoc().execCommand(Y,X,W);S.fire("ExecCommand",{command:Y,ui:X,value:W})},queryCommandState:function(W){var T=this,S,V;if(T._isHidden()){return}if((S=T.queryStateCommands[W])){V=S.func.call(S.scope);if(V!==true){return V}}V=T.editorCommands.queryCommandState(W);if(V!==-1){return V}try{return T.getDoc().queryCommandState(W)}catch(U){}},queryCommandValue:function(W){var T=this,S,V;if(T._isHidden()){return}if((S=T.queryValueCommands[W])){V=S.func.call(S.scope);if(V!==true){return V}}V=T.editorCommands.queryCommandValue(W);if(V!==g){return V}try{return T.getDoc().queryCommandValue(W)}catch(U){}},show:function(){var S=this;z.show(S.getContainer());z.hide(S.id);S.load();S.fire("show")},hide:function(){var S=this,T=S.getDoc();if(F&&T&&!S.inline){T.execCommand("SelectAll")}S.save();z.hide(S.getContainer());z.setStyle(S.id,"display",S.orgDisplay);S.fire("hide")},isHidden:function(){return !z.isHidden(this.id)},setProgressState:function(S,T){this.fire("ProgressState",{state:S,time:T})},load:function(T){var S=this,V=S.getElement(),U;if(V){T=T||{};T.load=true;U=S.setContent(V.value!==g?V.value:V.innerHTML,T);T.element=V;if(!T.no_events){S.fire("LoadContent",T)}T.element=V=null;return U}},save:function(T){var S=this,W=S.getElement(),U,V;if(!W||!S.initialized){return}T=T||{};T.save=true;T.element=W;U=T.content=S.getContent(T);if(!T.no_events){S.fire("SaveContent",T)}U=T.content;if(!/TEXTAREA|INPUT/i.test(W.nodeName)){if(!S.inline){W.innerHTML=U}if((V=z.getParent(S.id,"form"))){K(V.elements,function(X){if(X.name==S.id){X.value=U;return false}})}}else{W.value=U}T.element=W=null;if(T.set_dirty!==false){S.isNotDirty=true}return U},setContent:function(W,U){var T=this,S=T.getBody(),V;U=U||{};U.format=U.format||"html";U.set=true;U.content=W;if(!U.no_events){T.fire("BeforeSetContent",U)}W=U.content;if(W.length===0||/^\s+$/.test(W)){V=T.settings.forced_root_block;if(V&&T.schema.isValidChild(S.nodeName.toLowerCase(),V.toLowerCase())){W=F&&F<11?"":'<br data-mce-bogus="1">';W=T.dom.createHTML(V,T.settings.forced_root_block_attrs,W)}else{if(!F){W='<br data-mce-bogus="1">'}}S.innerHTML=W;T.fire("SetContent",U)}else{if(U.format!=="raw"){W=new H({},T.schema).serialize(T.parser.parse(W,{isRootContent:true}))}U.content=i(W);T.dom.setHTML(S,U.content);if(!U.no_events){T.fire("SetContent",U)}}return U.content},getContent:function(U){var T=this,V,S=T.getBody();U=U||{};U.format=U.format||"html";U.get=true;U.getInner=true;if(!U.no_events){T.fire("BeforeGetContent",U)}if(U.format=="raw"){V=S.innerHTML}else{if(U.format=="text"){V=S.innerText||S.textContent}else{V=T.serializer.serialize(S,U)}}if(U.format!="text"){U.content=i(V)}else{U.content=V}if(!U.no_events){T.fire("GetContent",U)}return U.content},insertContent:function(S){this.execCommand("mceInsertContent",false,S)},isDirty:function(){return !this.isNotDirty},getContainer:function(){var S=this;if(!S.container){S.container=z.get(S.editorContainer||S.id+"_parent")}return S.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return z.get(this.settings.content_element||this.id)},getWin:function(){var S=this,T;if(!S.contentWindow){T=z.get(S.id+"_ifr");if(T){S.contentWindow=T.contentWindow}}return S.contentWindow},getDoc:function(){var S=this,T;if(!S.contentDocument){T=S.getWin();if(T){S.contentDocument=T.document}}return S.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(U,T,W){var S=this,V=S.settings;if(V.urlconverter_callback){return S.execCallback("urlconverter_callback",U,W,true,T)}if(!V.convert_urls||(W&&W.nodeName=="LINK")||U.indexOf("file:")===0||U.length===0){return U}if(V.relative_urls){return S.documentBaseURI.toRelative(U)}U=S.documentBaseURI.toAbsolute(U,V.remove_script_host);return U},addVisual:function(W){var T=this,U=T.settings,V=T.dom,S;W=W||T.getBody();if(T.hasVisual===g){T.hasVisual=U.visual}K(V.select("table,a",W),function(Y){var X;switch(Y.nodeName){case"TABLE":S=U.visual_table_class||"mce-item-table";X=V.getAttrib(Y,"border");if(!X||X=="0"){if(T.hasVisual){V.addClass(Y,S)}else{V.removeClass(Y,S)}}return;case"A":if(!V.getAttrib(Y,"href",false)){X=V.getAttrib(Y,"name")||Y.id;S=U.visual_anchor_class||"mce-item-anchor";if(X){if(T.hasVisual){V.addClass(Y,S)}else{V.removeClass(Y,S)}}}return}});T.fire("VisualAid",{element:W,hasVisual:T.hasVisual})},remove:function(){var S=this;if(!S.removed){S.removed=1;S.save();if(S.hasHiddenInput){z.remove(S.getElement().nextSibling)}if(!S.inline){if(F&&F<10){S.getDoc().execCommand("SelectAll",false,null)}z.setStyle(S.id,"display",S.orgDisplay);S.getBody().onload=null;G.unbind(S.getWin());G.unbind(S.getDoc())}var T=S.getContainer();G.unbind(S.getBody());G.unbind(T);S.fire("remove");S.editorManager.remove(S);z.remove(T);S.destroy()}},bindNative:function(T){var S=this;if(S.settings.readonly){return}if(S.initialized){S.dom.bind(x(S,T),T,function(U){S.fire(T,U)})}else{if(!S._pendingNativeEvents){S._pendingNativeEvents=[T]}else{S._pendingNativeEvents.push(T)}}},unbindNative:function(T){var S=this;if(S.initialized){S.dom.unbind(T)}},destroy:function(U){var S=this,T;if(S.destroyed){return}if(!U&&!S.removed){S.remove();return}if(U&&k){G.unbind(S.getDoc());G.unbind(S.getWin());G.unbind(S.getBody())}if(!U){S.editorManager.off("beforeunload",S._beforeUnload);if(S.theme&&S.theme.destroy){S.theme.destroy()}S.selection.destroy();S.dom.destroy()}T=S.formElement;if(T){if(T._mceOldSubmit){T.submit=T._mceOldSubmit;T._mceOldSubmit=null}z.unbind(T,"submit reset",S.formEventDelegate)}S.contentAreaContainer=S.formElement=S.container=S.editorContainer=null;S.settings.content_element=S.bodyElement=S.contentDocument=S.contentWindow=null;if(S.selection){S.selection=S.selection.win=S.selection.dom=S.selection.dom.doc=null}S.destroyed=1},_refreshContentEditable:function(){var T=this,S,U;if(T._isHidden()){S=T.getBody();U=S.parentNode;U.removeChild(S);U.appendChild(S);S.focus()}},_isHidden:function(){var S;if(!k){return 0}S=this.selection.getSel();return(!S||!S.rangeCount||S.rangeCount===0)}};o(v.prototype,l);return v});h("tinymce/util/I18n",[],function(){var i={};return{rtl:false,add:function(l,j){for(var k in j){i[k]=j[k]}this.rtl=this.rtl||i._dir==="rtl"},translate:function(k){if(typeof(k)=="undefined"){return k}if(typeof(k)!="string"&&k.raw){return k.raw}if(k.push){var j=k.slice(1);k=(i[k[0]]||k[0]).replace(/\{([^\}]+)\}/g,function(m,l){return j[l]})}return i[k]||k},data:i}});h("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(n,j){var k,l,m=n.DOM;function i(v){function q(){try{return document.activeElement}catch(w){return document.body}}function u(w){if(w&&w.startContainer){return{startContainer:w.startContainer,startOffset:w.startOffset,endContainer:w.endContainer,endOffset:w.endOffset}}return w}function o(y,x){var w;if(x.startContainer){w=y.getDoc().createRange();w.setStart(x.startContainer,x.startOffset);w.setEnd(x.endContainer,x.endOffset)}else{w=x}return w}function t(w){return !!m.getParent(w,i.isEditorUIElement)}function p(y,x){var w=x.getBody();while(y){if(y==w){return true}y=y.parentNode}}function r(x){var w=x.editor;w.on("init",function(){if(w.inline||j.ie){w.on("nodechange keyup",function(){var y=document.activeElement;if(y&&y.id==w.id+"_ifr"){y=w.getBody()}if(p(y,w)){w.lastRng=w.selection.getRng()}});if(j.webkit&&!k){k=function(){var z=v.activeEditor;if(z&&z.selection){var y=z.selection.getRng();if(y&&!y.collapsed){w.lastRng=y}}};m.bind(document,"selectionchange",k)}}});w.on("setcontent",function(){w.lastRng=null});w.on("mousedown",function(){w.selection.lastFocusBookmark=null});w.on("focusin",function(){var y=v.focusedEditor;if(w.selection.lastFocusBookmark){w.selection.setRng(o(w,w.selection.lastFocusBookmark));w.selection.lastFocusBookmark=null}if(y!=w){if(y){y.fire("blur",{focusedEditor:w})}v.activeEditor=w;v.focusedEditor=w;w.fire("focus",{blurredEditor:y});w.focus(true)}w.lastRng=null});w.on("focusout",function(){window.setTimeout(function(){var y=v.focusedEditor;if(!t(q())&&y==w){w.fire("blur",{focusedEditor:null});v.focusedEditor=null;if(w.selection){w.selection.lastFocusBookmark=null}}},0)});if(!l){l=function(z){var y=v.activeEditor;if(y&&z.target.ownerDocument==document){if(y.selection){y.selection.lastFocusBookmark=u(y.lastRng)}if(!t(z.target)&&v.focusedEditor==y){y.fire("blur",{focusedEditor:null});v.focusedEditor=null}}};m.bind(document,"focusin",l)}}function s(w){if(v.focusedEditor==w.editor){v.focusedEditor=null}if(!v.activeEditor){m.unbind(document,"selectionchange",k);m.unbind(document,"focusin",l);k=l=null}}v.on("AddEditor",r);v.on("RemoveEditor",s)}i.isEditorUIElement=function(o){return o.className.toString().indexOf("mce-")!==-1};return i});h("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(l,r,u,n,i,p,j,m){var w=r.DOM;var q=i.explode,t=i.each,o=i.extend;var k=0,v;var s={majorVersion:"4",minorVersion:"0.21",releaseDate:"2014-04-01",editors:[],i18n:j,activeEditor:null,setup:function(){var A=this,C,y,D="",z;y=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(y)){y+="/"}z=window.tinymce||window.tinyMCEPreInit;if(z){C=z.base||z.baseURL;D=z.suffix}else{var x=document.getElementsByTagName("script");for(var B=0;B<x.length;B++){var E=x[B].src;if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(E)){if(E.indexOf(".min")!=-1){D=".min"}C=E.substring(0,E.lastIndexOf("/"));break}}}A.baseURL=new u(y).toAbsolute(C);A.documentBaseURL=y;A.baseURI=new u(A.baseURL);A.suffix=D;A.focusManager=new m(A)},init:function(y){var F=this,D=[],C;function B(H){var G=H.id;if(!G){G=H.name;if(G&&!w.get(G)){G=H.name}else{G=w.uniqueId()}H.setAttribute("id",G)}return G}function E(I,H){if(!F.get(I)){var G=new l(I,H,F);D.push(G);G.render()}}function x(I,J,G){var H=I[J];if(!H){return}return H.apply(G||this,Array.prototype.slice.call(arguments,2))}function A(H,G){return G.constructor===RegExp?G.test(H.className):w.hasClass(H,G)}function z(){var G,H;w.unbind(window,"ready",z);x(y,"onpageload");if(y.types){t(y.types,function(I){t(w.select(I.selector),function(J){E(B(J),o({},y,I))})});return}else{if(y.selector){t(w.select(y.selector),function(I){E(B(I),y)});return}}switch(y.mode){case"exact":G=y.elements||"";if(G.length>0){t(q(G),function(I){if(w.get(I)){C=new l(I,y,F);D.push(C);C.render()}else{t(document.forms,function(J){t(J.elements,function(K){if(K.name===I){I="mce_editor_"+k++;w.setAttrib(K,"id",I);E(I,y)}})})}})}break;case"textareas":case"specific_textareas":t(w.select("textarea"),function(I){if(y.editor_deselector&&A(I,y.editor_deselector)){return}if(!y.editor_selector||A(I,y.editor_selector)){E(B(I),y)}});break}if(y.oninit){G=H=0;t(D,function(I){H++;if(!I.initialized){I.on("init",function(){G++;if(G==H){x(y,"oninit")}})}else{G++}if(G==H){x(y,"oninit")}})}}F.settings=y;w.bind(window,"ready",z)},get:function(x){if(!arguments.length){return this.editors}return x in this.editors?this.editors[x]:null},add:function(y){var x=this,z=x.editors;z[y.id]=y;z.push(y);x.activeEditor=y;x.fire("AddEditor",{editor:y});if(!v){v=function(){x.fire("BeforeUnload")};w.bind(window,"beforeunload",v)}return y},createEditor:function(y,x){return this.add(new l(y,x,this))},remove:function(x){var y=this,z,C=y.editors,B,A;if(!x){for(z=C.length-1;z>=0;z--){y.remove(C[z])}return}if(typeof(x)=="string"){x=x.selector||x;t(w.select(x),function(D){y.remove(C[D.id])});return}B=x;if(!C[B.id]){return null}delete C[B.id];for(z=0;z<C.length;z++){if(C[z]==B){C.splice(z,1);A=true;break}}if(y.activeEditor==B){y.activeEditor=C[0]}if(A){y.fire("RemoveEditor",{editor:B})}if(!C.length){w.unbind(window,"beforeunload",v)}B.remove();return B},execCommand:function(B,A,z){var x=this,y=x.get(z);switch(B){case"mceAddEditor":if(!x.get(z)){new l(z,x.settings,x).render()}return true;case"mceRemoveEditor":if(y){y.remove()}return true;case"mceToggleEditor":if(!y){x.execCommand("mceAddEditor",0,z);return true}if(y.isHidden()){y.show()}else{y.hide()}return true}if(x.activeEditor){return x.activeEditor.execCommand(B,A,z)}return false},triggerSave:function(){t(this.editors,function(x){x.save()})},addI18n:function(y,x){j.add(y,x)},translate:function(x){return j.translate(x)}};o(s,p);s.setup();window.tinymce=window.tinyMCE=s;return s});h("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(j,i){var l=i.each,k=i.explode;j.on("AddEditor",function(n){var m=n.editor;m.on("preInit",function(){var q,t,s,p=m.settings;function o(v,u){l(u,function(x,w){if(x){s.setStyle(v,w,x)}});s.rename(v,"span")}function r(u){s=m.dom;if(p.convert_fonts_to_spans){l(s.select("font,u,strike",u.node),function(v){q[v.nodeName.toLowerCase()](s,v)})}}if(p.inline_styles){t=k(p.font_size_legacy_values);q={font:function(v,u){o(u,{backgroundColor:u.style.backgroundColor,color:u.color,fontFamily:u.face,fontSize:t[parseInt(u.size,10)-1]})},u:function(v,u){o(u,{textDecoration:"underline"})},strike:function(v,u){o(u,{textDecoration:"line-through"})}};m.on("PreProcess SetContent",r)}})})});h("tinymce/util/XHR",[],function(){return{send:function(j){var l,k=0;function i(){if(!j.async||l.readyState==4||k++>10000){if(j.success&&k<10000&&l.status==200){j.success.call(j.success_scope,""+l.responseText,l,j)}else{if(j.error){j.error.call(j.error_scope,k>10000?"TIMED_OUT":"GENERAL",l,j)}}l=null}else{setTimeout(i,10)}}j.scope=j.scope||this;j.success_scope=j.success_scope||j.scope;j.error_scope=j.error_scope||j.scope;j.async=j.async===false?false:true;j.data=j.data||"";l=new XMLHttpRequest();if(l){if(l.overrideMimeType){l.overrideMimeType(j.content_type)}l.open(j.type||(j.data?"POST":"GET"),j.url,j.async);if(j.content_type){l.setRequestHeader("Content-Type",j.content_type)}l.setRequestHeader("X-Requested-With","XMLHttpRequest");l.send(j.data);if(!j.async){return i()}setTimeout(i,10)}}}});h("tinymce/util/JSON",[],function(){function i(p,k){var n,j,m,l;k=k||'"';if(p===null){return"null"}m=typeof p;if(m=="string"){j="\bb\tt\nn\ff\rr\"\"''\\\\";return k+p.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(q,o){if(k==='"'&&q==="'"){return q}n=j.indexOf(o);if(n+1){return"\\"+j.charAt(n+1)}q=o.charCodeAt().toString(16);return"\\u"+"0000".substring(q.length)+q})+k}if(m=="object"){if(p.hasOwnProperty&&Object.prototype.toString.call(p)==="[object Array]"){for(n=0,j="[";n<p.length;n++){j+=(n>0?",":"")+i(p[n],k)}return j+"]"}j="{";for(l in p){if(p.hasOwnProperty(l)){j+=typeof p[l]!="function"?(j.length>1?","+k:k)+l+k+":"+i(p[l],k):""}}return j+"}"}return""+p}return{serialize:i,parse:function(k){try{return window[String.fromCharCode(101)+"val"]("("+k+")")}catch(j){}}}});h("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(l,k,j){var m=j.extend;function i(n){this.settings=m({},n);this.count=0}i.sendRPC=function(n){return new i().send(n)};i.prototype={send:function(p){var o=p.error,n=p.success;p=m(this.settings,p);p.success=function(r,q){r=l.parse(r);if(typeof(r)=="undefined"){r={error:"JSON Parse error."}}if(r.error){o.call(p.error_scope||p.scope,r.error,q)}else{n.call(p.success_scope||p.scope,r.result)}};p.error=function(r,q){if(o){o.call(p.error_scope||p.scope,r,q)}};p.data=l.serialize({id:p.id||"c"+(this.count++),method:p.method,params:p.params});p.content_type="application/json";k.send(p)}};return i});h("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(i){return{callbacks:{},count:0,send:function(k){var j=this,m=i.DOM,l=k.count!==g?k.count:j.count;var n="tinymce_jsonp_"+l;j.callbacks[l]=function(o){m.remove(n);delete j.callbacks[l];k.callback(o)};m.add(m.doc.body,"script",{id:n,src:k.url,type:"text/javascript"});j.count++}}});h("tinymce/util/LocalStorage",[],function(){var l,k,o,q,r,j;try{if(window.localStorage){return localStorage}}catch(n){}r="tinymce";k=document.documentElement;j=!!k.addBehavior;if(j){k.addBehavior("#default#userData")}function i(){q=[];for(var s in o){q.push(s)}l.length=q.length}function p(){var s,v,u,x=0;o={};if(!j){return}function t(y){var A,z;z=y!==g?x+y:v.indexOf(",",x);if(z===-1||z>v.length){return null}A=v.substring(x,z);x=z+1;return A}k.load(r);v=k.getAttribute(r)||"";do{var w=t();if(w===null){break}s=t(parseInt(w,32)||0);if(s!==null){w=t();if(w===null){break}u=t(parseInt(w,32)||0);if(s){o[s]=u}}}while(s!==null);i()}function m(){var v,u="";if(!j){return}for(var t in o){v=o[t];u+=(u?",":"")+t.length.toString(32)+","+t+","+v.length.toString(32)+","+v}k.setAttribute(r,u);try{k.save(r)}catch(s){}i()}l={key:function(s){return q[s]},getItem:function(s){return s in o?o[s]:null},setItem:function(s,t){o[s]=""+t;m()},removeItem:function(s){delete o[s];m()},clear:function(){o={};m()}};p();return l});h("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(m,o,n,l,j,i){var k=window.tinymce;k.DOM=m.DOM;k.ScriptLoader=n.ScriptLoader;k.PluginManager=l.PluginManager;k.ThemeManager=l.ThemeManager;k.dom=k.dom||{};k.dom.Event=o.Event;j.each(j,function(q,p){k[p]=q});j.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(p){k[p]=i[p.substr(2).toLowerCase()]});return{}});h("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(i,j){return i.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(k){this.settings=j.extend({},this.Defaults,k)},preRender:function(k){k.addClass(this.settings.containerClass,"body")},applyClasses:function(k){var m=this,p=m.settings,l,o,n;l=k.items().filter(":visible");o=p.firstControlClass;n=p.lastControlClass;l.each(function(q){q.removeClass(o).removeClass(n);if(p.controlClass){q.addClass(p.controlClass)}});l.eq(0).addClass(o);l.eq(-1).addClass(n)},renderHtml:function(k){var m=this,o=m.settings,l,n="";l=k.items();l.eq(0).addClass(o.firstControlClass);l.eq(-1).addClass(o.lastControlClass);l.each(function(p){if(o.controlClass){p.addClass(o.controlClass)}n+=p.renderHtml()});return n},recalc:function(){},postRender:function(){}})});h("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(i){return i.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(j){j.items().filter(":visible").each(function(l){var k=l.settings;l.layoutRect({x:k.x,y:k.y,w:k.w,h:k.h});if(l.recalc){l.recalc()}})},renderHtml:function(j){return'<div id="'+j._id+'-absend" class="'+j.classPrefix+'abs-end"></div>'+this._super(j)}})});h("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(j,i){return j.extend({Mixins:[i],Defaults:{classes:"widget tooltip tooltip-n"},text:function(l){var k=this;if(typeof(l)!="undefined"){k._value=l;if(k._rendered){k.getEl().lastChild.innerHTML=k.encode(l)}return k}return k._value},renderHtml:function(){var k=this,l=k.classPrefix;return('<div id="'+k._id+'" class="'+k.classes()+'" role="presentation"><div class="'+l+'tooltip-arrow"></div><div class="'+l+'tooltip-inner">'+k.encode(k._text)+"</div></div>")},repaint:function(){var k=this,l,m;l=k.getEl().style;m=k._layoutRect;l.left=m.x+"px";l.top=m.y+"px";l.zIndex=65535+65535}})});h("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(k,i){var l;var j=k.extend({init:function(n){var m=this;m._super(n);n=m.settings;m.canFocus=true;if(n.tooltip&&j.tooltips!==false){m.on("mouseenter",function(q){var p=m.tooltip().moveTo(-65535);if(q.control==m){var o=p.text(n.tooltip).show().testMoveRel(m.getEl(),["bc-tc","bc-tl","bc-tr"]);p.toggleClass("tooltip-n",o=="bc-tc");p.toggleClass("tooltip-nw",o=="bc-tl");p.toggleClass("tooltip-ne",o=="bc-tr");p.moveRel(m.getEl(),o)}else{p.hide()}});m.on("mouseleave mousedown click",function(){m.tooltip().hide()})}m.aria("label",n.ariaLabel||n.tooltip)},tooltip:function(){if(!l){l=new i({type:"tooltip"});l.renderTo()}return l},active:function(o){var m=this,n;if(o!==n){m.aria("pressed",o);m.toggleClass("active",o)}return m._super(o)},disabled:function(o){var m=this,n;if(o!==n){m.aria("disabled",o);m.toggleClass("disabled",o)}return m._super(o)},postRender:function(){var m=this,n=m.settings;m._rendered=true;m._super();if(!m.parent()&&(n.width||n.height)){m.initLayoutRect();m.repaint()}if(n.autofocus){m.focus()}},remove:function(){this._super();if(l){l.remove();l=null}}});return j});h("tinymce/ui/Button",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{classes:"widget btn",role:"button"},init:function(l){var j=this,k;j.on("click mousedown",function(m){m.preventDefault()});j._super(l);k=l.size;if(l.subtype){j.addClass(l.subtype)}if(k){j.addClass("btn-"+k)}},icon:function(m){var l=this,n=l.classPrefix;if(typeof(m)=="undefined"){return l.settings.icon}l.settings.icon=m;m=m?n+"ico "+n+"i-"+l.settings.icon:"";if(l._rendered){var j=l.getEl().firstChild,k=j.getElementsByTagName("i")[0];if(m){if(!k||k!=j.firstChild){k=document.createElement("i");j.insertBefore(k,j.firstChild)}k.className=m}else{if(k){j.removeChild(k)}}l.text(l._text)}return l},repaint:function(){var j=this.getEl().firstChild.style;j.width=j.height="100%";this._super()},text:function(l){var j=this;if(j._rendered){var k=j.getEl().lastChild.lastChild;if(k){k.data=j.translate(l)}}return j._super(l)},renderHtml:function(){var j=this,n=j._id,l=j.classPrefix;var k=j.settings.icon,m;m=j.settings.image;if(m){k="none";if(typeof m!="string"){m=window.getSelection?m[0]:m[1]}m=" style=\"background-image: url('"+m+"')\""}else{m=""}k=j.settings.icon?l+"ico "+l+"i-"+k:"";return('<div id="'+n+'" class="'+j.classes()+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+(k?'<i class="'+k+'"'+m+"></i>":"")+(j._text?(k?"\u00a0":"")+j.encode(j._text):"")+"</button></div>")}})});h("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var j=this,k=j._layout;j.addClass("btn-group");j.preRender();k.preRender(j);return('<div id="'+j._id+'" class="'+j.classes()+'"><div id="'+j._id+'-body">'+(j.settings.html||"")+k.renderHtml(j)+"</div></div>")}})});h("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(i){return i.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:false},init:function(k){var j=this;j._super(k);j.on("click mousedown",function(l){l.preventDefault()});j.on("click",function(l){l.preventDefault();if(!j.disabled()){j.checked(!j.checked())}});j.checked(j.settings.checked)},checked:function(k){var j=this;if(typeof k!="undefined"){if(k){j.addClass("checked")}else{j.removeClass("checked")}j._checked=k;j.aria("checked",k);return j}return j._checked},value:function(j){return this.checked(j)},renderHtml:function(){var j=this,l=j._id,k=j.classPrefix;return('<div id="'+l+'" class="'+j.classes()+'" unselectable="on" aria-labelledby="'+l+'-al" tabindex="-1"><i class="'+k+"ico "+k+'i-checkbox"></i><span id="'+l+'-al" class="'+k+'label">'+j.encode(j._text)+"</span></div>")}})});h("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(i,j){return i.extend({showPanel:function(){var k=this,l=k.settings;k.active(true);if(!k.panel){var m=l.panel;if(m.type){m={layout:"grid",items:m}}m.role=m.role||"dialog";m.popover=true;m.autohide=true;m.ariaRoot=true;k.panel=new j(m).on("hide",function(){k.active(false)}).on("cancel",function(n){n.stopPropagation();k.focus();k.hidePanel()}).parent(k).renderTo(k.getContainerElm());k.panel.fire("show");k.panel.reflow()}else{k.panel.show()}k.panel.moveRel(k.getEl(),l.popoverAlign||(k.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var k=this;if(k.panel){k.panel.hide()}},postRender:function(){var k=this;k.aria("haspopup",true);k.on("click",function(l){if(l.control===k){if(k.panel&&k.panel.visible()){k.hidePanel()}else{k.showPanel();k.panel.focus(!!l.aria)}}});return k._super()}})});h("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(j,i){var k=i.DOM;return j.extend({init:function(l){this._super(l);this.addClass("colorbutton")},color:function(l){if(l){this._color=l;this.getEl("preview").style.backgroundColor=l;return this}return this._color},renderHtml:function(){var l=this,p=l._id,n=l.classPrefix;var m=l.settings.icon?n+"ico "+n+"i-"+l.settings.icon:"";var o=l.settings.image?" style=\"background-image: url('"+l.settings.image+"')\"":"";return('<div id="'+p+'" class="'+l.classes()+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(m?'<i class="'+m+'"'+o+"></i>":"")+'<span id="'+p+'-preview" class="'+n+'preview"></span>'+(l._text?(m?" ":"")+(l._text):"")+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>')},postRender:function(){var l=this,m=l.settings.onclick;l.on("click",function(n){if(n.aria&&n.aria.key=="down"){return}if(n.control==l&&!k.getParent(n.target,"."+l.classPrefix+"open")){n.stopImmediatePropagation();m.call(l,n)}});delete l.settings.onclick;return l._super()}})});h("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils"],function(k,i,j){return k.extend({init:function(m){var l=this;l._super(m);l.addClass("combobox");l.subinput=true;l.ariaTarget="inp";m=l.settings;m.menu=m.menu||m.values;if(m.menu){m.icon="caret"}l.on("click",function(o){var p=o.target,n=l.getEl();while(p&&p!=n){if(p.id&&p.id.indexOf("-open")!=-1){l.fire("action");if(m.menu){l.showMenu();if(o.aria){l.menu.items()[0].focus()}}}p=p.parentNode}});l.on("keydown",function(n){if(n.target.nodeName=="INPUT"&&n.keyCode==13){l.parents().reverse().each(function(o){n.preventDefault();l.fire("change");if(o.hasEventListeners("submit")&&o.toJSON){o.fire("submit",{data:o.toJSON()});return false}})}});if(m.placeholder){l.addClass("placeholder");l.on("focusin",function(){if(!l._hasOnChange){j.on(l.getEl("inp"),"change",function(){l.fire("change")});l._hasOnChange=true}if(l.hasClass("placeholder")){l.getEl("inp").value="";l.removeClass("placeholder")}});l.on("focusout",function(){if(l.value().length===0){l.getEl("inp").value=m.placeholder;l.addClass("placeholder")}})}},showMenu:function(){var l=this,m=l.settings,n;if(!l.menu){n=m.menu||[];if(n.length){n={type:"menu",items:n}}else{n.type=n.type||"menu"}l.menu=i.create(n).parent(l).renderTo(l.getContainerElm());l.fire("createmenu");l.menu.reflow();l.menu.on("cancel",function(o){if(o.control===l.menu){l.focus()}});l.menu.on("show hide",function(o){o.control.items().each(function(p){p.active(p.value()==l.value())})}).fire("show");l.menu.on("select",function(o){l.value(o.control.value())});l.on("focusin",function(o){if(o.target.tagName.toUpperCase()=="INPUT"){l.menu.hide()}});l.aria("expanded",true)}l.menu.show();l.menu.layoutRect({w:l.layoutRect().w});l.menu.moveRel(l.getEl(),l.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(m){var l=this;if(typeof(m)!="undefined"){l._value=m;l.removeClass("placeholder");if(l._rendered){l.getEl("inp").value=m}return l}if(l._rendered){m=l.getEl("inp").value;if(m!=l.settings.placeholder){return m}return""}return l._value},disabled:function(m){var l=this;if(l._rendered&&typeof(m)!="undefined"){l.getEl("inp").disabled=m}return l._super(m)},focus:function(){this.getEl("inp").focus()},repaint:function(){var m=this,r=m.getEl(),l=m.getEl("open"),p=m.layoutRect();var o,n;if(l){o=p.w-j.getSize(l).width-10}else{o=p.w-10}var q=document;if(q.all&&(!q.documentMode||q.documentMode<=8)){n=(m.layoutRect().h-2)+"px"}j.css(r.firstChild,{width:o,lineHeight:n});m._super();return m},postRender:function(){var l=this;j.on(this.getEl("inp"),"change",function(){l.fire("change")});return l._super()},remove:function(){j.off(this.getEl("inp"));this._super()},renderHtml:function(){var t=this,l=t._id,m=t.settings,n=t.classPrefix;var q=m.value||m.placeholder||"";var p,s,o="",r="";if("spellcheck" in m){r+=' spellcheck="'+m.spellcheck+'"'}if(m.maxLength){r+=' maxlength="'+m.maxLength+'"'}if(m.size){r+=' size="'+m.size+'"'}if(m.subtype){r+=' type="'+m.subtype+'"'}if(t.disabled()){r+=' disabled="disabled"'}p=m.icon;if(p&&p!="caret"){p=n+"ico "+n+"i-"+m.icon}s=t._text;if(p||s){o=('<div id="'+l+'-open" class="'+n+"btn "+n+'open" tabIndex="-1" role="button"><button id="'+l+'-action" type="button" hidefocus="1" tabindex="-1">'+(p!="caret"?'<i class="'+p+'"></i>':'<i class="'+n+'caret"></i>')+(s?(p?" ":"")+s:"")+"</button></div>");t.addClass("has-open")}return('<div id="'+l+'" class="'+t.classes()+'"><input id="'+l+'-inp" class="'+n+"textbox "+n+'placeholder" value="'+q+'" hidefocus="1"'+r+" />"+o+"</div>")}})});h("tinymce/ui/Path",["tinymce/ui/Widget"],function(i){return i.extend({init:function(k){var j=this;if(!k.delimiter){k.delimiter="\u00BB"}j._super(k);j.addClass("path");j.canFocus=true;j.on("click",function(n){var l,m=n.target;if((l=m.getAttribute("data-index"))){j.fire("select",{value:j.data()[l],index:l})}})},focus:function(){var j=this;j.getEl().firstChild.focus();return j},data:function(k){var j=this;if(typeof(k)!=="undefined"){j._data=k;j.update();return j}return j._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var j=this;j._super();j.data(j.settings.data)},renderHtml:function(){var j=this;return('<div id="'+j._id+'" class="'+j.classes()+'">'+j._getPathHtml()+"</div>")},_getPathHtml:function(){var k=this,p=k._data||[],n,j,m="",o=k.classPrefix;for(n=0,j=p.length;n<j;n++){m+=((n>0?'<div class="'+o+'divider" aria-hidden="true"> '+k.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(n==j-1?" "+o+"last":"")+'" data-index="'+n+'" tabindex="-1" id="'+k._id+"-"+n+'" aria-level="'+n+'">'+p[n].name+"</div>")}if(!m){m='<div class="'+o+'path-item">\u00a0</div>'}return m}})});h("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(j,i){return j.extend({postRender:function(){var k=this,m=i.activeEditor;function l(n){if(n.nodeType===1){if(n.nodeName=="BR"||!!n.getAttribute("data-mce-bogus")){return true}if(n.getAttribute("data-mce-type")==="bookmark"){return true}}return false}k.on("select",function(q){var o=[],p,n=m.getBody();m.focus();p=m.selection.getStart();while(p&&p!=n){if(!l(p)){o.push(p)}p=p.parentNode}m.selection.select(o[o.length-1-q.index]);m.nodeChanged()});m.on("nodeChange",function(r){var p=[],n=r.parents,q=n.length;while(q--){if(n[q].nodeType==1&&!l(n[q])){var o=m.fire("ResolveName",{name:n[q].nodeName.toLowerCase(),target:n[q]});p.push({name:o.name})}}k.data(p)});return k._super()}})});h("tinymce/ui/FormItem",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var j=this,k=j._layout,l=j.classPrefix;j.addClass("formitem");k.preRender(j);return('<div id="'+j._id+'" class="'+j.classes()+'" hidefocus="1" tabindex="-1">'+(j.settings.title?('<div id="'+j._id+'-title" class="'+l+'title">'+j.settings.title+"</div>"):"")+'<div id="'+j._id+'-body" class="'+j.classes("body")+'">'+(j.settings.html||"")+k.renderHtml(j)+"</div></div>")}})});h("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem"],function(i,j){return i.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var l=this,k=l.items();k.each(function(o){var n,m=o.settings.label;if(m){n=new j({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",id:o._id+"-l",text:m,flex:0,forId:o._id,disabled:o.disabled()}]});n.type="formitem";o.aria("labelledby",o._id+"-l");if(typeof(o.settings.flex)=="undefined"){o.settings.flex=1}l.replace(o,n);n.add(o)}})},recalcLabels:function(){var k=this,n=0,o=[],l,m;if(k.settings.labelGapCalc===false){return}k.items().filter("formitem").each(function(r){var q=r.items()[0],p=q.getEl().clientWidth;n=p>n?p:n;o.push(q)});m=k.settings.labelGap||0;l=o.length;while(l--){o[l].settings.minWidth=n+m}},visible:function(k){var l=this._super(k);if(k===true&&this._rendered){this.recalcLabels()}return l},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var k=this;k._super();k.recalcLabels();k.fromJSON(k.settings.data)}})});h("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(i){return i.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var j=this,k=j._layout,l=j.classPrefix;j.preRender();k.preRender(j);return('<fieldset id="'+j._id+'" class="'+j.classes()+'" hidefocus="1" tabindex="-1">'+(j.settings.title?('<legend id="'+j._id+'-title" class="'+l+'fieldset-title">'+j.settings.title+"</legend>"):"")+'<div id="'+j._id+'-body" class="'+j.classes("body")+'">'+(j.settings.html||"")+k.renderHtml(j)+"</div></fieldset>")}})});h("tinymce/ui/FilePicker",["tinymce/ui/ComboBox"],function(i){return i.extend({init:function(l){var j=this,k=tinymce.activeEditor,m;l.spellcheck=false;m=k.settings.file_browser_callback;if(m){l.icon="browse";l.onaction=function(){m(j.getEl("inp").id,j.getEl("inp").value,l.filetype,window)}}j._super(l)}})});h("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(k){var j=k.layoutRect(),l=k.paddingBox();k.items().filter(":visible").each(function(m){m.layoutRect({x:l.left,y:l.top,w:j.innerW-l.right-l.left,h:j.innerH-l.top-l.bottom});if(m.recalc){m.recalc()}})}})});h("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(L){var X,S,y,V,t,B,R,w,m,Y,n,u;var T,k,o,q,s=[],r,E,P,I,J,W;var O,D,v,p,aa,M,x,N;var F,j,C,Q,H,U;var K,G;var z=Math.max,Z=Math.min;y=L.items().filter(":visible");V=L.layoutRect();t=L._paddingBox;B=L.settings;u=L.isRtl()?(B.direction||"row-reversed"):B.direction;R=B.align;w=L.isRtl()?(B.pack||"end"):B.pack;m=B.spacing||0;if(u=="row-reversed"||u=="column-reverse"){y=y.set(y.toArray().reverse());u=u.split("-")[0]}if(u=="column"){v="y";O="h";D="minH";p="maxH";M="innerH";aa="top";x="deltaH";N="contentH";H="left";C="w";F="x";j="innerW";Q="minW";U="right";K="deltaW";G="contentW"}else{v="x";O="w";D="minW";p="maxW";M="innerW";aa="left";x="deltaW";N="contentW";H="top";C="h";F="y";j="innerH";Q="minH";U="bottom";K="deltaH";G="contentH"}n=V[M]-t[aa]-t[aa];W=Y=0;for(X=0,S=y.length;X<S;X++){T=y[X];k=T.layoutRect();o=T.settings;q=o.flex;n-=(X<S-1?m:0);if(q>0){Y+=q;if(k[p]){s.push(T)}k.flex=q}n-=k[D];r=t[H]+k[Q]+t[U];if(r>W){W=r}}I={};if(n<0){I[D]=V[D]-n+V[x]}else{I[D]=V[M]-n+V[x]}I[Q]=W+V[K];I[N]=V[M]-n;I[G]=W;I.minW=Z(I.minW,V.maxW);I.minH=Z(I.minH,V.maxH);I.minW=z(I.minW,V.startMinWidth);I.minH=z(I.minH,V.startMinHeight);if(V.autoResize&&(I.minW!=V.minW||I.minH!=V.minH)){I.w=I.minW;I.h=I.minH;L.layoutRect(I);this.recalc(L);if(L._lastRect===null){var A=L.parent();if(A){A._lastRect=null;A.recalc()}}return}P=n/Y;for(X=0,S=s.length;X<S;X++){T=s[X];k=T.layoutRect();E=k[p];r=k[D]+k.flex*P;if(r>E){n-=(k[p]-k[D]);Y-=k.flex;k.flex=0;k.maxFlexSize=E}else{k.maxFlexSize=0}}P=n/Y;J=t[aa];I={};if(Y===0){if(w=="end"){J=n+t[aa]}else{if(w=="center"){J=Math.round((V[M]/2)-((V[M]-n)/2))+t[aa];if(J<0){J=t[aa]}}else{if(w=="justify"){J=t[aa];m=Math.floor(n/(y.length-1))}}}}I[F]=t[H];for(X=0,S=y.length;X<S;X++){T=y[X];k=T.layoutRect();r=k.maxFlexSize||k[D];if(R==="center"){I[F]=Math.round((V[j]/2)-(k[C]/2))}else{if(R==="stretch"){I[C]=z(k[Q]||0,V[j]-t[H]-t[U]);I[F]=t[H]}else{if(R==="end"){I[F]=V[j]-k[C]-t.top}}}if(k.flex>0){r+=k.flex*P}I[O]=r;I[v]=J;T.layoutRect(I);if(T.recalc){T.recalc()}J+=r+m}}})});h("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(i){return i.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(j){j.items().filter(":visible").each(function(k){if(k.recalc){k.recalc()}})}})});h("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(n,m,p,j,l,i){var o=j.each;l.on("AddEditor",function(q){if(q.editor.rtl){n.rtl=true}k(q.editor)});n.translate=function(q){return l.translate(q)};m.tooltips=!i.iOS;function k(u){var x;function r(B,C){return function(){var D=this;u.on("nodeChange",function(G){var E=u.formatter;var F=null;o(G.parents,function(H){o(B,function(I){if(C){if(E.matchNode(H,C,{value:I.value})){F=I.value}}else{if(E.matchNode(H,I.value)){F=I.value}}if(F){return false}});if(F){return false}});D.value(F)})}}function v(B){B=B.split(";");var C=B.length;while(C--){B[C]=B[C].split("=")}return B}function s(){var F=0,E=[];var D=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function B(G){var H=[];if(!G){return}o(G,function(K){var J={text:K.title,icon:K.icon};if(K.items){J.menu=B(K.items)}else{var I=K.format||"custom"+F++;if(!K.format){K.name=I;E.push(K)}J.format=I}H.push(J)});return H}function C(){var G;if(u.settings.style_formats_merge){if(u.settings.style_formats){G=B(D.concat(u.settings.style_formats))}else{G=B(D)}}else{G=B(u.settings.style_formats||D)}return G}u.on("init",function(){o(E,function(G){u.formatter.register(G.name,G)})});return{type:"menu",items:C(),onPostRender:function(G){u.fire("renderFormatsMenu",{control:G.control})},itemDefaults:{preview:true,textStyle:function(){if(this.settings.format){return u.formatter.getCssText(this.settings.format)}},onPostRender:function(){var G=this,H=this.settings.format;if(H){G.parent().on("show",function(){G.disabled(!u.formatter.canApply(H));G.active(u.formatter.match(H))})}},onclick:function(){if(this.settings.format){y(this.settings.format)}}}}}x=s();o({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(C,B){u.addButton(B,{tooltip:C,onPostRender:function(){var D=this;if(u.formatter){u.formatter.formatChanged(B,function(E){D.active(E)})}else{u.on("init",function(){u.formatter.formatChanged(B,function(E){D.active(E)})})}},onclick:function(){y(B)}})});o({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(C,B){u.addButton(B,{tooltip:C[0],cmd:C[1]})});o({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(C,B){u.addButton(B,{tooltip:C[0],cmd:C[1],onPostRender:function(){var D=this;if(u.formatter){u.formatter.formatChanged(B,function(E){D.active(E)})}else{u.on("init",function(){u.formatter.formatChanged(B,function(E){D.active(E)})})}}})});function t(){return u.undoManager?u.undoManager.hasUndo():false}function q(){return u.undoManager?u.undoManager.hasRedo():false}function w(){var B=this;B.disabled(!t());u.on("Undo Redo AddUndo TypingUndo",function(){B.disabled(!t())})}function A(){var B=this;B.disabled(!q());u.on("Undo Redo AddUndo TypingUndo",function(){B.disabled(!q())})}function z(){var B=this;u.on("VisualAid",function(C){B.active(C.hasVisual)});B.active(u.hasVisual)}u.addButton("undo",{tooltip:"Undo",onPostRender:w,cmd:"undo"});u.addButton("redo",{tooltip:"Redo",onPostRender:A,cmd:"redo"});u.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"});u.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:w,cmd:"undo"});u.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:A,cmd:"redo"});u.addMenuItem("visualaid",{text:"Visual aids",selectable:true,onPostRender:z,cmd:"mceToggleVisualAid"});o({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(C,B){u.addMenuItem(B,{text:C[0],icon:B,shortcut:C[2],cmd:C[1]})});u.on("mousedown",function(){p.hideAll()});function y(B){if(B.control){B=B.control.value()}if(B){u.execCommand("mceToggleFormat",false,B)}}u.addButton("styleselect",{type:"menubutton",text:"Formats",menu:x});u.addButton("formatselect",function(){var B=[],C=v(u.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6");o(C,function(D){B.push({text:D[0],value:D[1],textStyle:function(){return u.formatter.getCssText(D[1])}})});return{type:"listbox",text:C[0][0],values:B,fixedWidth:true,onselect:y,onPostRender:r(B)}});u.addButton("fontselect",function(){var C="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats";var B=[],D=v(u.settings.font_formats||C);o(D,function(E){B.push({text:{raw:E[0]},value:E[1],textStyle:E[1].indexOf("dings")==-1?"font-family:"+E[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:B,fixedWidth:true,onPostRender:r(B,"fontname"),onselect:function(E){if(E.control.settings.value){u.execCommand("FontName",false,E.control.settings.value)}}}});u.addButton("fontsizeselect",function(){var B=[],D="8pt 10pt 12pt 14pt 18pt 24pt 36pt";var C=u.settings.fontsize_formats||D;o(C.split(" "),function(E){B.push({text:E,value:E})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:B,fixedWidth:true,onPostRender:r(B,"fontsize"),onclick:function(E){if(E.control.settings.value){u.execCommand("FontSize",false,E.control.settings.value)}}}});u.addMenuItem("formats",{text:"Formats",menu:x})}});h("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(i){return i.extend({recalc:function(A){var N=A.settings,v,z,C,H,E,B,k,K,u,w,t,r,q,o,D,J,n,Q,T,F,P,M,S=[],O=[],s,L,j,m;N=A.settings;C=A.items().filter(":visible");H=A.layoutRect();z=N.columns||Math.ceil(Math.sqrt(C.length));v=Math.ceil(C.length/z);n=N.spacingH||N.spacing||0;Q=N.spacingV||N.spacing||0;T=N.alignH||N.align;F=N.alignV||N.align;D=A._paddingBox;if(T&&typeof(T)=="string"){T=[T]}if(F&&typeof(F)=="string"){F=[F]}for(w=0;w<z;w++){S.push(0)}for(t=0;t<v;t++){O.push(0)}for(t=0;t<v;t++){for(w=0;w<z;w++){u=C[t*z+w];if(!u){break}K=u.layoutRect();s=K.minW;L=K.minH;S[w]=s>S[w]?s:S[w];O[t]=L>O[t]?L:O[t]}}j=H.innerW-D.left-D.right;for(P=0,w=0;w<z;w++){P+=S[w]+(w>0?n:0);j-=(w>0?n:0)+S[w]}m=H.innerH-D.top-D.bottom;for(M=0,t=0;t<v;t++){M+=O[t]+(t>0?Q:0);m-=(t>0?Q:0)+O[t]}P+=D.left+D.right;M+=D.top+D.bottom;k={};k.minW=P+(H.w-H.innerW);k.minH=M+(H.h-H.innerH);k.contentW=k.minW-H.deltaW;k.contentH=k.minH-H.deltaH;k.minW=Math.min(k.minW,H.maxW);k.minH=Math.min(k.minH,H.maxH);k.minW=Math.max(k.minW,H.startMinWidth);k.minH=Math.max(k.minH,H.startMinHeight);if(H.autoResize&&(k.minW!=H.minW||k.minH!=H.minH)){k.w=k.minW;k.h=k.minH;A.layoutRect(k);this.recalc(A);if(A._lastRect===null){var l=A.parent();if(l){l._lastRect=null;l.recalc()}}return}if(H.autoResize){k=A.layoutRect(k);k.contentW=k.minW-H.deltaW;k.contentH=k.minH-H.deltaH}var R;if(N.packV=="start"){R=0}else{R=m>0?Math.floor(m/v):0}var G=0;var I=N.flexWidths;if(I){for(w=0;w<I.length;w++){G+=I[w]}}else{G=z}var p=j/G;for(w=0;w<z;w++){S[w]+=I?I[w]*p:p}q=D.top;for(t=0;t<v;t++){r=D.left;B=O[t]+R;for(w=0;w<z;w++){u=C[t*z+w];if(!u){break}o=u.settings;K=u.layoutRect();E=Math.max(S[w],K.startMinWidth);K.x=r;K.y=q;J=o.alignH||(T?(T[w]||T[0]):null);if(J=="center"){K.x=r+(E/2)-(K.w/2)}else{if(J=="right"){K.x=r+E-K.w}else{if(J=="stretch"){K.w=E}}}J=o.alignV||(F?(F[w]||F[0]):null);if(J=="center"){K.y=q+(B/2)-(K.h/2)}else{if(J=="bottom"){K.y=q+B-K.h}else{if(J=="stretch"){K.h=B}}}u.layoutRect(K);r+=E+n;if(u.recalc){u.recalc()}}q+=B+Q}}})});h("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(i){return i.extend({renderHtml:function(){var j=this;j.addClass("iframe");j.canFocus=false;return('<iframe id="'+j._id+'" class="'+j.classes()+'" tabindex="-1" src="'+(j.settings.url||"javascript:''")+'" frameborder="0"></iframe>')},src:function(j){this.getEl().src=j},html:function(l,m){var k=this,j=this.getEl().contentWindow.document.body;if(!j){setTimeout(function(){k.html(l)},0)}else{j.innerHTML=l;if(m){m()}}return this}})});h("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(j,i){return j.extend({init:function(l){var k=this;k._super(l);k.addClass("widget");k.addClass("label");k.canFocus=false;if(l.multiline){k.addClass("autoscroll")}if(l.strong){k.addClass("strong")}},initLayoutRect:function(){var k=this,m=k._super();if(k.settings.multiline){var l=i.getSize(k.getEl());if(l.width>m.maxW){m.minW=m.maxW;k.addClass("multiline")}k.getEl().style.width=m.minW+"px";m.startMinH=m.h=m.minH=Math.min(m.maxH,i.getSize(k.getEl()).height)}return m},repaint:function(){var k=this;if(!k.settings.multiline){k.getEl().style.lineHeight=k.layoutRect().h+"px"}return k._super()},text:function(l){var k=this;if(k._rendered&&l){this.innerHtml(k.encode(l))}return k._super(l)},renderHtml:function(){var l=this,k=l.settings.forId;return('<label id="'+l._id+'" class="'+l.classes()+'"'+(k?' for="'+k+'"':"")+">"+l.encode(l._text)+"</label>")}})});h("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(i){return i.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(k){var j=this;j._super(k);j.addClass("toolbar")},postRender:function(){var j=this;j.items().addClass("toolbar-item");return j._super()}})});h("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(i){return i.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:true,defaults:{type:"menubutton"}}})});h("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(l,j,k){function i(o,n){while(o){if(n===o){return true}o=o.parentNode}return false}var m=l.extend({init:function(o){var n=this;n._renderOpen=true;n._super(o);n.addClass("menubtn");if(o.fixedWidth){n.addClass("fixed-width")}n.aria("haspopup",true);n.hasPopup=true},showMenu:function(){var n=this,o=n.settings,p;if(n.menu&&n.menu.visible()){return n.hideMenu()}if(!n.menu){p=o.menu||[];if(p.length){p={type:"menu",items:p}}else{p.type=p.type||"menu"}n.menu=j.create(p).parent(n).renderTo();n.fire("createmenu");n.menu.reflow();n.menu.on("cancel",function(q){if(q.control.parent()===n.menu){q.stopPropagation();n.focus();n.hideMenu()}});n.menu.on("select",function(){n.focus()});n.menu.on("show hide",function(q){if(q.control==n.menu){n.activeMenu(q.type=="show")}n.aria("expanded",q.type=="show")}).fire("show")}n.menu.show();n.menu.layoutRect({w:n.layoutRect().w});n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){var n=this;if(n.menu){n.menu.items().each(function(o){if(o.hideMenu){o.hideMenu()}});n.menu.hide()}},activeMenu:function(n){this.toggleClass("active",n)},renderHtml:function(){var n=this,q=n._id,p=n.classPrefix;var o=n.settings.icon?p+"ico "+p+"i-"+n.settings.icon:"";n.aria("role",n.parent() instanceof k?"menuitem":"button");return('<div id="'+q+'" class="'+n.classes()+'" tabindex="-1" aria-labelledby="'+q+'"><button id="'+q+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"></i>':"")+"<span>"+(n._text?(o?"\u00a0":"")+n.encode(n._text):"")+'</span> <i class="'+p+'caret"></i></button></div>')},postRender:function(){var n=this;n.on("click",function(o){if(o.control===n&&i(o.target,n.getEl())){n.showMenu();if(o.aria){n.menu.items()[0].focus()}}});n.on("mouseenter",function(r){var o=r.control,q=n.parent(),p;if(o&&q&&o instanceof m&&o.parent()==q){q.items().filter("MenuButton").each(function(s){if(s.hideMenu&&s!=o){if(s.menu&&s.menu.visible()){p=true}s.hideMenu()}});if(p){o.focus();o.showMenu()}}});return n._super()},text:function(q){var n=this,p,o;if(n._rendered){o=n.getEl("open").getElementsByTagName("span");for(p=0;p<o.length;p++){o[p].innerHTML=(n.settings.icon&&q?"\u00a0":"")+n.encode(q)}}return this._super(q)},remove:function(){this._super();if(this.menu){this.menu.remove()}}});return m});h("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(i){return i.extend({init:function(o){var l=this,k,m,n,p,j;l._values=k=o.values;if(k){for(m=0;m<k.length;m++){n=k[m].selected||o.value===k[m].value;if(n){p=p||k[m].text;l._value=k[m].value;break}}if(!n&&k.length>0){p=k[0].text;l._value=k[0].value}o.menu=k}o.text=o.text||p||k[0].text;l._super(o);l.addClass("listbox");l.on("select",function(r){var q=r.control;if(j){r.lastControl=j}if(o.multiple){q.active(!q.active())}else{l.value(r.control.settings.value)}j=q})},value:function(l){var j=this,m,p,o,k;function n(r,q){r.items().each(function(s){m=s.value()===q;if(m){p=p||s.text()}s.active(m);if(s.menu){n(s.menu,q)}})}if(typeof(l)!="undefined"){if(j.menu){n(j.menu,l)}else{o=j.settings.menu;for(k=0;k<o.length;k++){m=o[k].value==l;if(m){p=p||o[k].text}o[k].active=m}}j.text(p||this.settings.text)}return j._super(l)}})});h("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(k,i,j){return k.extend({Defaults:{border:0,role:"menuitem"},init:function(m){var l=this;l.hasPopup=true;l._super(m);m=l.settings;l.addClass("menu-item");if(m.menu){l.addClass("menu-item-expand")}if(m.preview){l.addClass("menu-item-preview")}if(l._text==="-"||l._text==="|"){l.addClass("menu-item-sep");l.aria("role","separator");l._text="-"}if(m.selectable){l.aria("role","menuitemcheckbox");l.addClass("menu-item-checkbox");m.icon="selected"}if(!m.preview&&!m.selectable){l.addClass("menu-item-normal")}l.on("mousedown",function(n){n.preventDefault()});if(m.menu&&!m.ariaHideMenu){l.aria("haspopup",true)}},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var m=this,o=m.settings,p,n=m.parent();n.items().each(function(q){if(q!==m){q.hideMenu()}});if(o.menu){p=m.menu;if(!p){p=o.menu;if(p.length){p={type:"menu",items:p}}else{p.type=p.type||"menu"}if(n.settings.itemDefaults){p.itemDefaults=n.settings.itemDefaults}p=m.menu=i.create(p).parent(m).renderTo();p.reflow();p.fire("show");p.on("cancel",function(q){q.stopPropagation();m.focus();p.hide()});p.on("hide",function(q){if(q.control===p){m.removeClass("selected")}});p.submenu=true}else{p.show()}p._parentMenu=n;p.addClass("menu-sub");var l=p.testMoveRel(m.getEl(),m.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);p.moveRel(m.getEl(),l);p.rel=l;l="menu-sub-"+l;p.removeClass(p._lastRel);p.addClass(l);p._lastRel=l;m.addClass("selected");m.aria("expanded",true)}},hideMenu:function(){var l=this;if(l.menu){l.menu.items().each(function(m){if(m.hideMenu){m.hideMenu()}});l.menu.hide();l.aria("expanded",false)}return l},renderHtml:function(){var m=this,s=m._id,o=m.settings,p=m.classPrefix,r=m.encode(m._text);var n=m.settings.icon,q="",l=o.shortcut;if(n){m.parent().addClass("menu-has-icons")}if(o.image){n="none";q=" style=\"background-image: url('"+o.image+"')\""}if(l&&j.mac){l=l.replace(/ctrl\+alt\+/i,"&#x2325;&#x2318;");l=l.replace(/ctrl\+/i,"&#x2318;");l=l.replace(/alt\+/i,"&#x2325;");l=l.replace(/shift\+/i,"&#x21E7;")}n=p+"ico "+p+"i-"+(m.settings.icon||"none");return('<div id="'+s+'" class="'+m.classes()+'" tabindex="-1">'+(r!=="-"?'<i class="'+n+'"'+q+"></i>\u00a0":"")+(r!=="-"?'<span id="'+s+'-text" class="'+p+'text">'+r+"</span>":"")+(l?'<div id="'+s+'-shortcut" class="'+p+'menu-shortcut">'+l+"</div>":"")+(o.menu?'<div class="'+p+'caret"></div>':"")+"</div>")},postRender:function(){var m=this,n=m.settings;var o=n.textStyle;if(typeof(o)=="function"){o=o.call(this)}if(o){var l=m.getEl("text");if(l){l.setAttribute("style",o)}}m.on("mouseenter click",function(p){if(p.control===m){if(!n.menu&&p.type==="click"){m.fire("select");m.parent().hideAll()}else{m.showMenu();if(p.aria){m.menu.focus(true)}}}});m._super();return m},active:function(l){if(typeof(l)!="undefined"){this.aria("checked",l)}return this._super(l)},remove:function(){this._super();if(this.menu){this.menu.remove()}}})});h("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(l,k,i){var j=l.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:true},init:function(p){var n=this;p.autohide=true;p.constrainToViewport=true;if(p.itemDefaults){var m=p.items,o=m.length;while(o--){m[o]=i.extend({},p.itemDefaults,m[o])}}n._super(p);n.addClass("menu")},repaint:function(){this.toggleClass("menu-align",true);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){var m=this;m.hideAll();m.fire("select")},hideAll:function(){var m=this;this.find("menuitem").exec("hideMenu");return m._super()},preRender:function(){var m=this;m.items().each(function(o){var n=o.settings;if(n.icon||n.selectable){m._hasIcons=true;return false}});return m._super()}});return j});h("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(i){return i.extend({Defaults:{classes:"radio",role:"radio"}})});h("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(j,i){return j.extend({renderHtml:function(){var k=this,l=k.classPrefix;k.addClass("resizehandle");if(k.settings.direction=="both"){k.addClass("resizehandle-both")}k.canFocus=false;return('<div id="'+k._id+'" class="'+k.classes()+'"><i class="'+l+"ico "+l+'i-resize"></i></div>')},postRender:function(){var k=this;k._super();k.resizeDragHelper=new i(this._id,{start:function(){k.fire("ResizeStart")},drag:function(l){if(k.settings.direction!="both"){l.deltaX=0}k.fire("Resize",l)},stop:function(){k.fire("ResizeEnd")}})},remove:function(){if(this.resizeDragHelper){this.resizeDragHelper.destroy()}return this._super()}})});h("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(i){return i.extend({renderHtml:function(){var j=this;j.addClass("spacer");j.canFocus=false;return'<div id="'+j._id+'" class="'+j.classes()+'"></div>'}})});h("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils"],function(j,i){return j.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var k=this,o=k.getEl(),m=k.layoutRect(),l,n;k._super();l=o.firstChild;n=o.lastChild;i.css(l,{width:m.w-i.getSize(n).width,height:m.h-2});i.css(n,{height:m.h-2});return k},activeMenu:function(l){var k=this;i.toggleClass(k.getEl().lastChild,k.classPrefix+"active",l)},renderHtml:function(){var k=this,n=k._id,m=k.classPrefix;var l=k.settings.icon?m+"ico "+m+"i-"+k.settings.icon:"";return('<div id="'+n+'" class="'+k.classes()+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(l?'<i class="'+l+'"></i>':"")+(k._text?(l?" ":"")+k._text:"")+'</button><button type="button" class="'+m+'open" hidefocus="1" tabindex="-1">'+(k._menuBtnText?(l?"\u00a0":"")+k._menuBtnText:"")+' <i class="'+m+'caret"></i></button></div>')},postRender:function(){var k=this,l=k.settings.onclick;k.on("click",function(n){var m=n.target;if(n.control==this){while(m){if((n.aria&&n.aria.key!="down")||(m.nodeName=="BUTTON"&&m.className.indexOf("open")==-1)){n.stopImmediatePropagation();l.call(this,n);return}m=m.parentNode}}});delete k.settings.onclick;return k._super()}})});h("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(i){return i.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})});h("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(j,i){return j.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(k){var l;if(this.activeTabId){l=this.getEl(this.activeTabId);i.removeClass(l,this.classPrefix+"active");l.setAttribute("aria-selected","false")}this.activeTabId="t"+k;l=this.getEl("t"+k);l.setAttribute("aria-selected","true");i.addClass(l,this.classPrefix+"active");if(k!=this.lastIdx){this.items()[this.lastIdx].hide();this.lastIdx=k}this.items()[k].show().fire("showtab");this.reflow()},renderHtml:function(){var l=this,m=l._layout,k="",n=l.classPrefix;l.preRender();m.preRender(l);l.items().each(function(p,o){var q=l._id+"-t"+o;p.aria("role","tabpanel");p.aria("labelledby",q);k+=('<div id="'+q+'" class="'+n+'tab" unselectable="on" role="tab" aria-controls="'+p._id+'" aria-selected="false" tabIndex="-1">'+l.encode(p.settings.title)+"</div>")});return('<div id="'+l._id+'" class="'+l.classes()+'" hidefocus="1" tabindex="-1"><div id="'+l._id+'-head" class="'+n+'tabs" role="tablist">'+k+'</div><div id="'+l._id+'-body" class="'+l.classes("body")+'">'+m.renderHtml(l)+"</div></div>")},postRender:function(){var k=this;k._super();k.settings.activeTab=k.settings.activeTab||0;k.activateTab(k.settings.activeTab);this.on("click",function(n){var m=n.target.parentNode;if(n.target.parentNode.id==k._id+"-head"){var l=m.childNodes.length;while(l--){if(m.childNodes[l]==n.target){k.activateTab(l)}}}})},initLayoutRect:function(){var l=this,o,k,n;k=i.getSize(l.getEl("head")).width;k=k<0?0:k;n=0;l.items().each(function(q,p){k=Math.max(k,q.layoutRect().minW);n=Math.max(n,q.layoutRect().minH);if(l.settings.activeTab!=p){q.hide()}});l.items().each(function(p){p.settings.x=0;p.settings.y=0;p.settings.w=k;p.settings.h=n;p.layoutRect({x:0,y:0,w:k,h:n})});var m=i.getSize(l.getEl("head")).height;l.settings.minWidth=k;l.settings.minHeight=n+m;o=l._super();o.deltaH+=m;o.innerH=o.h-o.deltaH;return o}})});h("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(j,i){return j.extend({init:function(l){var k=this;k._super(l);k._value=l.value||"";k.addClass("textbox");if(l.multiline){k.addClass("multiline")}else{k.on("keydown",function(m){if(m.keyCode==13){k.parents().reverse().each(function(n){m.preventDefault();if(n.hasEventListeners("submit")&&n.toJSON){n.fire("submit",{data:n.toJSON()});return false}})}})}},disabled:function(l){var k=this;if(k._rendered&&typeof(l)!="undefined"){k.getEl().disabled=l}return k._super(l)},value:function(l){var k=this;if(typeof(l)!="undefined"){k._value=l;if(k._rendered){k.getEl().value=l}return k}if(k._rendered){return k.getEl().value}return k._value},repaint:function(){var l=this,n,o,r,m=0,p=0,k;n=l.getEl().style;o=l._layoutRect;k=l._lastRepaintRect||{};var q=document;if(!l.settings.multiline&&q.all&&(!q.documentMode||q.documentMode<=8)){n.lineHeight=(o.h-p)+"px"}r=l._borderBox;m=r.left+r.right+8;p=r.top+r.bottom+(l.settings.multiline?8:0);if(o.x!==k.x){n.left=o.x+"px";k.x=o.x}if(o.y!==k.y){n.top=o.y+"px";k.y=o.y}if(o.w!==k.w){n.width=(o.w-m)+"px";k.w=o.w}if(o.h!==k.h){n.height=(o.h-p)+"px";k.h=o.h}l._lastRepaintRect=k;l.fire("repaint",{},false);return l},renderHtml:function(){var k=this,o=k._id,l=k.settings,n=k.encode(k._value,false),m="";if("spellcheck" in l){m+=' spellcheck="'+l.spellcheck+'"'}if(l.maxLength){m+=' maxlength="'+l.maxLength+'"'}if(l.size){m+=' size="'+l.size+'"'}if(l.subtype){m+=' type="'+l.subtype+'"'}if(k.disabled()){m+=' disabled="disabled"'}if(l.multiline){return('<textarea id="'+o+'" class="'+k.classes()+'" '+(l.rows?' rows="'+l.rows+'"':"")+' hidefocus="1"'+m+">"+n+"</textarea>")}return'<input id="'+o+'" class="'+k.classes()+'" value="'+n+'" hidefocus="1"'+m+" />"},postRender:function(){var k=this;i.on(k.getEl(),"change",function(l){k.fire("change",l)});return k._super()},remove:function(){i.off(this.getEl());this._super()}})});h("tinymce/ui/Throbber",["tinymce/ui/DomUtils","tinymce/ui/Control"],function(i,j){return function(o,n){var l=this,m,k=j.classPrefix;l.show=function(p){l.hide();m=true;window.setTimeout(function(){if(m){o.appendChild(i.createFragment('<div class="'+k+"throbber"+(n?" "+k+"throbber-inline":"")+'"></div>'))}},p||0);return l};l.hide=function(){var p=o.lastChild;if(p&&p.className.indexOf("throbber")!=-1){p.parentNode.removeChild(p)}m=false;return l}}});a(["tinymce/dom/Sizzle","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/util/Tools","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/dom/StyleSheetLoader","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/dom/TridentSelection","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/Selection","tinymce/fmt/Preview","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/util/Quirks","tinymce/util/Observable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/LegacyInput","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/ui/ComboBox","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/ListBox","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])})(this);