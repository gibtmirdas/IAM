tinymce.PluginManager.add("directionality",function(b){function c(g){var d,h=b.dom,f=b.selection.getSelectedBlocks();f.length&&(d=h.getAttrib(f[0],"dir"),tinymce.each(f,function(e){h.getParent(e.parentNode,"*[dir='"+g+"']",h.getRoot())||(d!=g?h.setAttrib(e,"dir",g):h.setAttrib(e,"dir",null))}),b.nodeChanged())}function a(d){var f=[];return tinymce.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(e){f.push(e+"[dir="+d+"]")}),f.join(",")}b.addCommand("mceDirectionLTR",function(){c("ltr")}),b.addCommand("mceDirectionRTL",function(){c("rtl")}),b.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:a("ltr")}),b.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:a("rtl")})});