tinymce.ThemeManager.add("modern",function(x){function C(){function c(f){var e,h=[];if(f){return y(f.split(/[ ,]/),function(i){function m(){var o=x.selection;"bullist"==l&&o.selectorChanged("ul > li",function(s,u){for(var r,t=u.parents.length;t--&&(r=u.parents[t].nodeName,"OL"!=r&&"UL"!=r);){}i.active(s&&"UL"==r)}),"numlist"==l&&o.selectorChanged("ol > li",function(s,u){for(var r,t=u.parents.length;t--&&(r=u.parents[t].nodeName,"OL"!=r&&"UL"!=r);){}i.active(s&&"OL"==r)}),i.settings.stateSelector&&o.selectorChanged(i.settings.stateSelector,function(n){i.active(n)},!0),i.settings.disabledStateSelector&&o.selectorChanged(i.settings.disabledStateSelector,function(n){i.disabled(n)})}var l;"|"==i?e=null:z.has(i)?(i={type:i},B.toolbar_items_size&&(i.size=B.toolbar_items_size),h.push(i),e=null):(e||(e={type:"buttongroup",items:[]},h.push(e)),x.buttons[i]&&(l=i,i=x.buttons[l],"function"==typeof i&&(i=i()),i.type=i.type||"button",B.toolbar_items_size&&(i.size=B.toolbar_items_size),i=z.create(i),e.items.push(i),x.initialized?m():x.on("init",m)))}),d.push({type:"toolbar",layout:"flow",items:h}),!0}}var d=[];if(tinymce.isArray(B.toolbar)){if(0===B.toolbar.length){return}tinymce.each(B.toolbar,function(h,f){B["toolbar"+(f+1)]=h}),delete B.toolbar}for(var a=1;10>a&&c(B["toolbar"+a]);a++){}return d.length||B.toolbar===!1||c(B.toolbar||w),d.length?{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:d}:void 0}function j(){function f(a){var i;return"|"==a?{text:"|"}:i=x.menuItems[a]}function E(K){var G,J,I,F,H;if(H=tinymce.makeMap((B.removed_menuitems||"").split(/[ ,]/)),B.menu?(J=B.menu[K],F=!0):J=v[K],J){G={text:J.title},I=[],y((J.items||"").split(/[ ,]/),function(a){var i=f(a);i&&!H[a]&&I.push(f(a))}),F||y(x.menuItems,function(a){a.context==K&&("before"==a.separator&&I.push({text:"|"}),a.prependToContext?I.unshift(a):I.push(a),"after"==a.separator&&I.push({text:"|"}))});for(var t=0;t<I.length;t++){"|"==I[t].text&&(0===t||t==I.length-1)&&I.splice(t,1)}if(G.menu=I,!G.menu.length){return null}}return G}var e,u=[],m=[];if(B.menu){for(e in B.menu){m.push(e)}}else{for(e in v){m.push(e)}}for(var d="string"==typeof B.menubar?B.menubar.split(/[ ,]/):m,h=0;h<d.length;h++){var c=d[h];c=E(c),c&&u.push(c)}return u}function q(a){function c(d){var f=a.find(d)[0];f&&f.focus(!0)}x.shortcuts.add("Alt+F9","",function(){c("menubar")}),x.shortcuts.add("Alt+F10","",function(){c("toolbar")}),x.shortcuts.add("Alt+F11","",function(){c("elementpath")}),a.on("cancel",function(){x.focus()})}function g(e,m){function d(a){return{width:a.clientWidth,height:a.clientHeight}}var l,h,c,f;l=x.getContainer(),h=x.getContentAreaContainer().firstChild,c=d(l),f=d(h),null!==e&&(e=Math.max(B.min_width||100,e),e=Math.min(B.max_width||65535,e),k.css(l,"width",e+(c.width-f.width)),k.css(h,"width",e)),m=Math.max(B.min_height||100,m),m=Math.min(B.max_height||65535,m),k.css(h,"height",m),x.fire("ResizeEditor")}function b(c,d){var a=x.getContentAreaContainer();p.resizeTo(a.clientWidth+c,a.clientHeight+d)}function A(t){function l(){if(e&&e.moveRel&&e.visible()&&!e._fixed){var h=x.selection.getScrollContainer(),E=x.getBody(),f=0,u=0;if(h){var s=k.getPos(E),d=k.getPos(h);f=Math.max(0,d.x-s.x),u=Math.max(0,d.y-s.y)}e.fixed(!1).moveRel(E,x.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl"]).moveBy(f,u)}}function c(){e&&(e.show(),l(),k.addClass(x.getBody(),"mce-edit-focus"))}function i(){e&&(e.hide(),k.removeClass(x.getBody(),"mce-edit-focus"))}function n(){return e?void (e.visible()||c()):(e=p.panel=z.create({type:m?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!m,border:1,items:[B.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:j()},C()]}),x.fire("BeforeRenderUI"),e.renderTo(m||document.body).reflow(),q(e),c(),x.on("nodeChange",l),x.on("activate",c),x.on("deactivate",i),void x.nodeChanged())}var e,m;return B.fixed_toolbar_container&&(m=k.select(B.fixed_toolbar_container)[0]),B.content_editable=!0,x.on("focus",function(){t.skinUiCss?tinymce.DOM.styleSheetLoader.load(t.skinUiCss,n,n):n()}),x.on("blur",i),x.on("remove",function(){e&&(e.remove(),e=null)}),t.skinUiCss&&tinymce.DOM.styleSheetLoader.load(t.skinUiCss),{}}function D(f){var c,e,h;return f.skinUiCss&&tinymce.DOM.loadCSS(f.skinUiCss),c=p.panel=z.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[B.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:j()},C(),{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]}),B.resize!==!1&&(e={type:"resizehandle",direction:B.resize,onResizeStart:function(){var a=x.getContentAreaContainer().firstChild;h={width:a.clientWidth,height:a.clientHeight}},onResize:function(a){"both"==B.resize?g(h.width+a.deltaX,h.height+a.deltaY):g(null,h.height+a.deltaY)}}),B.statusbar!==!1&&c.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath"},e]}),B.readonly&&c.find("*").disabled(!0),x.fire("BeforeRenderUI"),c.renderBefore(f.targetNode).reflow(),B.width&&tinymce.DOM.setStyle(c.getEl(),"width",B.width),x.on("remove",function(){c.remove(),c=null}),q(c),{iframeContainer:c.find("#iframe")[0].getEl(),editorContainer:c.getEl()}}var p=this,B=x.settings,z=tinymce.ui.Factory,y=tinymce.each,k=tinymce.DOM,v={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},w="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";p.renderUI=function(c){var d=B.skin!==!1?B.skin||"lightgray":!1;if(d){var a=B.skin_url;a=a?x.documentBaseURI.toAbsolute(a):tinymce.baseURL+"/skins/"+d,c.skinUiCss=tinymce.Env.documentMode<=7?a+"/skin.ie7.min.css":a+"/skin.min.css",x.contentCSS.push(a+"/content"+(x.inline?".inline":"")+".min.css")}return x.on("ProgressState",function(f){p.throbber=p.throbber||new tinymce.ui.Throbber(p.panel.getEl("body")),f.state?p.throbber.show(f.time):p.throbber.hide()}),B.inline?A(c):D(c)},p.resizeTo=g,p.resizeBy=b});