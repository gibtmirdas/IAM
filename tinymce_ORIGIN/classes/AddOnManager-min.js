define("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(d,a){var c=a.each;function b(){var e=this;e.items=[];e.urls={};e.lookup={}}b.prototype={get:function(e){if(this.lookup[e]){return this.lookup[e].instance}else{return undefined}},dependencies:function(f){var e;if(this.lookup[f]){e=this.lookup[f].dependencies}return e||[]},requireLangPack:function(e,f){if(b.language&&b.languageLoad!==false){if(f&&new RegExp("([, ]|\\b)"+b.language+"([, ]|\\b)").test(f)===false){return}d.ScriptLoader.add(this.urls[e]+"/langs/"+b.language+".js")}},add:function(g,e,f){this.items.push(e);this.lookup[g]={instance:e,dependencies:f};return e},createUrl:function(e,f){if(typeof f==="object"){return f}else{return{prefix:e.prefix,resource:f,suffix:e.suffix}}},addComponents:function(g,e){var f=this.urls[g];c(e,function(h){d.ScriptLoader.add(f+"/"+h)})},load:function(g,i,k,h){var e=this,f=i;function j(){var l=e.dependencies(g);c(l,function(n){var m=e.createUrl(i,n);e.load(m.resource,m,undefined,undefined)});if(k){if(h){k.call(h)}else{k.call(d)}}}if(e.urls[g]){return}if(typeof i==="object"){f=i.prefix+i.resource+i.suffix}if(f.indexOf("/")!==0&&f.indexOf("://")==-1){f=b.baseURL+"/"+f}e.urls[g]=f.substring(0,f.lastIndexOf("/"));if(e.lookup[g]){j()}else{d.ScriptLoader.add(f,j,h)}}};b.PluginManager=new b();b.ThemeManager=new b();return b});